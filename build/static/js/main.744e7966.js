/*! For license information please see main.744e7966.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var a=n(853),s=n(43),r=n(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(l(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),b=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function L(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case x:return"Portal";case b:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:L(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return L(e(t))}catch(n){}}return null}var F=Array.isArray,R=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},M=[],z=-1;function U(e){return{current:e}}function _(e){0>z||(e.current=M[z],M[z]=null,z--)}function q(e,t){z++,M[z]=e.current,e.current=t}var V,B,H=U(null),W=U(null),$=U(null),J=U(null);function X(e,t){switch(q($,t),q(W,e),q(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=gu(t=vu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_(H),q(H,e)}function G(){_(H),_(W),_($)}function Q(e){null!==e.memoizedState&&q(J,e);var t=H.current,n=gu(t,e.type);t!==n&&(q(W,e),q(H,n))}function K(e){W.current===e&&(_(H),_(W)),J.current===e&&(_(J),dh._currentValue=I)}function Y(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",B=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+V+e+B}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var a=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(r){a=r}e.call(n.prototype)}}else{try{throw Error()}catch(l){a=l}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&a&&"string"===typeof i.stack)return[i.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=a.DetermineComponentFrameRoot(),l=r[0],i=r[1];if(l&&i){var o=l.split("\n"),c=i.split("\n");for(s=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(a===o.length||s===c.length)for(a=o.length-1,s=c.length-1;1<=a&&0<=s&&o[a]!==c[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==c[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==c[s]){var d="\n"+o[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=a&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Y(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Y(e.type);case 16:return Y("Lazy");case 13:return e.child!==t&&null!==t?Y("Suspense Fallback"):Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Y("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}var ae=Object.prototype.hasOwnProperty,se=a.unstable_scheduleCallback,re=a.unstable_cancelCallback,le=a.unstable_shouldYield,ie=a.unstable_requestPaint,oe=a.unstable_now,ce=a.unstable_getCurrentPriorityLevel,de=a.unstable_ImmediatePriority,ue=a.unstable_UserBlockingPriority,he=a.unstable_NormalPriority,me=a.unstable_LowPriority,pe=a.unstable_IdlePriority,fe=a.log,xe=a.unstable_setDisableYieldValue,ve=null,ge=null;function ye(e){if("function"===typeof fe&&xe(e),ge&&"function"===typeof ge.setStrictMode)try{ge.setStrictMode(ve,e)}catch(t){}}var je=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(be(e)/Ne|0)|0},be=Math.log,Ne=Math.LN2;var we=256,Se=262144,ke=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var s=0,r=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var i=134217727&a;return 0!==i?0!==(a=i&~r)?s=Ce(a):0!==(l&=i)?s=Ce(l):n||0!==(n=i&~e)&&(s=Ce(n)):0!==(i=a&~r)?s=Ce(i):0!==l?s=Ce(l):n||0!==(n=a&~e)&&(s=Ce(n)),0===s?0:0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(n=t&-t)||32===r&&0!==(4194048&n))?t:s}function Ee(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function De(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Te(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Le(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-je(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|261930&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-je(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Ie(n))&(e.suspendedLanes|t))?0:n}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function Ue(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var _e=Math.random().toString(36).slice(2),qe="__reactFiber$"+_e,Ve="__reactProps$"+_e,Be="__reactContainer$"+_e,He="__reactEvents$"+_e,We="__reactListeners$"+_e,$e="__reactHandles$"+_e,Je="__reactResources$"+_e,Xe="__reactMarker$"+_e;function Ge(e){delete e[qe],delete e[Ve],delete e[He],delete e[We],delete e[$e]}function Qe(e){var t=e[qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[qe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Iu(e);null!==e;){if(n=e[qe])return n;e=Iu(e)}return t}n=(e=n).parentNode}return null}function Ke(e){if(e=e[qe]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ze(e){var t=e[Je];return t||(t=e[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Xe]=!0}var tt=new Set,nt={};function at(e,t){st(e,t),st(e+"Capture",t)}function st(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},it={};function ot(e,t,n){if(s=t,ae.call(it,s)||!ae.call(lt,s)&&(rt.test(s)?it[s]=!0:(lt[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var s=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ht(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var xt=/[\n"\\]/g;function vt(e){return e.replace(xt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,a,s,r,l,i){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?jt(e,l,ut(t)):null!=n?jt(e,l,ut(n)):null!=a&&e.removeAttribute("value"),null==s&&null!=r&&(e.defaultChecked=!!r),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ut(i):e.removeAttribute("name")}function yt(e,t,n,a,s,r,l,i){if(null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&"boolean"!==typeof r&&(e.type=r),null!=t||null!=n){if(!("submit"!==r&&"reset"!==r||void 0!==t&&null!==t))return void mt(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,i||t===e.value||(e.value=t),e.defaultValue=t}a="function"!==typeof(a=null!=a?a:s)&&"symbol"!==typeof a&&!!a,e.checked=i?e.checked:!!a,e.defaultChecked=!!a,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l),mt(e)}function jt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(a&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,a){if(null==t){if(null!=a){if(null!=n)throw Error(l(92));if(F(a)){if(1<a.length)throw Error(l(93));a=a[0]}n=a}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(a=e.textContent)===n&&""!==a&&null!==a&&(e.value=a),mt(e)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var a in n)!n.hasOwnProperty(a)||null!=t&&t.hasOwnProperty(a)||(0===a.indexOf("--")?e.setProperty(a,""):"float"===a?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&n[s]!==a&&Ct(e,s,a)}else for(var r in t)t.hasOwnProperty(r)&&Ct(e,r,t[r])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Lt(){}var Ft=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,It=null;function Mt(e){var t=Ke(e);if(t&&(e=t.stateNode)){var n=e[Ve]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=a[Ve]||null;if(!s)throw Error(l(90));gt(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(a=n[t]).form===e.form&&pt(a)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var zt=!1;function Ut(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Ot||null!==It)&&(Zc(),Ot&&(t=Ot,e=It,It=Ot=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function _t(e,t){var n=e.stateNode;if(null===n)return null;var a=n[Ve]||null;if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var qt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Vt=!1;if(qt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Kh){Vt=!1}var Ht=null,Wt=null,$t=null;function Jt(){if($t)return $t;var e,t,n=Wt,a=n.length,s="value"in Ht?Ht.value:Ht.textContent,r=s.length;for(e=0;e<a&&n[e]===s[e];e++);var l=a-e;for(t=1;t<=l&&n[a-t]===s[r-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function Xt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Qt(){return!1}function Kt(e){function t(t,n,a,s,r){for(var l in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Gt:Qt,this.isPropagationStopped=Qt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Yt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Kt(tn),an=m({},tn,{view:0,detail:0}),sn=Kt(an),rn=m({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Yt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Yt=0,en=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),ln=Kt(rn),on=Kt(m({},rn,{dataTransfer:0})),cn=Kt(m({},an,{relatedTarget:0})),dn=Kt(m({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Kt(m({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Kt(m({},tn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function vn(){return xn}var gn=Kt(m({},an,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Xt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Xt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Xt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Kt(m({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=Kt(m({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),bn=Kt(m({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=Kt(m({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Kt(m({},tn,{newState:0,oldState:0})),Sn=[9,13,27,32],kn=qt&&"CompositionEvent"in window,Cn=null;qt&&"documentMode"in document&&(Cn=document.documentMode);var An=qt&&"TextEvent"in window&&!Cn,En=qt&&(!kn||Cn&&8<Cn&&11>=Cn),Pn=String.fromCharCode(32),Dn=!1;function Tn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function In(e,t,n,a){Ot?It?It.push(a):It=[a]:Ot=a,0<(t=au(t,"onChange")).length&&(n=new nn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Mn=null,zn=null;function Un(e){Gd(e,0)}function _n(e){if(pt(Ye(e)))return e}function qn(e,t){if("change"===e)return t}var Vn=!1;if(qt){var Bn;if(qt){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"===typeof Wn.oninput}Bn=Hn}else Bn=!1;Vn=Bn&&(!document.documentMode||9<document.documentMode)}function $n(){Mn&&(Mn.detachEvent("onpropertychange",Jn),zn=Mn=null)}function Jn(e){if("value"===e.propertyName&&_n(zn)){var t=[];In(t,zn,e,Rt(e)),Ut(Un,t)}}function Xn(e,t,n){"focusin"===e?($n(),zn=n,(Mn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&$n()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _n(zn)}function Qn(e,t){if("click"===e)return _n(t)}function Kn(e,t){if("input"===e||"change"===e)return _n(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!ae.call(t,s)||!Yn(e[s],t[s]))return!1}return!0}function ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,t){var n,a=ea(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ea(a)}}function na(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?na(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function aa(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function sa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ra=qt&&"documentMode"in document&&11>=document.documentMode,la=null,ia=null,oa=null,ca=!1;function da(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ca||null==la||la!==ft(a)||("selectionStart"in(a=la)&&sa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},oa&&Zn(oa,a)||(oa=a,0<(a=au(ia,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=la)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ha={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},ma={},pa={};function fa(e){if(ma[e])return ma[e];if(!ha[e])return e;var t,n=ha[e];for(t in n)if(n.hasOwnProperty(t)&&t in pa)return ma[e]=n[t];return e}qt&&(pa=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);var xa=fa("animationend"),va=fa("animationiteration"),ga=fa("animationstart"),ya=fa("transitionrun"),ja=fa("transitionstart"),ba=fa("transitioncancel"),Na=fa("transitionend"),wa=new Map,Sa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(e,t){wa.set(e,t),at(t,[e])}Sa.push("scrollEnd");var Ca="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Aa=[],Ea=0,Pa=0;function Da(){for(var e=Ea,t=Pa=Ea=0;t<e;){var n=Aa[t];Aa[t++]=null;var a=Aa[t];Aa[t++]=null;var s=Aa[t];Aa[t++]=null;var r=Aa[t];if(Aa[t++]=null,null!==a&&null!==s){var l=a.pending;null===l?s.next=s:(s.next=l.next,l.next=s),a.pending=s}0!==r&&Ra(n,s,r)}}function Ta(e,t,n,a){Aa[Ea++]=e,Aa[Ea++]=t,Aa[Ea++]=n,Aa[Ea++]=a,Pa|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function La(e,t,n,a){return Ta(e,t,n,a),Oa(e)}function Fa(e,t){return Ta(e,null,null,t),Oa(e)}function Ra(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var s=!1,r=e.return;null!==r;)r.childLanes|=n,null!==(a=r.alternate)&&(a.childLanes|=n),22===r.tag&&(null===(e=r.stateNode)||1&e._visibility||(s=!0)),e=r,r=r.return;return 3===e.tag?(r=e.stateNode,s&&null!==t&&(s=31-je(n),null===(a=(e=r.hiddenUpdates)[s])?e[s]=[t]:a.push(t),t.lane=536870912|n),r):null}function Oa(e){if(50<Hc)throw Hc=0,Wc=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ia={};function Ma(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(e,t,n,a){return new Ma(e,t,n,a)}function Ua(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _a(e,t){var n=e.alternate;return null===n?((n=za(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qa(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Va(e,t,n,a,s,r){var i=0;if(a=e,"function"===typeof e)Ua(e)&&(i=1);else if("string"===typeof e)i=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=za(31,n,t,s)).elementType=A,e.lanes=r,e;case v:return Ba(n.children,s,r,t);case g:i=8,s|=24;break;case y:return(e=za(12,n,t,2|s)).elementType=y,e.lanes=r,e;case w:return(e=za(13,n,t,s)).elementType=w,e.lanes=r,e;case S:return(e=za(19,n,t,s)).elementType=S,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:i=10;break e;case j:i=9;break e;case N:i=11;break e;case k:i=14;break e;case C:i=16,a=null;break e}i=29,n=Error(l(130,null===e?"null":typeof e,"")),a=null}return(t=za(i,n,t,s)).elementType=e,t.type=a,t.lanes=r,t}function Ba(e,t,n,a){return(e=za(7,e,a,t)).lanes=n,e}function Ha(e,t,n){return(e=za(6,e,null,t)).lanes=n,e}function Wa(e){var t=za(18,null,null,0);return t.stateNode=e,t}function $a(e,t,n){return(t=za(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ja=new WeakMap;function Xa(e,t){if("object"===typeof e&&null!==e){var n=Ja.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Ja.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Ga=[],Qa=0,Ka=null,Ya=0,Za=[],es=0,ts=null,ns=1,as="";function ss(e,t){Ga[Qa++]=Ya,Ga[Qa++]=Ka,Ka=e,Ya=t}function rs(e,t,n){Za[es++]=ns,Za[es++]=as,Za[es++]=ts,ts=e;var a=ns;e=as;var s=32-je(a)-1;a&=~(1<<s),n+=1;var r=32-je(t)+s;if(30<r){var l=s-s%5;r=(a&(1<<l)-1).toString(32),a>>=l,s-=l,ns=1<<32-je(t)+s|n<<s|a,as=r+e}else ns=1<<r|n<<s|a,as=e}function ls(e){null!==e.return&&(ss(e,1),rs(e,1,0))}function is(e){for(;e===Ka;)Ka=Ga[--Qa],Ga[Qa]=null,Ya=Ga[--Qa],Ga[Qa]=null;for(;e===ts;)ts=Za[--es],Za[es]=null,as=Za[--es],Za[es]=null,ns=Za[--es],Za[es]=null}function os(e,t){Za[es++]=ns,Za[es++]=as,Za[es++]=ts,ns=t.id,as=t.overflow,ts=e}var cs=null,ds=null,us=!1,hs=null,ms=!1,ps=Error(l(519));function fs(e){throw bs(Xa(Error(l(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),ps}function xs(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[qe]=e,t[Ve]=a,n){case"dialog":Qd("cancel",t),Qd("close",t);break;case"iframe":case"object":case"embed":Qd("load",t);break;case"video":case"audio":for(n=0;n<Jd.length;n++)Qd(Jd[n],t);break;case"source":Qd("error",t);break;case"img":case"image":case"link":Qd("error",t),Qd("load",t);break;case"details":Qd("toggle",t);break;case"input":Qd("invalid",t),yt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Qd("invalid",t);break;case"textarea":Qd("invalid",t),wt(t,a.value,a.defaultValue,a.children)}"string"!==typeof(n=a.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||cu(t.textContent,n)?(null!=a.popover&&(Qd("beforetoggle",t),Qd("toggle",t)),null!=a.onScroll&&Qd("scroll",t),null!=a.onScrollEnd&&Qd("scrollend",t),null!=a.onClick&&(t.onclick=Lt),t=!0):t=!1,t||fs(e,!0)}function vs(e){for(cs=e.return;cs;)switch(cs.tag){case 5:case 31:case 13:return void(ms=!1);case 27:case 3:return void(ms=!0);default:cs=cs.return}}function gs(e){if(e!==cs)return!1;if(!us)return vs(e),us=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||yu(e.type,e.memoizedProps)),t=!t),t&&ds&&fs(e),vs(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));ds=Ou(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));ds=Ou(e)}else 27===n?(n=ds,Cu(e.type)?(e=Ru,Ru=null,ds=e):ds=n):ds=cs?Fu(e.stateNode.nextSibling):null;return!0}function ys(){ds=cs=null,us=!1}function js(){var e=hs;return null!==e&&(null===Dc?Dc=e:Dc.push.apply(Dc,e),hs=null),e}function bs(e){null===hs?hs=[e]:hs.push(e)}var Ns=U(null),ws=null,Ss=null;function ks(e,t,n){q(Ns,t._currentValue),t._currentValue=n}function Cs(e){e._currentValue=Ns.current,_(Ns)}function As(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Es(e,t,n,a){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var r=s.dependencies;if(null!==r){var i=s.child;r=r.firstContext;e:for(;null!==r;){var o=r;r=s;for(var c=0;c<t.length;c++)if(o.context===t[c]){r.lanes|=n,null!==(o=r.alternate)&&(o.lanes|=n),As(r.return,n,e),a||(i=null);break e}r=o.next}}else if(18===s.tag){if(null===(i=s.return))throw Error(l(341));i.lanes|=n,null!==(r=i.alternate)&&(r.lanes|=n),As(i,n,e),i=null}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===e){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}}function Ps(e,t,n,a){e=null;for(var s=t,r=!1;null!==s;){if(!r)if(0!==(524288&s.flags))r=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var i=s.alternate;if(null===i)throw Error(l(387));if(null!==(i=i.memoizedProps)){var o=s.type;Yn(s.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(s===J.current){if(null===(i=s.alternate))throw Error(l(387));i.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}s=s.return}null!==e&&Es(t,e,n,a),t.flags|=262144}function Ds(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ts(e){ws=e,Ss=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ls(e){return Rs(ws,e)}function Fs(e,t){return null===ws&&Ts(e),Rs(e,t)}function Rs(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ss){if(null===e)throw Error(l(308));Ss=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ss=Ss.next=t;return n}var Os="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Is=a.unstable_scheduleCallback,Ms=a.unstable_NormalPriority,zs={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Us(){return{controller:new Os,data:new Map,refCount:0}}function _s(e){e.refCount--,0===e.refCount&&Is(Ms,function(){e.controller.abort()})}var qs=null,Vs=0,Bs=0,Hs=null;function Ws(){if(0===--Vs&&null!==qs){null!==Hs&&(Hs.status="fulfilled");var e=qs;qs=null,Bs=0,Hs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var $s=R.S;R.S=function(e,t){Fc=oe(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qs){var n=qs=[];Vs=0,Bs=Vd(),Hs={status:"pending",value:void 0,then:function(e){n.push(e)}}}Vs++,t.then(Ws,Ws)}(0,t),null!==$s&&$s(e,t)};var Js=U(null);function Xs(){var e=Js.current;return null!==e?e:pc.pooledCache}function Gs(e,t){q(Js,null===t?Js.current:t.pool)}function Qs(){var e=Xs();return null===e?null:{parent:zs._currentValue,pool:e}}var Ks=Error(l(460)),Ys=Error(l(474)),Zs=Error(l(542)),er={then:function(){}};function tr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function nr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Lt,Lt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw lr(e=t.reason),e;default:if("string"===typeof t.status)t.then(Lt,Lt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw lr(e=t.reason),e}throw sr=t,Ks}}function ar(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw sr=t,Ks;throw t}}var sr=null;function rr(){if(null===sr)throw Error(l(459));var e=sr;return sr=null,e}function lr(e){if(e===Ks||e===Zs)throw Error(l(483))}var ir=null,or=0;function cr(e){var t=or;return or+=1,null===ir&&(ir=[]),nr(ir,e,t)}function dr(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ur(e,t){if(t.$$typeof===p)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hr(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=_a(e,t)).index=0,e.sibling=null,e}function r(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Ha(n,e.mode,a)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===v?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===C&&ar(r)===t.type)?(dr(t=s(t,n.props),n),t.return=e,t):(dr(t=Va(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$a(n,e.mode,a)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,a,r){return null===t||7!==t.tag?((t=Ba(n,e.mode,a,r)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ha(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return dr(n=Va(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case x:return(t=$a(t,e.mode,n)).return=e,t;case C:return h(e,t=ar(t),n)}if(F(t)||D(t))return(t=Ba(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,cr(t),n);if(t.$$typeof===b)return h(e,Fs(e,t),n);ur(e,t)}return null}function m(e,t,n,a){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===s?c(e,t,n,a):null;case x:return n.key===s?d(e,t,n,a):null;case C:return m(e,t,n=ar(n),a)}if(F(n)||D(n))return null!==s?null:u(e,t,n,a,null);if("function"===typeof n.then)return m(e,t,cr(n),a);if(n.$$typeof===b)return m(e,t,Fs(e,n),a);ur(e,n)}return null}function p(e,t,n,a,s){if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return o(t,e=e.get(n)||null,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case f:return c(t,e=e.get(null===a.key?n:a.key)||null,a,s);case x:return d(t,e=e.get(null===a.key?n:a.key)||null,a,s);case C:return p(e,t,n,a=ar(a),s)}if(F(a)||D(a))return u(t,e=e.get(n)||null,a,s,null);if("function"===typeof a.then)return p(e,t,n,cr(a),s);if(a.$$typeof===b)return p(e,t,n,Fs(t,a),s);ur(t,a)}return null}function g(o,c,d,u){if("object"===typeof d&&null!==d&&d.type===v&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===v){if(7===c.tag){n(o,c.sibling),(u=s(c,d.props.children)).return=o,o=u;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===C&&ar(y)===c.type){n(o,c.sibling),dr(u=s(c,d.props),d),u.return=o,o=u;break e}n(o,c);break}t(o,c),c=c.sibling}d.type===v?((u=Ba(d.props.children,o.mode,u,d.key)).return=o,o=u):(dr(u=Va(d.type,d.key,d.props,null,o.mode,u),d),u.return=o,o=u)}return i(o);case x:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(o,c.sibling),(u=s(c,d.children||[])).return=o,o=u;break e}n(o,c);break}t(o,c),c=c.sibling}(u=$a(d,o.mode,u)).return=o,o=u}return i(o);case C:return g(o,c,d=ar(d),u)}if(F(d))return function(s,l,i,o){for(var c=null,d=null,u=l,f=l=0,x=null;null!==u&&f<i.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var v=m(s,u,i[f],o);if(null===v){null===u&&(u=x);break}e&&u&&null===v.alternate&&t(s,u),l=r(v,l,f),null===d?c=v:d.sibling=v,d=v,u=x}if(f===i.length)return n(s,u),us&&ss(s,f),c;if(null===u){for(;f<i.length;f++)null!==(u=h(s,i[f],o))&&(l=r(u,l,f),null===d?c=u:d.sibling=u,d=u);return us&&ss(s,f),c}for(u=a(u);f<i.length;f++)null!==(x=p(u,s,f,i[f],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),l=r(x,l,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(s,e)}),us&&ss(s,f),c}(o,c,d,u);if(D(d)){if("function"!==typeof(y=D(d)))throw Error(l(150));return function(s,i,o,c){if(null==o)throw Error(l(151));for(var d=null,u=null,f=i,x=i=0,v=null,g=o.next();null!==f&&!g.done;x++,g=o.next()){f.index>x?(v=f,f=null):v=f.sibling;var y=m(s,f,g.value,c);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(s,f),i=r(y,i,x),null===u?d=y:u.sibling=y,u=y,f=v}if(g.done)return n(s,f),us&&ss(s,x),d;if(null===f){for(;!g.done;x++,g=o.next())null!==(g=h(s,g.value,c))&&(i=r(g,i,x),null===u?d=g:u.sibling=g,u=g);return us&&ss(s,x),d}for(f=a(f);!g.done;x++,g=o.next())null!==(g=p(f,s,x,g.value,c))&&(e&&null!==g.alternate&&f.delete(null===g.key?x:g.key),i=r(g,i,x),null===u?d=g:u.sibling=g,u=g);return e&&f.forEach(function(e){return t(s,e)}),us&&ss(s,x),d}(o,c,d=y.call(d),u)}if("function"===typeof d.then)return g(o,c,cr(d),u);if(d.$$typeof===b)return g(o,c,Fs(o,d),u);ur(o,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(o,c.sibling),(u=s(c,d)).return=o,o=u):(n(o,c),(u=Ha(d,o.mode,u)).return=o,o=u),i(o)):n(o,c)}return function(e,t,n,a){try{or=0;var s=g(e,t,n,a);return ir=null,s}catch(l){if(l===Ks||l===Zs)throw l;var r=za(29,l,null,e.mode);return r.lanes=a,r.return=e,r}}}var mr=hr(!0),pr=hr(!1),fr=!1;function xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&mc)){var s=a.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Oa(e),Ra(e,null,n),t}return Ta(e,a,t,n),Oa(e)}function jr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Re(e,n)}}function br(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===r?s=r=l:r=r.next=l,n=n.next}while(null!==n);null===r?s=r=t:r=r.next=t}else s=r=t;return n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Nr=!1;function wr(){if(Nr){if(null!==Hs)throw Hs}}function Sr(e,t,n,a){Nr=!1;var s=e.updateQueue;fr=!1;var r=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?r=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==r){var u=s.baseState;for(l=0,d=c=o=null,i=r;;){var h=-536870913&i.lane,p=h!==i.lane;if(p?(xc&h)===h:(a&h)===h){0!==h&&h===Bs&&(Nr=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var f=e,x=i;h=t;var v=n;switch(x.tag){case 1:if("function"===typeof(f=x.payload)){u=f.call(v,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=x.payload)?f.call(v,u,h):f)||void 0===h)break e;u=m({},u,h);break e;case 2:fr=!0}}null!==(h=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=s.callbacks)?s.callbacks=[h]:p.push(h))}else p={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=h;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(p=i).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}null===d&&(o=u),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null===r&&(s.shared.lanes=0),Sc|=l,e.lanes=l,e.memoizedState=u}}function kr(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function Cr(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)kr(n[e],t)}var Ar=U(null),Er=U(0);function Pr(e,t){q(Er,e=Nc),q(Ar,t),Nc=e|t.baseLanes}function Dr(){q(Er,Nc),q(Ar,Ar.current)}function Tr(){Nc=Er.current,_(Ar),_(Er)}var Lr=U(null),Fr=null;function Rr(e){var t=e.alternate;q(Ur,1&Ur.current),q(Lr,e),null===Fr&&(null===t||null!==Ar.current||null!==t.memoizedState)&&(Fr=e)}function Or(e){q(Ur,Ur.current),q(Lr,e),null===Fr&&(Fr=e)}function Ir(e){22===e.tag?(q(Ur,Ur.current),q(Lr,e),null===Fr&&(Fr=e)):Mr()}function Mr(){q(Ur,Ur.current),q(Lr,Lr.current)}function zr(e){_(Lr),Fr===e&&(Fr=null),_(Ur)}var Ur=U(0);function _r(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Tu(n)||Lu(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qr=0,Vr=null,Br=null,Hr=null,Wr=!1,$r=!1,Jr=!1,Xr=0,Gr=0,Qr=null,Kr=0;function Yr(){throw Error(l(321))}function Zr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function el(e,t,n,a,s,r){return qr=r,Vr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?fi:xi,Jr=!1,r=n(a,s),Jr=!1,$r&&(r=nl(t,n,a,s)),tl(e),r}function tl(e){R.H=pi;var t=null!==Br&&null!==Br.next;if(qr=0,Hr=Br=Vr=null,Wr=!1,Gr=0,Qr=null,t)throw Error(l(300));null===e||Li||null!==(e=e.dependencies)&&Ds(e)&&(Li=!0)}function nl(e,t,n,a){Vr=e;var s=0;do{if($r&&(Qr=null),Gr=0,$r=!1,25<=s)throw Error(l(301));if(s+=1,Hr=Br=null,null!=e.updateQueue){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,null!=r.memoCache&&(r.memoCache.index=0)}R.H=vi,r=t(n,a)}while($r);return r}function al(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?cl(t):t,e=e.useState()[0],(null!==Br?Br.memoizedState:null)!==e&&(Vr.flags|=1024),t}function sl(){var e=0!==Xr;return Xr=0,e}function rl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ll(e){if(Wr){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wr=!1}qr=0,Hr=Br=Vr=null,$r=!1,Gr=Xr=0,Qr=null}function il(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hr?Vr.memoizedState=Hr=e:Hr=Hr.next=e,Hr}function ol(){if(null===Br){var e=Vr.alternate;e=null!==e?e.memoizedState:null}else e=Br.next;var t=null===Hr?Vr.memoizedState:Hr.next;if(null!==t)Hr=t,Br=e;else{if(null===e){if(null===Vr.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Br=e).memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},null===Hr?Vr.memoizedState=Hr=e:Hr=Hr.next=e}return Hr}function cl(e){var t=Gr;return Gr+=1,null===Qr&&(Qr=[]),e=nr(Qr,e,t),t=Vr,null===(null===Hr?t.memoizedState:Hr.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?fi:xi),e}function dl(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cl(e);if(e.$$typeof===b)return Ls(e)}throw Error(l(438,String(e)))}function ul(e){var t=null,n=Vr.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=Vr.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Vr.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=E;return t.index++,n}function hl(e,t){return"function"===typeof t?t(e):t}function ml(e){return pl(ol(),Br,e)}function pl(e,t,n){var a=e.queue;if(null===a)throw Error(l(311));a.lastRenderedReducer=n;var s=e.baseQueue,r=a.pending;if(null!==r){if(null!==s){var i=s.next;s.next=r.next,r.next=i}t.baseQueue=s=r,a.pending=null}if(r=e.baseState,null===s)e.memoizedState=r;else{var o=i=null,c=null,d=t=s.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(xc&h)===h:(qr&h)===h){var m=d.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Bs&&(u=!0);else{if((qr&m)===m){d=d.next,m===Bs&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=h,i=r):c=c.next=h,Vr.lanes|=m,Sc|=m}h=d.action,Jr&&n(r,h),r=d.hasEagerState?d.eagerState:n(r,h)}else m={lane:h,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(o=c=m,i=r):c=c.next=m,Vr.lanes|=h,Sc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?i=r:c.next=o,!Yn(r,e.memoizedState)&&(Li=!0,u&&null!==(n=Hs)))throw n;e.memoizedState=r,e.baseState=i,e.baseQueue=c,a.lastRenderedState=r}return null===s&&(a.lanes=0),[e.memoizedState,a.dispatch]}function fl(e){var t=ol(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,r=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{r=e(r,i.action),i=i.next}while(i!==s);Yn(r,t.memoizedState)||(Li=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function xl(e,t,n){var a=Vr,s=ol(),r=us;if(r){if(void 0===n)throw Error(l(407));n=n()}else n=t();var i=!Yn((Br||s).memoizedState,n);if(i&&(s.memoizedState=n,Li=!0),s=s.queue,ql(yl.bind(null,a,s,e),[e]),s.getSnapshot!==t||i||null!==Hr&&1&Hr.memoizedState.tag){if(a.flags|=2048,Il(9,{destroy:void 0},gl.bind(null,a,s,n,t),null),null===pc)throw Error(l(349));r||0!==(127&qr)||vl(a,t,n)}return n}function vl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Vr.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Vr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function gl(e,t,n,a){t.value=n,t.getSnapshot=a,jl(t)&&bl(e)}function yl(e,t,n){return n(function(){jl(t)&&bl(e)})}function jl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(a){return!0}}function bl(e){var t=Fa(e,2);null!==t&&Xc(t,e,2)}function Nl(e){var t=il();if("function"===typeof e){var n=e;if(e=n(),Jr){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:e},t}function wl(e,t,n,a){return e.baseState=n,pl(e,Br,"function"===typeof a?a:hl)}function Sl(e,t,n,a,s){if(ui(e))throw Error(l(485));if(null!==(e=t.action)){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){r.listeners.push(e)}};null!==R.T?n(!0):r.isTransition=!1,a(r),null===(n=t.pending)?(r.next=t.pending=r,kl(t,r)):(r.next=n.next,t.pending=n.next=r)}}function kl(e,t){var n=t.action,a=t.payload,s=e.state;if(t.isTransition){var r=R.T,l={};R.T=l;try{var i=n(s,a),o=R.S;null!==o&&o(l,i),Cl(e,t,i)}catch(c){El(e,t,c)}finally{null!==r&&null!==l.types&&(r.types=l.types),R.T=r}}else try{Cl(e,t,r=n(s,a))}catch(d){El(e,t,d)}}function Cl(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Al(e,t,n)},function(n){return El(e,t,n)}):Al(e,t,n)}function Al(e,t,n){t.status="fulfilled",t.value=n,Pl(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,kl(e,n)))}function El(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,Pl(t),t=t.next}while(t!==a)}e.action=null}function Pl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dl(e,t){return t}function Tl(e,t){if(us){var n=pc.formState;if(null!==n){e:{var a=Vr;if(us){if(ds){t:{for(var s=ds,r=ms;8!==s.nodeType;){if(!r){s=null;break t}if(null===(s=Fu(s.nextSibling))){s=null;break t}}s="F!"===(r=s.data)||"F"===r?s:null}if(s){ds=Fu(s.nextSibling),a="F!"===s.data;break e}}fs(a)}a=!1}a&&(t=n[0])}}return(n=il()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:t},n.queue=a,n=oi.bind(null,Vr,a),a.dispatch=n,a=Nl(!1),r=di.bind(null,Vr,!1,a.queue),s={state:t,dispatch:null,action:e,pending:null},(a=il()).queue=s,n=Sl.bind(null,Vr,s,r,n),s.dispatch=n,a.memoizedState=e,[t,n,!1]}function Ll(e){return Fl(ol(),Br,e)}function Fl(e,t,n){if(t=pl(e,t,Dl)[0],e=ml(hl)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var a=cl(t)}catch(l){if(l===Ks)throw Zs;throw l}else a=t;var s=(t=ol()).queue,r=s.dispatch;return n!==t.memoizedState&&(Vr.flags|=2048,Il(9,{destroy:void 0},Rl.bind(null,s,n),null)),[a,r,e]}function Rl(e,t){e.action=t}function Ol(e){var t=ol(),n=Br;if(null!==n)return Fl(t,n,e);ol(),t=t.memoizedState;var a=(n=ol()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function Il(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=Vr.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Vr.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ml(){return ol().memoizedState}function zl(e,t,n,a){var s=il();Vr.flags|=e,s.memoizedState=Il(1|t,{destroy:void 0},n,void 0===a?null:a)}function Ul(e,t,n,a){var s=ol();a=void 0===a?null:a;var r=s.memoizedState.inst;null!==Br&&null!==a&&Zr(a,Br.memoizedState.deps)?s.memoizedState=Il(t,r,n,a):(Vr.flags|=e,s.memoizedState=Il(1|t,r,n,a))}function _l(e,t){zl(8390656,8,e,t)}function ql(e,t){Ul(2048,8,e,t)}function Vl(e){var t=ol().memoizedState;return function(e){Vr.flags|=4;var t=Vr.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Vr.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&mc))throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Bl(e,t){return Ul(4,2,e,t)}function Hl(e,t){return Ul(4,4,e,t)}function Wl(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function $l(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ul(4,4,Wl.bind(null,t,e),n)}function Jl(){}function Xl(e,t){var n=ol();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&Zr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Gl(e,t){var n=ol();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&Zr(t,a[1]))return a[0];if(a=e(),Jr){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[a,t],a}function Ql(e,t,n){return void 0===n||0!==(1073741824&qr)&&0===(261930&xc)?e.memoizedState=t:(e.memoizedState=n,e=Jc(),Vr.lanes|=e,Sc|=e,n)}function Kl(e,t,n,a){return Yn(n,t)?n:null!==Ar.current?(e=Ql(e,n,a),Yn(e,t)||(Li=!0),e):0===(42&qr)||0!==(1073741824&qr)&&0===(261930&xc)?(Li=!0,e.memoizedState=n):(e=Jc(),Vr.lanes|=e,Sc|=e,t)}function Yl(e,t,n,a,s){var r=O.p;O.p=0!==r&&8>r?r:8;var l=R.T,i={};R.T=i,di(e,!1,t,n);try{var o=s(),c=R.S;if(null!==c&&c(i,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)ci(e,t,function(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(a.status="rejected",a.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),a}(o,a),$c());else ci(e,t,a,$c())}catch(d){ci(e,t,{then:function(){},status:"rejected",reason:d},$c())}finally{O.p=r,null!==l&&null!==i.types&&(l.types=i.types),R.T=l}}function Zl(){}function ei(e,t,n,a){if(5!==e.tag)throw Error(l(476));var s=ti(e).queue;Yl(e,s,t,I,null===n?Zl:function(){return ni(e),n(a)})}function ti(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ni(e){var t=ti(e);null===t.next&&(t=e.alternate.memoizedState),ci(e,t.next.queue,{},$c())}function ai(){return Ls(dh)}function si(){return ol().memoizedState}function ri(){return ol().memoizedState}function li(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=$c(),a=yr(t,e=gr(n),n);return null!==a&&(Xc(a,t,n),jr(a,t,n)),t={cache:Us()},void(e.payload=t)}t=t.return}}function ii(e,t,n){var a=$c();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ui(e)?hi(t,n):null!==(n=La(e,t,n,a))&&(Xc(n,e,a),mi(n,t,a))}function oi(e,t,n){ci(e,t,n,$c())}function ci(e,t,n,a){var s={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ui(e))hi(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=r(l,n);if(s.hasEagerState=!0,s.eagerState=i,Yn(i,l))return Ta(e,t,s,0),null===pc&&Da(),!1}catch(o){}if(null!==(n=La(e,t,s,a)))return Xc(n,e,a),mi(n,t,a),!0}return!1}function di(e,t,n,a){if(a={lane:2,revertLane:Vd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ui(e)){if(t)throw Error(l(479))}else null!==(t=La(e,n,a,2))&&Xc(t,e,2)}function ui(e){var t=e.alternate;return e===Vr||null!==t&&t===Vr}function hi(e,t){$r=Wr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mi(e,t,n){if(0!==(4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Re(e,n)}}var pi={readContext:Ls,use:dl,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useLayoutEffect:Yr,useInsertionEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useSyncExternalStore:Yr,useId:Yr,useHostTransitionStatus:Yr,useFormState:Yr,useActionState:Yr,useOptimistic:Yr,useMemoCache:Yr,useCacheRefresh:Yr};pi.useEffectEvent=Yr;var fi={readContext:Ls,use:dl,useCallback:function(e,t){return il().memoizedState=[e,void 0===t?null:t],e},useContext:Ls,useEffect:_l,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zl(4194308,4,Wl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){zl(4,2,e,t)},useMemo:function(e,t){var n=il();t=void 0===t?null:t;var a=e();if(Jr){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=il();if(void 0!==n){var s=n(t);if(Jr){ye(!0);try{n(t)}finally{ye(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=ii.bind(null,Vr,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},il().memoizedState=e},useState:function(e){var t=(e=Nl(e)).queue,n=oi.bind(null,Vr,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jl,useDeferredValue:function(e,t){return Ql(il(),e,t)},useTransition:function(){var e=Nl(!1);return e=Yl.bind(null,Vr,e.queue,!0,!1),il().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=Vr,s=il();if(us){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===pc)throw Error(l(349));0!==(127&xc)||vl(a,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,_l(yl.bind(null,a,r,e),[e]),a.flags|=2048,Il(9,{destroy:void 0},gl.bind(null,a,r,n,t),null),n},useId:function(){var e=il(),t=pc.identifierPrefix;if(us){var n=as;t="_"+t+"R_"+(n=(ns&~(1<<32-je(ns)-1)).toString(32)+n),0<(n=Xr++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Kr++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ai,useFormState:Tl,useActionState:Tl,useOptimistic:function(e){var t=il();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=di.bind(null,Vr,!0,n),n.dispatch=t,[e,t]},useMemoCache:ul,useCacheRefresh:function(){return il().memoizedState=li.bind(null,Vr)},useEffectEvent:function(e){var t=il(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&mc))throw Error(l(440));return n.impl.apply(void 0,arguments)}}},xi={readContext:Ls,use:dl,useCallback:Xl,useContext:Ls,useEffect:ql,useImperativeHandle:$l,useInsertionEffect:Bl,useLayoutEffect:Hl,useMemo:Gl,useReducer:ml,useRef:Ml,useState:function(){return ml(hl)},useDebugValue:Jl,useDeferredValue:function(e,t){return Kl(ol(),Br.memoizedState,e,t)},useTransition:function(){var e=ml(hl)[0],t=ol().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:xl,useId:si,useHostTransitionStatus:ai,useFormState:Ll,useActionState:Ll,useOptimistic:function(e,t){return wl(ol(),0,e,t)},useMemoCache:ul,useCacheRefresh:ri};xi.useEffectEvent=Vl;var vi={readContext:Ls,use:dl,useCallback:Xl,useContext:Ls,useEffect:ql,useImperativeHandle:$l,useInsertionEffect:Bl,useLayoutEffect:Hl,useMemo:Gl,useReducer:fl,useRef:Ml,useState:function(){return fl(hl)},useDebugValue:Jl,useDeferredValue:function(e,t){var n=ol();return null===Br?Ql(n,e,t):Kl(n,Br.memoizedState,e,t)},useTransition:function(){var e=fl(hl)[0],t=ol().memoizedState;return["boolean"===typeof e?e:cl(e),t]},useSyncExternalStore:xl,useId:si,useHostTransitionStatus:ai,useFormState:Ol,useActionState:Ol,useOptimistic:function(e,t){var n=ol();return null!==Br?wl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ul,useCacheRefresh:ri};function gi(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vi.useEffectEvent=Vl;var yi={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=$c(),s=gr(a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=yr(e,s,a))&&(Xc(t,e,a),jr(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=$c(),s=gr(a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=yr(e,s,a))&&(Xc(t,e,a),jr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$c(),a=gr(n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=yr(e,a,n))&&(Xc(t,e,n),jr(t,e,n))}};function ji(e,t,n,a,s,r,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,l):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,a)||!Zn(s,r))}function bi(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&yi.enqueueReplaceState(t,t.state,null)}function Ni(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var s in n===t&&(n=m({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}function wi(e){Ca(e)}function Si(e){console.error(e)}function ki(e){Ca(e)}function Ci(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ai(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ei(e,t,n){return(n=gr(n)).tag=3,n.payload={element:null},n.callback=function(){Ci(e,t)},n}function Pi(e){return(e=gr(e)).tag=3,e}function Di(e,t,n,a){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var r=a.value;e.payload=function(){return s(r)},e.callback=function(){Ai(t,n,a)}}var l=n.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){Ai(t,n,a),"function"!==typeof s&&(null===Ic?Ic=new Set([this]):Ic.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var Ti=Error(l(461)),Li=!1;function Fi(e,t,n,a){t.child=null===e?pr(t,null,n,a):mr(t,e.child,n,a)}function Ri(e,t,n,a,s){n=n.render;var r=t.ref;if("ref"in a){var l={};for(var i in a)"ref"!==i&&(l[i]=a[i])}else l=a;return Ts(t),a=el(e,t,n,l,r,s),i=sl(),null===e||Li?(us&&i&&ls(t),t.flags|=1,Fi(e,t,a,s),t.child):(rl(e,t,s),ao(e,t,s))}function Oi(e,t,n,a,s){if(null===e){var r=n.type;return"function"!==typeof r||Ua(r)||void 0!==r.defaultProps||null!==n.compare?((e=Va(n.type,null,a,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ii(e,t,r,a,s))}if(r=e.child,!so(e,s)){var l=r.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(l,a)&&e.ref===t.ref)return ao(e,t,s)}return t.flags|=1,(e=_a(r,a)).ref=t.ref,e.return=t,t.child=e}function Ii(e,t,n,a,s){if(null!==e){var r=e.memoizedProps;if(Zn(r,a)&&e.ref===t.ref){if(Li=!1,t.pendingProps=a=r,!so(e,s))return t.lanes=e.lanes,ao(e,t,s);0!==(131072&e.flags)&&(Li=!0)}}return Bi(e,t,n,a,s)}function Mi(e,t,n,a){var s=a.children,r=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===a.mode){if(0!==(128&t.flags)){if(r=null!==r?r.baseLanes|n:n,null!==e){for(a=t.child=e.child,s=0;null!==a;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~r}else a=0,t.child=null;return Ui(e,t,r,n,a)}if(0===(536870912&n))return a=t.lanes=536870912,Ui(e,t,null!==r?r.baseLanes|n:n,n,a);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gs(0,null!==r?r.cachePool:null),null!==r?Pr(t,r):Dr(),Ir(t)}else null!==r?(Gs(0,r.cachePool),Pr(t,r),Mr(),t.memoizedState=null):(null!==e&&Gs(0,null),Dr(),Mr());return Fi(e,t,s,n),t.child}function zi(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ui(e,t,n,a,s){var r=Xs();return r=null===r?null:{parent:zs._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Gs(0,null),Dr(),Ir(t),null!==e&&Ps(e,t,a,!0),t.childLanes=s,null}function _i(e,t){return(t=Yi({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qi(e,t,n){return mr(t,e.child,null,n),(e=_i(t,t.pendingProps)).flags|=2,zr(t),t.memoizedState=null,e}function Vi(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Bi(e,t,n,a,s){return Ts(t),n=el(e,t,n,a,void 0,s),a=sl(),null===e||Li?(us&&a&&ls(t),t.flags|=1,Fi(e,t,n,s),t.child):(rl(e,t,s),ao(e,t,s))}function Hi(e,t,n,a,s,r){return Ts(t),t.updateQueue=null,n=nl(t,a,n,s),tl(e),a=sl(),null===e||Li?(us&&a&&ls(t),t.flags|=1,Fi(e,t,n,r),t.child):(rl(e,t,r),ao(e,t,r))}function Wi(e,t,n,a,s){if(Ts(t),null===t.stateNode){var r=Ia,l=n.contextType;"object"===typeof l&&null!==l&&(r=Ls(l)),r=new n(a,r),t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,r.updater=yi,t.stateNode=r,r._reactInternals=t,(r=t.stateNode).props=a,r.state=t.memoizedState,r.refs={},xr(t),l=n.contextType,r.context="object"===typeof l&&null!==l?Ls(l):Ia,r.state=t.memoizedState,"function"===typeof(l=n.getDerivedStateFromProps)&&(gi(t,n,l,a),r.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(l=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),l!==r.state&&yi.enqueueReplaceState(r,r.state,null),Sr(t,a,r,s),wr(),r.state=t.memoizedState),"function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){r=t.stateNode;var i=t.memoizedProps,o=Ni(n,i);r.props=o;var c=r.context,d=n.contextType;l=Ia,"object"===typeof d&&null!==d&&(l=Ls(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof r.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i||c!==l)&&bi(t,r,a,l),fr=!1;var h=t.memoizedState;r.state=h,Sr(t,a,r,s),wr(),c=t.memoizedState,i||h!==c||fr?("function"===typeof u&&(gi(t,n,u,a),c=t.memoizedState),(o=fr||ji(t,n,o,a,h,c,l))?(d||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),r.props=a,r.state=c,r.context=l,a=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,vr(e,t),d=Ni(n,l=t.memoizedProps),r.props=d,u=t.pendingProps,h=r.context,c=n.contextType,o=Ia,"object"===typeof c&&null!==c&&(o=Ls(c)),(c="function"===typeof(i=n.getDerivedStateFromProps)||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(l!==u||h!==o)&&bi(t,r,a,o),fr=!1,h=t.memoizedState,r.state=h,Sr(t,a,r,s),wr();var m=t.memoizedState;l!==u||h!==m||fr||null!==e&&null!==e.dependencies&&Ds(e.dependencies)?("function"===typeof i&&(gi(t,n,i,a),m=t.memoizedState),(d=fr||ji(t,n,d,a,h,m,o)||null!==e&&null!==e.dependencies&&Ds(e.dependencies))?(c||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,m,o),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,m,o)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),r.props=a,r.state=m,r.context=o,a=d):("function"!==typeof r.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return r=a,Vi(e,t),a=0!==(128&t.flags),r||a?(r=t.stateNode,n=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render(),t.flags|=1,null!==e&&a?(t.child=mr(t,e.child,null,s),t.child=mr(t,null,n,s)):Fi(e,t,n,s),t.memoizedState=r.state,e=t.child):e=ao(e,t,s),e}function $i(e,t,n,a){return ys(),t.flags|=256,Fi(e,t,n,a),t.child}var Ji={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xi(e){return{baseLanes:e,cachePool:Qs()}}function Gi(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ac),e}function Qi(e,t,n){var a,s=t.pendingProps,r=!1,i=0!==(128&t.flags);if((a=i)||(a=(null===e||null!==e.memoizedState)&&0!==(2&Ur.current)),a&&(r=!0,t.flags&=-129),a=0!==(32&t.flags),t.flags&=-33,null===e){if(us){if(r?Rr(t):Mr(),(e=ds)?null!==(e=null!==(e=Du(e,ms))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ts?{id:ns,overflow:as}:null,retryLane:536870912,hydrationErrors:null},(n=Wa(e)).return=t,t.child=n,cs=t,ds=null):e=null,null===e)throw fs(t);return Lu(e)?t.lanes=32:t.lanes=536870912,null}var o=s.children;return s=s.fallback,r?(Mr(),o=Yi({mode:"hidden",children:o},r=t.mode),s=Ba(s,r,n,null),o.return=t,s.return=t,o.sibling=s,t.child=o,(s=t.child).memoizedState=Xi(n),s.childLanes=Gi(e,a,n),t.memoizedState=Ji,zi(null,s)):(Rr(t),Ki(t,o))}var c=e.memoizedState;if(null!==c&&null!==(o=c.dehydrated)){if(i)256&t.flags?(Rr(t),t.flags&=-257,t=Zi(e,t,n)):null!==t.memoizedState?(Mr(),t.child=e.child,t.flags|=128,t=null):(Mr(),o=s.fallback,r=t.mode,s=Yi({mode:"visible",children:s.children},r),(o=Ba(o,r,n,null)).flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,mr(t,e.child,null,n),(s=t.child).memoizedState=Xi(n),s.childLanes=Gi(e,a,n),t.memoizedState=Ji,t=zi(null,s));else if(Rr(t),Lu(o)){if(a=o.nextSibling&&o.nextSibling.dataset)var d=a.dgst;a=d,(s=Error(l(419))).stack="",s.digest=a,bs({value:s,source:null,stack:null}),t=Zi(e,t,n)}else if(Li||Ps(e,t,n,!1),a=0!==(n&e.childLanes),Li||a){if(null!==(a=pc)&&(0!==(s=Oe(a,n))&&s!==c.retryLane))throw c.retryLane=s,Fa(e,s),Xc(a,e,s),Ti;Tu(o)||ld(),t=Zi(e,t,n)}else Tu(o)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ds=Fu(o.nextSibling),cs=t,us=!0,hs=null,ms=!1,null!==e&&os(t,e),(t=Ki(t,s.children)).flags|=4096);return t}return r?(Mr(),o=s.fallback,r=t.mode,d=(c=e.child).sibling,(s=_a(c,{mode:"hidden",children:s.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?o=_a(d,o):(o=Ba(o,r,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,zi(null,s),s=t.child,null===(o=e.child.memoizedState)?o=Xi(n):(null!==(r=o.cachePool)?(c=zs._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=Qs(),o={baseLanes:o.baseLanes|n,cachePool:r}),s.memoizedState=o,s.childLanes=Gi(e,a,n),t.memoizedState=Ji,zi(e.child,s)):(Rr(t),e=(n=e.child).sibling,(n=_a(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Ki(e,t){return(t=Yi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Yi(e,t){return(e=za(22,e,null,t)).lanes=0,e}function Zi(e,t,n){return mr(t,e.child,null,n),(e=Ki(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function eo(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),As(e.return,t,n)}function to(e,t,n,a,s,r){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s,treeForkCount:r}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=s,l.treeForkCount=r)}function no(e,t,n){var a=t.pendingProps,s=a.revealOrder,r=a.tail;a=a.children;var l=Ur.current,i=0!==(2&l);if(i?(l=1&l|2,t.flags|=128):l&=1,q(Ur,l),Fi(e,t,a,n),a=us?Ya:0,!i&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&eo(e,n,t);else if(19===e.tag)eo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===_r(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),to(t,!1,s,n,r,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===_r(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}to(t,!0,n,null,r,a);break;case"together":to(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ao(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Sc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ps(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=_a(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_a(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function so(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ds(e))}function ro(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Li=!0;else{if(!so(e,n)&&0===(128&t.flags))return Li=!1,function(e,t,n){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),ks(0,zs,e.memoizedState.cache),ys();break;case 27:case 5:Q(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:ks(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Or(t),null;break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(Rr(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qi(e,t,n):(Rr(t),null!==(e=ao(e,t,n))?e.sibling:null);Rr(t);break;case 19:var s=0!==(128&e.flags);if((a=0!==(n&t.childLanes))||(Ps(e,t,n,!1),a=0!==(n&t.childLanes)),s){if(a)return no(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Ur,Ur.current),a)break;return null;case 22:return t.lanes=0,Mi(e,t,n,t.pendingProps);case 24:ks(0,zs,e.memoizedState.cache)}return ao(e,t,n)}(e,t,n);Li=0!==(131072&e.flags)}else Li=!1,us&&0!==(1048576&t.flags)&&rs(t,Ya,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ar(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var s=e.$$typeof;if(s===N){t.tag=11,t=Ri(null,t,e,a,n);break e}if(s===k){t.tag=14,t=Oi(null,t,e,a,n);break e}}throw t=L(e)||e,Error(l(306,t,""))}Ua(e)?(a=Ni(e,a),t.tag=1,t=Wi(null,t,e,a,n)):(t.tag=0,t=Bi(null,t,e,a,n))}return t;case 0:return Bi(e,t,t.type,t.pendingProps,n);case 1:return Wi(e,t,a=t.type,s=Ni(a,t.pendingProps),n);case 3:e:{if(X(t,t.stateNode.containerInfo),null===e)throw Error(l(387));a=t.pendingProps;var r=t.memoizedState;s=r.element,vr(e,t),Sr(t,a,null,n);var i=t.memoizedState;if(a=i.cache,ks(0,zs,a),a!==r.cache&&Es(t,[zs],n,!0),wr(),a=i.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=$i(e,t,a,n);break e}if(a!==s){bs(s=Xa(Error(l(424)),t)),t=$i(e,t,a,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ds=Fu(e.firstChild),cs=t,us=!0,hs=null,ms=!0,n=pr(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ys(),a===s){t=ao(e,t,n);break e}Fi(e,t,a,n)}t=t.child}return t;case 26:return Vi(e,t),null===e?(n=Wu(t.type,null,t.pendingProps,null))?t.memoizedState=n:us||(n=t.type,e=t.pendingProps,(a=xu($.current).createElement(n))[qe]=t,a[Ve]=e,hu(a,n,e),et(a),t.stateNode=a):t.memoizedState=Wu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&us&&(a=t.stateNode=Mu(t.type,t.pendingProps,$.current),cs=t,ms=!0,s=ds,Cu(t.type)?(Ru=s,ds=Fu(a.firstChild)):ds=s),Fi(e,t,t.pendingProps.children,n),Vi(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&us&&((s=a=ds)&&(null!==(a=function(e,t,n,a){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Xe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===r)return e}if(null===(e=Fu(e.nextSibling)))break}return null}(a,t.type,t.pendingProps,ms))?(t.stateNode=a,cs=t,ds=Fu(a.firstChild),ms=!1,s=!0):s=!1),s||fs(t)),Q(t),s=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,a=r.children,yu(s,r)?a=null:null!==i&&yu(s,i)&&(t.flags|=32),null!==t.memoizedState&&(s=el(e,t,al,null,null,n),dh._currentValue=s),Vi(e,t),Fi(e,t,a,n),t.child;case 6:return null===e&&us&&((e=n=ds)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Fu(e.nextSibling)))return null}return e}(n,t.pendingProps,ms))?(t.stateNode=n,cs=t,ds=null,e=!0):e=!1),e||fs(t)),null;case 13:return Qi(e,t,n);case 4:return X(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=mr(t,null,a,n):Fi(e,t,a,n),t.child;case 11:return Ri(e,t,t.type,t.pendingProps,n);case 7:return Fi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fi(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,ks(0,t.type,a.value),Fi(e,t,a.children,n),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,Ts(t),a=a(s=Ls(s)),t.flags|=1,Fi(e,t,a,n),t.child;case 14:return Oi(e,t,t.type,t.pendingProps,n);case 15:return Ii(e,t,t.type,t.pendingProps,n);case 19:return no(e,t,n);case 31:return function(e,t,n){var a=t.pendingProps,s=0!==(128&t.flags);if(t.flags&=-129,null===e){if(us){if("hidden"===a.mode)return e=_i(t,a),t.lanes=536870912,zi(null,e);if(Or(t),(e=ds)?null!==(e=null!==(e=Du(e,ms))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ts?{id:ns,overflow:as}:null,retryLane:536870912,hydrationErrors:null},(n=Wa(e)).return=t,t.child=n,cs=t,ds=null):e=null,null===e)throw fs(t);return t.lanes=536870912,null}return _i(t,a)}var r=e.memoizedState;if(null!==r){var i=r.dehydrated;if(Or(t),s)if(256&t.flags)t.flags&=-257,t=qi(e,t,n);else{if(null===t.memoizedState)throw Error(l(558));t.child=e.child,t.flags|=128,t=null}else if(Li||Ps(e,t,n,!1),s=0!==(n&e.childLanes),Li||s){if(null!==(a=pc)&&0!==(i=Oe(a,n))&&i!==r.retryLane)throw r.retryLane=i,Fa(e,i),Xc(a,e,i),Ti;ld(),t=qi(e,t,n)}else e=r.treeContext,ds=Fu(i.nextSibling),cs=t,us=!0,hs=null,ms=!1,null!==e&&os(t,e),(t=_i(t,a)).flags|=4096;return t}return(e=_a(e.child,{mode:a.mode,children:a.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Mi(e,t,n,t.pendingProps);case 24:return Ts(t),a=Ls(zs),null===e?(null===(s=Xs())&&(s=pc,r=Us(),s.pooledCache=r,r.refCount++,null!==r&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:a,cache:s},xr(t),ks(0,zs,s)):(0!==(e.lanes&n)&&(vr(e,t),Sr(t,null,null,n),wr()),s=e.memoizedState,r=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),ks(0,zs,a)):(a=r.cache,ks(0,zs,a),a!==s.cache&&Es(t,[zs],n,!0))),Fi(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function lo(e){e.flags|=4}function io(e,t,n,a,s){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&s)===s)if(e.stateNode.complete)e.flags|=8192;else{if(!ad())throw sr=er,Ys;e.flags|=8192}}else e.flags&=-16777217}function oo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sh(t)){if(!ad())throw sr=er,Ys;e.flags|=8192}}function co(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?De():536870912,e.lanes|=t,Ec|=t)}function uo(e,t){if(!us)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=65011712&s.subtreeFlags,a|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function mo(e,t,n){var a=t.pendingProps;switch(is(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ho(t),null;case 3:return n=t.stateNode,a=null,null!==e&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Cs(zs),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(gs(t)?lo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,js())),ho(t),null;case 26:var s=t.type,r=t.memoizedState;return null===e?(lo(t),null!==r?(ho(t),oo(t,r)):(ho(t),io(t,s,0,0,n))):r?r!==e.memoizedState?(lo(t),ho(t),oo(t,r)):(ho(t),t.flags&=-16777217):((e=e.memoizedProps)!==a&&lo(t),ho(t),io(t,s,0,0,n)),null;case 27:if(K(t),n=$.current,s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&lo(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return ho(t),null}e=H.current,gs(t)?xs(t):(e=Mu(s,a,n),t.stateNode=e,lo(t))}return ho(t),null;case 5:if(K(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==a&&lo(t);else{if(!a){if(null===t.stateNode)throw Error(l(166));return ho(t),null}if(r=H.current,gs(t))xs(t);else{var i=xu($.current);switch(r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(r=i.createElement("div")).innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r="string"===typeof a.is?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?r.multiple=!0:a.size&&(r.size=a.size);break;default:r="string"===typeof a.is?i.createElement(s,{is:a.is}):i.createElement(s)}}r[qe]=t,r[Ve]=a;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)r.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=r;e:switch(hu(r,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&lo(t)}}return ho(t),io(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==a&&lo(t);else{if("string"!==typeof a&&null===t.stateNode)throw Error(l(166));if(e=$.current,gs(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,null!==(s=cs))switch(s.tag){case 27:case 5:a=s.memoizedProps}e[qe]=t,(e=!!(e.nodeValue===n||null!==a&&!0===a.suppressHydrationWarning||cu(e.nodeValue,n)))||fs(t,!0)}else(e=xu(e).createTextNode(a))[qe]=t,t.stateNode=e}return ho(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(a=gs(t),null!==n){if(null===e){if(!a)throw Error(l(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(l(557));e[qe]=t}else ys(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ho(t),e=!1}else n=js(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zr(t),t):(zr(t),null);if(0!==(128&t.flags))throw Error(l(558))}return ho(t),null;case 13:if(a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=gs(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(l(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(l(317));s[qe]=t}else ys(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ho(t),s=!1}else s=js(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(zr(t),t):(zr(t),null)}return zr(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==a,e=null!==e&&null!==e.memoizedState,n&&(s=null,null!==(a=t.child).alternate&&null!==a.alternate.memoizedState&&null!==a.alternate.memoizedState.cachePool&&(s=a.alternate.memoizedState.cachePool.pool),r=null,null!==a.memoizedState&&null!==a.memoizedState.cachePool&&(r=a.memoizedState.cachePool.pool),r!==s&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),co(t,t.updateQueue),ho(t),null);case 4:return G(),null===e&&Zd(t.stateNode.containerInfo),ho(t),null;case 10:return Cs(t.type),ho(t),null;case 19:if(_(Ur),null===(a=t.memoizedState))return ho(t),null;if(s=0!==(128&t.flags),null===(r=a.rendering))if(s)uo(a,!1);else{if(0!==wc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(r=_r(e))){for(t.flags|=128,uo(a,!1),e=r.updateQueue,t.updateQueue=e,co(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qa(n,e),n=n.sibling;return q(Ur,1&Ur.current|2),us&&ss(t,a.treeForkCount),t.child}e=e.sibling}null!==a.tail&&oe()>Rc&&(t.flags|=128,s=!0,uo(a,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=_r(r))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,co(t,e),uo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!r.alternate&&!us)return ho(t),null}else 2*oe()-a.renderingStartTime>Rc&&536870912!==n&&(t.flags|=128,s=!0,uo(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(null!==(e=a.last)?e.sibling=r:t.child=r,a.last=r)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=oe(),e.sibling=null,n=Ur.current,q(Ur,s?1&n|2:1&n),us&&ss(t,a.treeForkCount),e):(ho(t),null);case 22:case 23:return zr(t),Tr(),a=null!==t.memoizedState,null!==e?null!==e.memoizedState!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?0!==(536870912&n)&&0===(128&t.flags)&&(ho(t),6&t.subtreeFlags&&(t.flags|=8192)):ho(t),null!==(n=t.updateQueue)&&co(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),a=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),null!==e&&_(Js),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cs(zs),ho(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function po(e,t){switch(is(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cs(zs),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 31:if(null!==t.memoizedState){if(zr(t),null===t.alternate)throw Error(l(340));ys()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zr(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));ys()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _(Ur),null;case 4:return G(),null;case 10:return Cs(t.type),null;case 22:case 23:return zr(t),Tr(),null!==e&&_(Js),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cs(zs),null;default:return null}}function fo(e,t){switch(is(t),t.tag){case 3:Cs(zs),G();break;case 26:case 27:case 5:K(t);break;case 4:G();break;case 31:null!==t.memoizedState&&zr(t);break;case 13:zr(t);break;case 19:_(Ur);break;case 10:Cs(t.type);break;case 22:case 23:zr(t),Tr(),null!==e&&_(Js);break;case 24:Cs(zs)}}function xo(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var s=a.next;n=s;do{if((n.tag&e)===e){a=void 0;var r=n.create,l=n.inst;a=r(),l.destroy=a}n=n.next}while(n!==s)}}catch(i){wd(t,t.return,i)}}function vo(e,t,n){try{var a=t.updateQueue,s=null!==a?a.lastEffect:null;if(null!==s){var r=s.next;a=r;do{if((a.tag&e)===e){var l=a.inst,i=l.destroy;if(void 0!==i){l.destroy=void 0,s=t;var o=n,c=i;try{c()}catch(d){wd(s,o,d)}}}a=a.next}while(a!==r)}}catch(d){wd(t,t.return,d)}}function go(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Cr(t,n)}catch(a){wd(e,e.return,a)}}}function yo(e,t,n){n.props=Ni(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){wd(e,t,a)}}function jo(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"===typeof n?e.refCleanup=n(a):n.current=a}}catch(s){wd(e,t,s)}}function bo(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"===typeof a)try{a()}catch(s){wd(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(r){wd(e,t,r)}else n.current=null}function No(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(s){wd(e,e.return,s)}}function wo(e,t,n){try{var a=e.stateNode;!function(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,i=null,o=null,c=null,d=null,u=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:a.hasOwnProperty(p)||du(e,t,p,null,a,h)}}for(var m in a){var p=a[m];if(h=n[m],a.hasOwnProperty(m)&&(null!=p||null!=h))switch(m){case"type":r=p;break;case"name":s=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":i=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:p!==h&&du(e,t,m,p,a,h)}}return void gt(e,i,o,c,d,u,r,s);case"select":for(r in p=i=o=m=null,n)if(c=n[r],n.hasOwnProperty(r)&&null!=c)switch(r){case"value":break;case"multiple":p=c;default:a.hasOwnProperty(r)||du(e,t,r,null,a,c)}for(s in a)if(r=a[s],c=n[s],a.hasOwnProperty(s)&&(null!=r||null!=c))switch(s){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":i=r;default:r!==c&&du(e,t,s,r,a,c)}return t=o,n=i,a=p,void(null!=m?bt(e,!!n,m,!1):!!a!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(o in p=m=null,n)if(s=n[o],n.hasOwnProperty(o)&&null!=s&&!a.hasOwnProperty(o))switch(o){case"value":case"children":break;default:du(e,t,o,null,a,s)}for(i in a)if(s=a[i],r=n[i],a.hasOwnProperty(i)&&(null!=s||null!=r))switch(i){case"value":m=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(l(91));break;default:s!==r&&du(e,t,i,s,a,r)}return void Nt(e,m,p);case"option":for(var f in n)if(m=n[f],n.hasOwnProperty(f)&&null!=m&&!a.hasOwnProperty(f))if("selected"===f)e.selected=!1;else du(e,t,f,null,a,m);for(c in a)if(m=a[c],p=n[c],a.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!==typeof m&&"symbol"!==typeof m;else du(e,t,c,m,a,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)m=n[x],n.hasOwnProperty(x)&&null!=m&&!a.hasOwnProperty(x)&&du(e,t,x,null,a,m);for(d in a)if(m=a[d],p=n[d],a.hasOwnProperty(d)&&m!==p&&(null!=m||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(l(137,t));break;default:du(e,t,d,m,a,p)}return;default:if(Et(t)){for(var v in n)m=n[v],n.hasOwnProperty(v)&&void 0!==m&&!a.hasOwnProperty(v)&&uu(e,t,v,void 0,a,m);for(u in a)m=a[u],p=n[u],!a.hasOwnProperty(u)||m===p||void 0===m&&void 0===p||uu(e,t,u,m,a,p);return}}for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!a.hasOwnProperty(g)&&du(e,t,g,null,a,m);for(h in a)m=a[h],p=n[h],!a.hasOwnProperty(h)||m===p||null==m&&null==p||du(e,t,h,m,a,p)}(a,e.type,n,t),a[Ve]=t}catch(s){wd(e,e.return,s)}}function So(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cu(e.type)||4===e.tag}function ko(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||So(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Co(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Lt));else if(4!==a&&(27===a&&Cu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Co(e,t,n),e=e.sibling;null!==e;)Co(e,t,n),e=e.sibling}function Ao(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&Cu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ao(e,t,n),e=e.sibling;null!==e;)Ao(e,t,n),e=e.sibling}function Eo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);hu(t,a,n),t[qe]=e,t[Ve]=n}catch(r){wd(e,e.return,r)}}var Po=!1,Do=!1,To=!1,Lo="function"===typeof WeakSet?WeakSet:Set,Fo=null;function Ro(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Xo(e,n),4&a&&xo(5,n);break;case 1:if(Xo(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){wd(n,n.return,l)}else{var s=Ni(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){wd(n,n.return,i)}}64&a&&go(n),512&a&&jo(n,n.return);break;case 3:if(Xo(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Cr(e,t)}catch(l){wd(n,n.return,l)}}break;case 27:null===t&&4&a&&Eo(n);case 26:case 5:Xo(e,n),null===t&&4&a&&No(n),512&a&&jo(n,n.return);break;case 12:Xo(e,n);break;case 31:Xo(e,n),4&a&&_o(e,n);break;case 13:Xo(e,n),4&a&&qo(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=Ad.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||Po)){t=null!==t&&null!==t.memoizedState||Do,s=Po;var r=Do;Po=a,(Do=t)&&!r?Qo(e,n,0!==(8772&n.subtreeFlags)):Xo(e,n),Po=s,Do=r}break;case 30:break;default:Xo(e,n)}}function Oo(e){var t=e.alternate;null!==t&&(e.alternate=null,Oo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ge(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Io=null,Mo=!1;function zo(e,t,n){for(n=n.child;null!==n;)Uo(e,t,n),n=n.sibling}function Uo(e,t,n){if(ge&&"function"===typeof ge.onCommitFiberUnmount)try{ge.onCommitFiberUnmount(ve,n)}catch(r){}switch(n.tag){case 26:Do||bo(n,t),zo(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Do||bo(n,t);var a=Io,s=Mo;Cu(n.type)&&(Io=n.stateNode,Mo=!1),zo(e,t,n),zu(n.stateNode),Io=a,Mo=s;break;case 5:Do||bo(n,t);case 6:if(a=Io,s=Mo,Io=null,zo(e,t,n),Mo=s,null!==(Io=a))if(Mo)try{(9===Io.nodeType?Io.body:"HTML"===Io.nodeName?Io.ownerDocument.body:Io).removeChild(n.stateNode)}catch(l){wd(n,t,l)}else try{Io.removeChild(n.stateNode)}catch(l){wd(n,t,l)}break;case 18:null!==Io&&(Mo?(Au(9===(e=Io).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hh(e)):Au(Io,n.stateNode));break;case 4:a=Io,s=Mo,Io=n.stateNode.containerInfo,Mo=!0,zo(e,t,n),Io=a,Mo=s;break;case 0:case 11:case 14:case 15:vo(2,n,t),Do||vo(4,n,t),zo(e,t,n);break;case 1:Do||(bo(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount&&yo(n,t,a)),zo(e,t,n);break;case 21:zo(e,t,n);break;case 22:Do=(a=Do)||null!==n.memoizedState,zo(e,t,n),Do=a;break;default:zo(e,t,n)}}function _o(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hh(e)}catch(n){wd(t,t.return,n)}}}function qo(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hh(e)}catch(n){wd(t,t.return,n)}}function Vo(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Lo),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Lo),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var a=Ed.bind(null,e,t);t.then(a,a)}})}function Bo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var s=n[a],r=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 27:if(Cu(o.type)){Io=o.stateNode,Mo=!1;break e}break;case 5:Io=o.stateNode,Mo=!1;break e;case 3:case 4:Io=o.stateNode.containerInfo,Mo=!0;break e}o=o.return}if(null===Io)throw Error(l(160));Uo(r,i,s),Io=null,Mo=!1,null!==(r=s.alternate)&&(r.return=null),s.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wo(t,e),t=t.sibling}var Ho=null;function Wo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bo(t,e),$o(e),4&a&&(vo(3,e,e.return),xo(3,e),vo(5,e,e.return));break;case 1:Bo(t,e),$o(e),512&a&&(Do||null===n||bo(n,n.return)),64&a&&Po&&(null!==(e=e.updateQueue)&&(null!==(a=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?a:n.concat(a))));break;case 26:var s=Ho;if(Bo(t,e),$o(e),512&a&&(Do||null===n||bo(n,n.return)),4&a){var r=null!==n?n.memoizedState:null;if(a=e.memoizedState,null===n)if(null===a)if(null===e.stateNode){e:{a=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":(!(r=s.getElementsByTagName("title")[0])||r[Xe]||r[qe]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=s.createElement(a),s.head.insertBefore(r,s.querySelector("head > title"))),hu(r,a,n),r[qe]=e,et(r),a=r;break e;case"link":var i=nh("link","href",s).get(a+(n.href||""));if(i)for(var o=0;o<i.length;o++)if((r=i[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&r.getAttribute("rel")===(null==n.rel?null:n.rel)&&r.getAttribute("title")===(null==n.title?null:n.title)&&r.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){i.splice(o,1);break t}hu(r=s.createElement(a),a,n),s.head.appendChild(r);break;case"meta":if(i=nh("meta","content",s).get(a+(n.content||"")))for(o=0;o<i.length;o++)if((r=i[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&r.getAttribute("name")===(null==n.name?null:n.name)&&r.getAttribute("property")===(null==n.property?null:n.property)&&r.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&r.getAttribute("charset")===(null==n.charSet?null:n.charSet)){i.splice(o,1);break t}hu(r=s.createElement(a),a,n),s.head.appendChild(r);break;default:throw Error(l(468,a))}r[qe]=e,et(r),a=r}e.stateNode=a}else ah(s,e.type,e.stateNode);else e.stateNode=Ku(s,a,e.memoizedProps);else r!==a?(null===r?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):r.count--,null===a?ah(s,e.type,e.stateNode):Ku(s,a,e.memoizedProps)):null===a&&null!==e.stateNode&&wo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bo(t,e),$o(e),512&a&&(Do||null===n||bo(n,n.return)),null!==n&&4&a&&wo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bo(t,e),$o(e),512&a&&(Do||null===n||bo(n,n.return)),32&e.flags){s=e.stateNode;try{St(s,"")}catch(f){wd(e,e.return,f)}}4&a&&null!=e.stateNode&&wo(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&a&&(To=!0);break;case 6:if(Bo(t,e),$o(e),4&a){if(null===e.stateNode)throw Error(l(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(f){wd(e,e.return,f)}}break;case 3:if(th=null,s=Ho,Ho=qu(t.containerInfo),Bo(t,e),Ho=s,$o(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Hh(t.containerInfo)}catch(f){wd(e,e.return,f)}To&&(To=!1,Jo(e));break;case 4:a=Ho,Ho=qu(e.stateNode.containerInfo),Bo(t,e),$o(e),Ho=a;break;case 12:default:Bo(t,e),$o(e);break;case 31:case 19:Bo(t,e),$o(e),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Vo(e,a)));break;case 13:Bo(t,e),$o(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Lc=oe()),4&a&&(null!==(a=e.updateQueue)&&(e.updateQueue=null,Vo(e,a)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=Po,u=Do;if(Po=d||s,Do=u||c,Bo(t,e),Do=u,Po=d,$o(e),8192&a)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||Po||Do||Go(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(r=c.stateNode,s)"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,m=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;o.style.display=null==m||"boolean"===typeof m?"":(""+m).trim()}}catch(f){wd(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(f){wd(c,c.return,f)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;s?Eu(p,!0):Eu(c.stateNode,!1)}catch(f){wd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&a&&(null!==(a=e.updateQueue)&&(null!==(n=a.retryQueue)&&(a.retryQueue=null,Vo(e,n))));case 30:case 21:}}function $o(e){var t=e.flags;if(2&t){try{for(var n,a=e.return;null!==a;){if(So(a)){n=a;break}a=a.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var s=n.stateNode;Ao(e,ko(e),s);break;case 5:var r=n.stateNode;32&n.flags&&(St(r,""),n.flags&=-33),Ao(e,ko(e),r);break;case 3:case 4:var i=n.stateNode.containerInfo;Co(e,ko(e),i);break;default:throw Error(l(161))}}catch(o){wd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Jo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Jo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Xo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ro(e,t.alternate,t),t=t.sibling}function Go(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vo(4,t,t.return),Go(t);break;case 1:bo(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&yo(t,t.return,n),Go(t);break;case 27:zu(t.stateNode);case 26:case 5:bo(t,t.return),Go(t);break;case 22:null===t.memoizedState&&Go(t);break;default:Go(t)}e=e.sibling}}function Qo(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,s=e,r=t,l=r.flags;switch(r.tag){case 0:case 11:case 15:Qo(s,r,n),xo(4,r);break;case 1:if(Qo(s,r,n),"function"===typeof(s=(a=r).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){wd(a,a.return,c)}if(null!==(s=(a=r).updateQueue)){var i=a.stateNode;try{var o=s.shared.hiddenCallbacks;if(null!==o)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)kr(o[s],i)}catch(c){wd(a,a.return,c)}}n&&64&l&&go(r),jo(r,r.return);break;case 27:Eo(r);case 26:case 5:Qo(s,r,n),n&&null===a&&4&l&&No(r),jo(r,r.return);break;case 12:Qo(s,r,n);break;case 31:Qo(s,r,n),n&&4&l&&_o(s,r);break;case 13:Qo(s,r,n),n&&4&l&&qo(s,r);break;case 22:null===r.memoizedState&&Qo(s,r,n),jo(r,r.return);break;case 30:break;default:Qo(s,r,n)}t=t.sibling}}function Ko(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&_s(n))}function Yo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&_s(e))}function Zo(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,n,a),t=t.sibling}function ec(e,t,n,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Zo(e,t,n,a),2048&s&&xo(9,t);break;case 1:case 31:case 13:default:Zo(e,t,n,a);break;case 3:Zo(e,t,n,a),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&_s(e)));break;case 12:if(2048&s){Zo(e,t,n,a),e=t.stateNode;try{var r=t.memoizedProps,l=r.id,i=r.onPostCommit;"function"===typeof i&&i(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){wd(t,t.return,o)}}else Zo(e,t,n,a);break;case 23:break;case 22:r=t.stateNode,l=t.alternate,null!==t.memoizedState?2&r._visibility?Zo(e,t,n,a):nc(e,t):2&r._visibility?Zo(e,t,n,a):(r._visibility|=2,tc(e,t,n,a,0!==(10256&t.subtreeFlags)||!1)),2048&s&&Ko(l,t);break;case 24:Zo(e,t,n,a),2048&s&&Yo(t.alternate,t)}}function tc(e,t,n,a,s){for(s=s&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var r=e,l=t,i=n,o=a,c=l.flags;switch(l.tag){case 0:case 11:case 15:tc(r,l,i,o,s),xo(8,l);break;case 23:break;case 22:var d=l.stateNode;null!==l.memoizedState?2&d._visibility?tc(r,l,i,o,s):nc(r,l):(d._visibility|=2,tc(r,l,i,o,s)),s&&2048&c&&Ko(l.alternate,l);break;case 24:tc(r,l,i,o,s),s&&2048&c&&Yo(l.alternate,l);break;default:tc(r,l,i,o,s)}t=t.sibling}}function nc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,s=a.flags;switch(a.tag){case 22:nc(n,a),2048&s&&Ko(a.alternate,a);break;case 24:nc(n,a),2048&s&&Yo(a.alternate,a);break;default:nc(n,a)}t=t.sibling}}var ac=8192;function sc(e,t,n){if(e.subtreeFlags&ac)for(e=e.child;null!==e;)rc(e,t,n),e=e.sibling}function rc(e,t,n){switch(e.tag){case 26:sc(e,t,n),e.flags&ac&&null!==e.memoizedState&&function(e,t,n,a){if("stylesheet"===n.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var s=$u(a.href),r=t.querySelector(Ju(s));if(r)return null!==(t=r._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=lh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,void et(r);r=t.ownerDocument||t,a=Xu(a),(s=Uu.get(s))&&Zu(a,s),et(r=r.createElement("link"));var l=r;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),hu(r,"link",a),n.instance=r}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=lh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Ho,e.memoizedState,e.memoizedProps);break;case 5:default:sc(e,t,n);break;case 3:case 4:var a=Ho;Ho=qu(e.stateNode.containerInfo),sc(e,t,n),Ho=a;break;case 22:null===e.memoizedState&&(null!==(a=e.alternate)&&null!==a.memoizedState?(a=ac,ac=16777216,sc(e,t,n),ac=a):sc(e,t,n))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ic(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Fo=a,dc(a,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:ic(e),2048&e.flags&&vo(9,e,e.return);break;case 3:case 12:default:ic(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):ic(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];Fo=a,dc(a,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vo(8,t,t.return),cc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function dc(e,t){for(;null!==Fo;){var n=Fo;switch(n.tag){case 0:case 11:case 15:vo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:_s(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,Fo=a;else e:for(n=e;null!==Fo;){var s=(a=Fo).sibling,r=a.return;if(Oo(a),a===n){Fo=null;break e}if(null!==s){s.return=r,Fo=s;break e}Fo=r}}}var uc={getCacheForType:function(e){var t=Ls(zs),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ls(zs).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,mc=0,pc=null,fc=null,xc=0,vc=0,gc=null,yc=!1,jc=!1,bc=!1,Nc=0,wc=0,Sc=0,kc=0,Cc=0,Ac=0,Ec=0,Pc=null,Dc=null,Tc=!1,Lc=0,Fc=0,Rc=1/0,Oc=null,Ic=null,Mc=0,zc=null,Uc=null,_c=0,qc=0,Vc=null,Bc=null,Hc=0,Wc=null;function $c(){return 0!==(2&mc)&&0!==xc?xc&-xc:null!==R.T?Vd():ze()}function Jc(){if(0===Ac)if(0===(536870912&xc)||us){var e=Se;0===(3932160&(Se<<=1))&&(Se=262144),Ac=e}else Ac=536870912;return null!==(e=Lr.current)&&(e.flags|=32),Ac}function Xc(e,t,n){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(td(e,0),Yc(e,xc,Ac,!1)),Le(e,n),0!==(2&mc)&&e===pc||(e===pc&&(0===(2&mc)&&(kc|=n),4===wc&&Yc(e,xc,Ac,!1)),Od(e))}function Gc(e,t,n){if(0!==(6&mc))throw Error(l(327));for(var a=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ee(e,t),s=a?function(e,t){var n=mc;mc|=2;var a=sd(),s=rd();pc!==e||xc!==t?(Oc=null,Rc=oe()+500,td(e,t)):jc=Ee(e,t);e:for(;;)try{if(0!==vc&&null!==fc){t=fc;var r=gc;t:switch(vc){case 1:vc=0,gc=null,hd(e,t,r,1);break;case 2:case 9:if(tr(r)){vc=0,gc=null,ud(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),Od(e)},r.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:tr(r)?(vc=0,gc=null,ud(t)):(vc=0,gc=null,hd(e,t,r,7));break;case 5:var i=null;switch(fc.tag){case 26:i=fc.memoizedState;case 5:case 27:var o=fc;if(i?sh(i):o.stateNode.complete){vc=0,gc=null;var c=o.sibling;if(null!==c)fc=c;else{var d=o.return;null!==d?(fc=d,md(d)):fc=null}break t}}vc=0,gc=null,hd(e,t,r,5);break;case 6:vc=0,gc=null,hd(e,t,r,6);break;case 8:ed(),wc=6;break e;default:throw Error(l(462))}}cd();break}catch(u){nd(e,u)}return Ss=ws=null,R.H=a,R.A=s,mc=n,null!==fc?0:(pc=null,xc=0,Da(),wc)}(e,t):id(e,t,!0),r=a;;){if(0===s){jc&&!a&&Yc(e,t,0,!1);break}if(n=e.current.alternate,!r||Kc(n)){if(2===s){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var o=e;s=Pc;var c=o.current.memoizedState.isDehydrated;if(c&&(td(o,i).flags|=256),2!==(i=id(o,i,!1))){if(bc&&!c){o.errorRecoveryDisabledLanes|=r,kc|=r,s=4;break e}r=Dc,Dc=s,null!==r&&(null===Dc?Dc=r:Dc.push.apply(Dc,r))}s=i}if(r=!1,2!==s)continue}}if(1===s){td(e,0),Yc(e,t,0,!0);break}e:{switch(a=e,r=s){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:Yc(a,t,Ac,!yc);break e;case 2:Dc=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(s=Lc+300-oe())){if(Yc(a,t,Ac,!yc),0!==Ae(a,0,!0))break e;_c=t,a.timeoutHandle=bu(Qc.bind(null,a,n,Dc,Oc,Tc,t,Ac,kc,Ec,yc,r,"Throttled",-0,0),s)}else Qc(a,n,Dc,Oc,Tc,t,Ac,kc,Ec,yc,r,null,-0,0)}break}s=id(e,t,!1),r=!1}Od(e)}function Qc(e,t,n,a,s,r,l,i,o,c,d,u,h,m){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){rc(t,r,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt});var p=(62914560&r)===r?Lc-oe():(4194048&r)===r?Fc-oe():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&oh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&oh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===rh&&(rh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var s=n[a],r=s.transferSize,l=s.initiatorType,i=s.duration;if(r&&i&&mu(l)){for(l=0,i=s.responseEnd,a+=1;a<n.length;a++){var o=n[a],c=o.startTime;if(c>i)break;var d=o.transferSize,u=o.initiatorType;d&&mu(u)&&(l+=d*((o=o.responseEnd)<i?1:(i-c)/(o-c)))}if(--a,t+=8*(r+l)/(s.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var s=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&oh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>rh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}(u,p)))return _c=r,e.cancelPendingCommit=p(fd.bind(null,e,t,r,n,a,s,l,i,o,d,u,null,h,m)),void Yc(e,r,l,!c)}fd(e,t,r,n,a,s,l,i,o)}function Kc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var s=n[a],r=s.getSnapshot;s=s.value;try{if(!Yn(r(),s))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yc(e,t,n,a){t&=~Cc,t&=~kc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var r=31-je(s),l=1<<r;a[r]=-1,s&=~l}0!==n&&Fe(e,n,t)}function Zc(){return 0!==(6&mc)||(Id(0,!1),!1)}function ed(){if(null!==fc){if(0===vc)var e=fc.return;else Ss=ws=null,ll(e=fc),ir=null,or=0,e=fc;for(;null!==e;)fo(e.alternate,e),e=e.return;fc=null}}function td(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Nu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),_c=0,ed(),pc=e,fc=n=_a(e.current,null),xc=t,vc=0,gc=null,yc=!1,jc=Ee(e,t),bc=!1,Ec=Ac=Cc=kc=Sc=wc=0,Dc=Pc=null,Tc=!1,0!==(8&t)&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var s=31-je(a),r=1<<s;t|=e[s],a&=~r}return Nc=t,Da(),n}function nd(e,t){Vr=null,R.H=pi,t===Ks||t===Zs?(t=rr(),vc=3):t===Ys?(t=rr(),vc=4):vc=t===Ti?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,gc=t,null===fc&&(wc=1,Ci(e,Xa(t,e.current)))}function ad(){var e=Lr.current;return null===e||((4194048&xc)===xc?null===Fr:((62914560&xc)===xc||0!==(536870912&xc))&&e===Fr)}function sd(){var e=R.H;return R.H=pi,null===e?pi:e}function rd(){var e=R.A;return R.A=uc,e}function ld(){wc=4,yc||(4194048&xc)!==xc&&null!==Lr.current||(jc=!0),0===(134217727&Sc)&&0===(134217727&kc)||null===pc||Yc(pc,xc,Ac,!1)}function id(e,t,n){var a=mc;mc|=2;var s=sd(),r=rd();pc===e&&xc===t||(Oc=null,td(e,t)),t=!1;var l=wc;e:for(;;)try{if(0!==vc&&null!==fc){var i=fc,o=gc;switch(vc){case 8:ed(),l=6;break e;case 3:case 2:case 9:case 6:null===Lr.current&&(t=!0);var c=vc;if(vc=0,gc=null,hd(e,i,o,c),n&&jc){l=0;break e}break;default:c=vc,vc=0,gc=null,hd(e,i,o,c)}}od(),l=wc;break}catch(d){nd(e,d)}return t&&e.shellSuspendCounter++,Ss=ws=null,mc=a,R.H=s,R.A=r,null===fc&&(pc=null,xc=0,Da()),l}function od(){for(;null!==fc;)dd(fc)}function cd(){for(;null!==fc&&!le();)dd(fc)}function dd(e){var t=ro(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function ud(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hi(n,t,t.pendingProps,t.type,void 0,xc);break;case 11:t=Hi(n,t,t.pendingProps,t.type.render,t.ref,xc);break;case 5:ll(t);default:fo(n,t),t=ro(n,t=fc=qa(t,Nc),Nc)}e.memoizedProps=e.pendingProps,null===t?md(e):fc=t}function hd(e,t,n,a){Ss=ws=null,ll(t),ir=null,or=0;var s=t.return;try{if(function(e,t,n,a,s){if(n.flags|=32768,null!==a&&"object"===typeof a&&"function"===typeof a.then){if(null!==(t=n.alternate)&&Ps(t,n,s,!0),null!==(n=Lr.current)){switch(n.tag){case 31:case 13:return null===Fr?ld():null===n.alternate&&0===wc&&(wc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,a===er?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([a]):t.add(a),Sd(e,a,s)),!1;case 22:return n.flags|=65536,a===er?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([a]):n.add(a),Sd(e,a,s)),!1}throw Error(l(435,n.tag))}return Sd(e,a,s),ld(),!1}if(us)return null!==(t=Lr.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==ps&&bs(Xa(e=Error(l(422),{cause:a}),n))):(a!==ps&&bs(Xa(t=Error(l(423),{cause:a}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,a=Xa(a,n),br(e,s=Ei(e.stateNode,a,s)),4!==wc&&(wc=2)),!1;var r=Error(l(520),{cause:a});if(r=Xa(r,n),null===Pc?Pc=[r]:Pc.push(r),4!==wc&&(wc=2),null===t)return!0;a=Xa(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,br(n,e=Ei(n.stateNode,a,e)),!1;case 1:if(t=n.type,r=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==r&&"function"===typeof r.componentDidCatch&&(null===Ic||!Ic.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,Di(s=Pi(s),e,n,a),br(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,xc))return wc=1,Ci(e,Xa(n,e.current)),void(fc=null)}catch(r){if(null!==s)throw fc=s,r;return wc=1,Ci(e,Xa(n,e.current)),void(fc=null)}32768&t.flags?(us||1===a?e=!0:jc||0!==(536870912&xc)?e=!1:(yc=e=!0,(2===a||9===a||3===a||6===a)&&(null!==(a=Lr.current)&&13===a.tag&&(a.flags|=16384))),pd(t,e)):md(t)}function md(e){var t=e;do{if(0!==(32768&t.flags))return void pd(t,yc);e=t.return;var n=mo(t.alternate,t,Nc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===wc&&(wc=5)}function pd(e,t){do{var n=po(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);wc=6,fc=null}function fd(e,t,n,a,s,r,i,o,c){e.cancelPendingCommit=null;do{jd()}while(0!==Mc);if(0!==(6&mc))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(r=t.lanes|t.childLanes,function(e,t,n,a,s,r){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=l&~n;0<n;){var d=31-je(n),u=1<<d;i[d]=0,o[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var m=h[d];null!==m&&(m.lane&=-536870913)}n&=~u}0!==a&&Fe(e,a,0),0!==r&&0===s&&0!==e.tag&&(e.suspendedLanes|=r&~(l&~t))}(e,n,r|=Pa,i,o,c),e===pc&&(fc=pc=null,xc=0),Uc=t,zc=e,_c=n,qc=r,Vc=s,Bc=a,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,se(he,function(){return bd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||a){a=R.T,R.T=null,s=O.p,O.p=2,i=mc,mc|=4;try{!function(e,t){if(e=e.containerInfo,pu=yh,sa(e=aa(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var s=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch(x){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(o=i+s),h!==r||0!==a&&3!==h.nodeType||(c=i+a),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===s&&(o=i),m===r&&++u===a&&(c=i),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fu={focusedElem:e,selectionRange:n},yh=!1,Fo=t;null!==Fo;)if(e=(t=Fo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Fo=e;else for(;null!==Fo;){switch(r=(t=Fo).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(s=e[n]).ref.impl=s.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==r){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,a=n.stateNode;try{var f=Ni(n.type,s);e=a.getSnapshotBeforeUpdate(f,r),a.__reactInternalSnapshotBeforeUpdate=e}catch(v){wd(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Fo=e;break}Fo=t.return}}(e,t)}finally{mc=i,O.p=s,R.T=a}}Mc=1,xd(),vd(),gd()}}function xd(){if(1===Mc){Mc=0;var e=zc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var a=O.p;O.p=2;var s=mc;mc|=4;try{Wo(t,e);var r=fu,l=aa(e.containerInfo),i=r.focusedElem,o=r.selectionRange;if(l!==i&&i&&i.ownerDocument&&na(i.ownerDocument.documentElement,i)){if(null!==o&&sa(i)){var c=o.start,d=o.end;if(void 0===d&&(d=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(d,i.value.length);else{var u=i.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var m=h.getSelection(),p=i.textContent.length,f=Math.min(o.start,p),x=void 0===o.end?f:Math.min(o.end,p);!m.extend&&f>x&&(l=x,x=f,f=l);var v=ta(i,f),g=ta(i,x);if(v&&g&&(1!==m.rangeCount||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=u.createRange();y.setStart(v.node,v.offset),m.removeAllRanges(),f>x?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(u=[],m=i;m=m.parentNode;)1===m.nodeType&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<u.length;i++){var j=u[i];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}yh=!!pu,fu=pu=null}finally{mc=s,O.p=a,R.T=n}}e.current=t,Mc=2}}function vd(){if(2===Mc){Mc=0;var e=zc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var a=O.p;O.p=2;var s=mc;mc|=4;try{Ro(e,t.alternate,t)}finally{mc=s,O.p=a,R.T=n}}Mc=3}}function gd(){if(4===Mc||3===Mc){Mc=0,ie();var e=zc,t=Uc,n=_c,a=Bc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Mc=5:(Mc=0,Uc=zc=null,yd(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Ic=null),Me(n),t=t.stateNode,ge&&"function"===typeof ge.onCommitFiberRoot)try{ge.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(o){}if(null!==a){t=R.T,s=O.p,O.p=2,R.T=null;try{for(var r=e.onRecoverableError,l=0;l<a.length;l++){var i=a[l];r(i.value,{componentStack:i.stack})}}finally{R.T=t,O.p=s}}0!==(3&_c)&&jd(),Od(e),s=e.pendingLanes,0!==(261930&n)&&0!==(42&s)?e===Wc?Hc++:(Hc=0,Wc=e):Hc=0,Id(0,!1)}}function yd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,_s(t)))}function jd(){return xd(),vd(),gd(),bd()}function bd(){if(5!==Mc)return!1;var e=zc,t=qc;qc=0;var n=Me(_c),a=R.T,s=O.p;try{O.p=32>n?32:n,R.T=null,n=Vc,Vc=null;var r=zc,i=_c;if(Mc=0,Uc=zc=null,_c=0,0!==(6&mc))throw Error(l(331));var o=mc;if(mc|=4,oc(r.current),ec(r,r.current,i,n),mc=o,Id(0,!1),ge&&"function"===typeof ge.onPostCommitFiberRoot)try{ge.onPostCommitFiberRoot(ve,r)}catch(c){}return!0}finally{O.p=s,R.T=a,yd(e,t)}}function Nd(e,t,n){t=Xa(n,t),null!==(e=yr(e,t=Ei(e.stateNode,t,2),2))&&(Le(e,2),Od(e))}function wd(e,t,n){if(3===e.tag)Nd(e,e,n);else for(;null!==t;){if(3===t.tag){Nd(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Ic||!Ic.has(a))){e=Xa(n,e),null!==(a=yr(t,n=Pi(2),2))&&(Di(n,a,t,e),Le(a,2),Od(a));break}}t=t.return}}function Sd(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new hc;var s=new Set;a.set(t,s)}else void 0===(s=a.get(t))&&(s=new Set,a.set(t,s));s.has(n)||(bc=!0,s.add(n),e=kd.bind(null,e,t,n),t.then(e,e))}function kd(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,pc===e&&(xc&n)===n&&(4===wc||3===wc&&(62914560&xc)===xc&&300>oe()-Lc?0===(2&mc)&&td(e,0):Cc|=n,Ec===xc&&(Ec=0)),Od(e)}function Cd(e,t){0===t&&(t=De()),null!==(e=Fa(e,t))&&(Le(e,t),Od(e))}function Ad(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cd(e,n)}function Ed(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==a&&a.delete(t),Cd(e,n)}var Pd=null,Dd=null,Td=!1,Ld=!1,Fd=!1,Rd=0;function Od(e){e!==Dd&&null===e.next&&(null===Dd?Pd=Dd=e:Dd=Dd.next=e),Ld=!0,Td||(Td=!0,Su(function(){0!==(6&mc)?se(de,Md):zd()}))}function Id(e,t){if(!Fd&&Ld){Fd=!0;do{for(var n=!1,a=Pd;null!==a;){if(!t)if(0!==e){var s=a.pendingLanes;if(0===s)var r=0;else{var l=a.suspendedLanes,i=a.pingedLanes;r=(1<<31-je(42|e)+1)-1,r=201326741&(r&=s&~(l&~i))?201326741&r|1:r?2|r:0}0!==r&&(n=!0,qd(a,r))}else r=xc,0===(3&(r=Ae(a,a===pc?r:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||Ee(a,r)||(n=!0,qd(a,r));a=a.next}}while(n);Fd=!1}}function Md(){zd()}function zd(){Ld=Td=!1;var e=0;0!==Rd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ju&&(ju=e,!0);return ju=null,!1}()&&(e=Rd);for(var t=oe(),n=null,a=Pd;null!==a;){var s=a.next,r=Ud(a,t);0===r?(a.next=null,null===n?Pd=s:n.next=s,null===s&&(Dd=n)):(n=a,(0!==e||0!==(3&r))&&(Ld=!0)),a=s}0!==Mc&&5!==Mc||Id(e,!1),0!==Rd&&(Rd=0)}function Ud(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,r=-62914561&e.pendingLanes;0<r;){var l=31-je(r),i=1<<l,o=s[l];-1===o?0!==(i&n)&&0===(i&a)||(s[l]=Pe(i,t)):o<=t&&(e.expiredLanes|=i),r&=~i}if(n=xc,n=Ae(e,e===(t=pc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&re(a),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ee(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&re(a),Me(n)){case 2:case 8:n=ue;break;case 32:default:n=he;break;case 268435456:n=pe}return a=_d.bind(null,e),n=se(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&re(a),e.callbackPriority=2,e.callbackNode=null,2}function _d(e,t){if(0!==Mc&&5!==Mc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(jd()&&e.callbackNode!==n)return null;var a=xc;return 0===(a=Ae(e,e===pc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Gc(e,a,t),Ud(e,oe()),null!=e.callbackNode&&e.callbackNode===n?_d.bind(null,e):null)}function qd(e,t){if(jd())return null;Gc(e,t,!0)}function Vd(){if(0===Rd){var e=Bs;0===e&&(e=we,0===(261888&(we<<=1))&&(we=256)),Rd=e}return Rd}function Bd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Hd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wd=0;Wd<Sa.length;Wd++){var $d=Sa[Wd];ka($d.toLowerCase(),"on"+($d[0].toUpperCase()+$d.slice(1)))}ka(xa,"onAnimationEnd"),ka(va,"onAnimationIteration"),ka(ga,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(ya,"onTransitionRun"),ka(ja,"onTransitionStart"),ka(ba,"onTransitionCancel"),ka(Na,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jd));function Gd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var l=a.length-1;0<=l;l--){var i=a[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==r&&s.isPropagationStopped())break e;r=i,s.currentTarget=c;try{r(s)}catch(d){Ca(d)}s.currentTarget=null,r=o}else for(l=0;l<a.length;l++){if(o=(i=a[l]).instance,c=i.currentTarget,i=i.listener,o!==r&&s.isPropagationStopped())break e;r=i,s.currentTarget=c;try{r(s)}catch(d){Ca(d)}s.currentTarget=null,r=o}}}}function Qd(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var a=e+"__bubble";n.has(a)||(eu(t,e,2,!1),n.add(a))}function Kd(e,t,n){var a=0;t&&(a|=4),eu(n,e,a,t)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[Yd]){e[Yd]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Xd.has(t)||Kd(t,!1,e),Kd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Yd]||(t[Yd]=!0,Kd("selectionchange",!1,t))}}function eu(e,t,n,a){switch(Ch(t)){case 2:var s=jh;break;case 8:s=bh;break;default:s=Nh}n=s.bind(null,t,n,e),s=void 0,!Vt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),a?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function tu(e,t,n,a,s){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var i=a.stateNode.containerInfo;if(i===s)break;if(4===l)for(l=a.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===s)return;l=l.return}for(;null!==i;){if(null===(l=Qe(i)))return;if(5===(c=l.tag)||6===c||26===c||27===c){a=r=l;continue e}i=i.parentNode}}a=a.return}Ut(function(){var a=r,s=Rt(n),l=[];e:{var i=wa.get(e);if(void 0!==i){var c=nn,d=e;switch(e){case"keypress":if(0===Xt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":d="focus",c=cn;break;case"focusout":d="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=jn;break;case xa:case va:case ga:c=dn;break;case Na:c=bn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=Nn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=wn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),m=u?null!==i?i+"Capture":null:i;u=[];for(var p,f=a;null!==f;){var x=f;if(p=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===p||null===m||null!=(x=_t(f,m))&&u.push(nu(f,x,p)),h)break;f=f.return}0<u.length&&(i=new c(i,d,null,n,s),l.push({event:i,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===Ft||!(d=n.relatedTarget||n.fromElement)||!Qe(d)&&!d[Be])&&(c||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=a,null!==(d=(d=n.relatedTarget||n.toElement)?Qe(d):null)&&(h=o(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=a),c!==d)){if(u=ln,x="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=yn,x="onPointerLeave",m="onPointerEnter",f="pointer"),h=null==c?i:Ye(c),p=null==d?i:Ye(d),(i=new u(x,f+"leave",c,n,s)).target=h,i.relatedTarget=p,x=null,Qe(s)===a&&((u=new u(m,f+"enter",d,n,s)).target=p,u.relatedTarget=h,x=u),h=x,c&&d)e:{for(u=su,f=d,p=0,x=m=c;x;x=u(x))p++;x=0;for(var v=f;v;v=u(v))x++;for(;0<p-x;)m=u(m),p--;for(;0<x-p;)f=u(f),x--;for(;p--;){if(m===f||null!==f&&m===f.alternate){u=m;break e}m=u(m),f=u(f)}u=null}else u=null;null!==c&&ru(l,i,c,u,!1),null!==d&&null!==h&&ru(l,h,d,u,!0)}if("select"===(c=(i=a?Ye(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var g=qn;else if(On(i))if(Vn)g=Kn;else{g=Gn;var y=Xn}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?a&&Et(a.elementType)&&(g=qn):g=Qn;switch(g&&(g=g(e,a))?In(l,g,n,s):(y&&y(e,i,a),"focusout"===e&&a&&"number"===i.type&&null!=a.memoizedProps.value&&jt(i,"number",i.value)),y=a?Ye(a):window,e){case"focusin":(On(y)||"true"===y.contentEditable)&&(la=y,ia=a,oa=null);break;case"focusout":oa=ia=la=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,da(l,n,s);break;case"selectionchange":if(ra)break;case"keydown":case"keyup":da(l,n,s)}var j;if(kn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?Tn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(En&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(j=Jt()):(Wt="value"in(Ht=s)?Ht.value:Ht.textContent,Fn=!0)),0<(y=au(a,b)).length&&(b=new hn(b,e,null,n,s),l.push({event:b,listeners:y}),j?b.data=j:null!==(j=Ln(n))&&(b.data=j))),(j=An?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(Dn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!kn&&Tn(e,t)?(e=Jt(),$t=Wt=Ht=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=au(a,"onBeforeInput")).length&&(y=new hn("onBeforeInput","beforeinput",null,n,s),l.push({event:y,listeners:b}),y.data=j)),function(e,t,n,a,s){if("submit"===t&&n&&n.stateNode===s){var r=Bd((s[Ve]||null).action),l=a.submitter;l&&null!==(t=(t=l[Ve]||null)?Bd(t.formAction):l.getAttribute("formAction"))&&(r=t,l=null);var i=new nn("action","action",null,a,s);e.push({event:i,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Rd){var e=l?Hd(s,l):new FormData(s);ei(n,{pending:!0,data:e,method:s.method,action:r},null,e)}}else"function"===typeof r&&(i.preventDefault(),e=l?Hd(s,l):new FormData(s),ei(n,{pending:!0,data:e,method:s.method,action:r},r,e))},currentTarget:s}]})}}(l,e,a,n,s)}Gd(l,t)})}function nu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function au(e,t){for(var n=t+"Capture",a=[];null!==e;){var s=e,r=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===r||(null!=(s=_t(e,n))&&a.unshift(nu(e,s,r)),null!=(s=_t(e,t))&&a.push(nu(e,s,r))),3===e.tag)return a;e=e.return}return[]}function su(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ru(e,t,n,a,s){for(var r=t._reactName,l=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(i=i.tag,null!==o&&o===a)break;5!==i&&26!==i&&27!==i||null===c||(o=c,s?null!=(c=_t(n,r))&&l.unshift(nu(n,c,o)):s||null!=(c=_t(n,r))&&l.push(nu(n,c,o))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var lu=/\r\n?/g,iu=/\u0000|\uFFFD/g;function ou(e){return("string"===typeof e?e:""+e).replace(lu,"\n").replace(iu,"")}function cu(e,t){return t=ou(t),ou(e)===t}function du(e,t,n,a,s,r){switch(n){case"children":"string"===typeof a?"body"===t||"textarea"===t&&""===a||St(e,a):("number"===typeof a||"bigint"===typeof a)&&"body"!==t&&St(e,""+a);break;case"className":ct(e,"class",a);break;case"tabIndex":ct(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,a);break;case"style":At(e,a,r);break;case"data":if("object"!==t){ct(e,"data",a);break}case"src":case"href":if(""===a&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==a||"function"===typeof a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Tt(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if("function"===typeof a){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof r&&("formAction"===n?("input"!==t&&du(e,t,"name",s.name,s,null),du(e,t,"formEncType",s.formEncType,s,null),du(e,t,"formMethod",s.formMethod,s,null),du(e,t,"formTarget",s.formTarget,s,null)):(du(e,t,"encType",s.encType,s,null),du(e,t,"method",s.method,s,null),du(e,t,"target",s.target,s,null))),null==a||"symbol"===typeof a||"boolean"===typeof a){e.removeAttribute(n);break}a=Tt(""+a),e.setAttribute(n,a);break;case"onClick":null!=a&&(e.onclick=Lt);break;case"onScroll":null!=a&&Qd("scroll",e);break;case"onScrollEnd":null!=a&&Qd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(l(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"muted":e.muted=a&&"function"!==typeof a&&"symbol"!==typeof a;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==a||"function"===typeof a||"boolean"===typeof a||"symbol"===typeof a){e.removeAttribute("xlink:href");break}n=Tt(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===a?e.setAttribute(n,""):!1!==a&&null!=a&&"function"!==typeof a&&"symbol"!==typeof a?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":null==a||"function"===typeof a||"symbol"===typeof a||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":Qd("beforetoggle",e),Qd("toggle",e),ot(e,"popover",a);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ot(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=Pt.get(n)||n,a)}}function uu(e,t,n,a,s,r){switch(n){case"style":At(e,a,r);break;case"dangerouslySetInnerHTML":if(null!=a){if("object"!==typeof a||!("__html"in a))throw Error(l(61));if(null!=(n=a.__html)){if(null!=s.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"===typeof a?St(e,a):("number"===typeof a||"bigint"===typeof a)&&St(e,""+a);break;case"onScroll":null!=a&&Qd("scroll",e);break;case"onScrollEnd":null!=a&&Qd("scrollend",e);break;case"onClick":null!=a&&(e.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(r=null!=(r=e[Ve]||null)?r[n]:null)&&e.removeEventListener(t,r,s),"function"!==typeof a)?n in e?e[n]=a:!0===a?e.setAttribute(n,""):ot(e,n,a):("function"!==typeof r&&null!==r&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,s)))}}function hu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qd("error",e),Qd("load",e);var a,s=!1,r=!1;for(a in n)if(n.hasOwnProperty(a)){var i=n[a];if(null!=i)switch(a){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,a,i,n,null)}}return r&&du(e,t,"srcSet",n.srcSet,n,null),void(s&&du(e,t,"src",n.src,n,null));case"input":Qd("invalid",e);var o=a=i=r=null,c=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(null!=u)switch(s){case"name":r=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(l(137,t));break;default:du(e,t,s,u,n,null)}}return void yt(e,a,o,c,d,i,r,!1);case"select":for(r in Qd("invalid",e),s=i=a=null,n)if(n.hasOwnProperty(r)&&null!=(o=n[r]))switch(r){case"value":a=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:du(e,t,r,o,n,null)}return t=a,n=i,e.multiple=!!s,void(null!=t?bt(e,!!s,t,!1):null!=n&&bt(e,!!s,n,!0));case"textarea":for(i in Qd("invalid",e),a=r=s=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":s=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(l(91));break;default:du(e,t,i,o,n,null)}return void wt(e,s,r,a);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else du(e,t,c,s,n,null);return;case"dialog":Qd("beforetoggle",e),Qd("toggle",e),Qd("cancel",e),Qd("close",e);break;case"iframe":case"object":Qd("load",e);break;case"video":case"audio":for(s=0;s<Jd.length;s++)Qd(Jd[s],e);break;case"image":Qd("error",e),Qd("load",e);break;case"details":Qd("toggle",e);break;case"embed":case"source":case"link":Qd("error",e),Qd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(s=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:du(e,t,d,s,n,null)}return;default:if(Et(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(s=n[u])&&uu(e,t,u,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(s=n[o])&&du(e,t,o,s,n,null))}function mu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pu=null,fu=null;function xu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gu(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function yu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ju=null;var bu="function"===typeof setTimeout?setTimeout:void 0,Nu="function"===typeof clearTimeout?clearTimeout:void 0,wu="function"===typeof Promise?Promise:void 0,Su="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wu?function(e){return wu.resolve(null).then(e).catch(ku)}:bu;function ku(e){setTimeout(function(){throw e})}function Cu(e){return"head"===e}function Au(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)||"/&"===n){if(0===a)return e.removeChild(s),void Hh(t);a--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)a++;else if("html"===n)zu(e.ownerDocument.documentElement);else if("head"===n){zu(n=e.ownerDocument.head);for(var r=n.firstChild;r;){var l=r.nextSibling,i=r.nodeName;r[Xe]||"SCRIPT"===i||"STYLE"===i||"LINK"===i&&"stylesheet"===r.rel.toLowerCase()||n.removeChild(r),r=l}}else"body"===n&&zu(e.ownerDocument.body);n=s}while(n);Hh(t)}function Eu(e,t){var n=e;e=0;do{var a=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=a}while(n)}function Pu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pu(n),Ge(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Du(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Fu(e.nextSibling)))return null}return e}function Tu(e){return"$?"===e.data||"$~"===e.data}function Lu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Fu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ru=null;function Ou(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Fu(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Iu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Mu(e,t,n){switch(t=xu(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function zu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ge(e)}var Uu=new Map,_u=new Set;function qu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vu=O.d;O.d={f:function(){var e=Vu.f(),t=Zc();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?ni(t):Vu.r(e)},D:function(e){Vu.D(e),Hu("dns-prefetch",e,null)},C:function(e,t){Vu.C(e,t),Hu("preconnect",e,t)},L:function(e,t,n){Vu.L(e,t,n);var a=Bu;if(a&&e&&t){var s='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+vt(n.imageSizes)+'"]')):s+='[href="'+vt(e)+'"]';var r=s;switch(t){case"style":r=$u(e);break;case"script":r=Gu(e)}Uu.has(r)||(e=m({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Uu.set(r,e),null!==a.querySelector(s)||"style"===t&&a.querySelector(Ju(r))||"script"===t&&a.querySelector(Qu(r))||(hu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}},m:function(e,t){Vu.m(e,t);var n=Bu;if(n&&e){var a=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',r=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Gu(e)}if(!Uu.has(r)&&(e=m({rel:"modulepreload",href:e},t),Uu.set(r,e),null===n.querySelector(s))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qu(r)))return}hu(a=n.createElement("link"),"link",e),et(a),n.head.appendChild(a)}}},X:function(e,t){Vu.X(e,t);var n=Bu;if(n&&e){var a=Ze(n).hoistableScripts,s=Gu(e),r=a.get(s);r||((r=n.querySelector(Qu(s)))||(e=m({src:e,async:!0},t),(t=Uu.get(s))&&eh(e,t),et(r=n.createElement("script")),hu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}},S:function(e,t,n){Vu.S(e,t,n);var a=Bu;if(a&&e){var s=Ze(a).hoistableStyles,r=$u(e);t=t||"default";var l=s.get(r);if(!l){var i={loading:0,preload:null};if(l=a.querySelector(Ju(r)))i.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Uu.get(r))&&Zu(e,n);var o=l=a.createElement("link");et(o),hu(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){i.loading|=1}),o.addEventListener("error",function(){i.loading|=2}),i.loading|=4,Yu(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:i},s.set(r,l)}}},M:function(e,t){Vu.M(e,t);var n=Bu;if(n&&e){var a=Ze(n).hoistableScripts,s=Gu(e),r=a.get(s);r||((r=n.querySelector(Qu(s)))||(e=m({src:e,async:!0,type:"module"},t),(t=Uu.get(s))&&eh(e,t),et(r=n.createElement("script")),hu(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},a.set(s,r))}}};var Bu="undefined"===typeof document?null:document;function Hu(e,t,n){var a=Bu;if(a&&"string"===typeof t&&t){var s=vt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),_u.has(s)||(_u.add(s),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(s)&&(hu(t=a.createElement("link"),"link",e),et(t),a.head.appendChild(t)))}}function Wu(e,t,n,a){var s,r,i,o,c=(c=$.current)?qu(c):null;if(!c)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=$u(n.href),(a=(n=Ze(c).hoistableStyles).get(t))||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=$u(n.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Ju(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Uu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Uu.set(e,n),d||(s=c,r=e,i=n,o=u.state,s.querySelector('link[rel="preload"][as="style"]['+r+"]")?o.loading=1:(r=s.createElement("link"),o.preload=r,r.addEventListener("load",function(){return o.loading|=1}),r.addEventListener("error",function(){return o.loading|=2}),hu(r,"link",i),et(r),s.head.appendChild(r))))),t&&null===a)throw Error(l(528,""));return u}if(t&&null!==a)throw Error(l(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Gu(n),(a=(n=Ze(c).hoistableScripts).get(t))||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function $u(e){return'href="'+vt(e)+'"'}function Ju(e){return'link[rel="stylesheet"]['+e+"]"}function Xu(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Gu(e){return'[src="'+vt(e)+'"]'}function Qu(e){return"script[async]"+e}function Ku(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(a)return t.instance=a,et(a),a;var s=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(a=(e.ownerDocument||e).createElement("style")),hu(a,"style",s),Yu(a,n.precedence,e),t.instance=a;case"stylesheet":s=$u(n.href);var r=e.querySelector(Ju(s));if(r)return t.state.loading|=4,t.instance=r,et(r),r;a=Xu(n),(s=Uu.get(s))&&Zu(a,s),et(r=(e.ownerDocument||e).createElement("link"));var i=r;return i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),hu(r,"link",a),t.state.loading|=4,Yu(r,n.precedence,e),t.instance=r;case"script":return r=Gu(n.src),(s=e.querySelector(Qu(r)))?(t.instance=s,et(s),s):(a=n,(s=Uu.get(r))&&eh(a=m({},n),s),et(s=(e=e.ownerDocument||e).createElement("script")),hu(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(a=t.instance,t.state.loading|=4,Yu(a,n.precedence,e));return t.instance}function Yu(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,r=s,l=0;l<a.length;l++){var i=a[l];if(i.dataset.precedence===t)r=i;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function nh(e,t,n){if(null===th){var a=new Map,s=th=new Map;s.set(n,a)}else(a=(s=th).get(n))||(a=new Map,s.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[Xe]||r[qe]||"link"===e&&"stylesheet"===r.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==r.namespaceURI){var l=r.getAttribute(t)||"";l=e+l;var i=a.get(l);i?i.push(r):a.set(l,[r])}}return a}function ah(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var rh=0;function lh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ih=null;function oh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ih=new Map,t.forEach(ch,e),ih=null,lh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var n=ih.get(e);if(n)var a=n.get(null);else{n=new Map,ih.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var l=s[r];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),a=l)}a&&n.set(null,a)}l=(s=t.instance).getAttribute("data-precedence"),(r=n.get(l)||a)===a&&n.set(null,s),n.set(l,s),this.count++,a=lh.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),r?r.parentNode.insertBefore(s,r.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var dh={$$typeof:b,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function uh(e,t,n,a,s,r,l,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function hh(e,t,n,a,s,r,l,i,o,c,d,u){return e=new uh(e,t,n,l,o,c,d,u,i),t=1,!0===r&&(t|=24),r=za(3,null,null,t),e.current=r,r.stateNode=e,(t=Us()).refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:a,isDehydrated:n,cache:t},xr(r),e}function mh(e){return e?e=Ia:Ia}function ph(e,t,n,a,s,r){s=mh(s),null===a.context?a.context=s:a.pendingContext=s,(a=gr(t)).payload={element:n},null!==(r=void 0===r?null:r)&&(a.callback=r),null!==(n=yr(e,a,t))&&(Xc(n,0,t),jr(n,e,t))}function fh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function xh(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Fa(e,67108864);null!==t&&Xc(t,0,67108864),xh(e,67108864)}}function gh(e){if(13===e.tag||31===e.tag){var t=$c(),n=Fa(e,t=Ie(t));null!==n&&Xc(n,0,t),xh(e,t)}}var yh=!0;function jh(e,t,n,a){var s=R.T;R.T=null;var r=O.p;try{O.p=2,Nh(e,t,n,a)}finally{O.p=r,R.T=s}}function bh(e,t,n,a){var s=R.T;R.T=null;var r=O.p;try{O.p=8,Nh(e,t,n,a)}finally{O.p=r,R.T=s}}function Nh(e,t,n,a){if(yh){var s=wh(a);if(null===s)tu(e,t,a,Sh,n),Oh(e,a);else if(function(e,t,n,a,s){switch(t){case"focusin":return Eh=Ih(Eh,e,t,n,a,s),!0;case"dragenter":return Ph=Ih(Ph,e,t,n,a,s),!0;case"mouseover":return Dh=Ih(Dh,e,t,n,a,s),!0;case"pointerover":var r=s.pointerId;return Th.set(r,Ih(Th.get(r)||null,e,t,n,a,s)),!0;case"gotpointercapture":return r=s.pointerId,Lh.set(r,Ih(Lh.get(r)||null,e,t,n,a,s)),!0}return!1}(s,e,t,n,a))a.stopPropagation();else if(Oh(e,a),4&t&&-1<Rh.indexOf(e)){for(;null!==s;){var r=Ke(s);if(null!==r)switch(r.tag){case 3:if((r=r.stateNode).current.memoizedState.isDehydrated){var l=Ce(r.pendingLanes);if(0!==l){var i=r;for(i.pendingLanes|=2,i.entangledLanes|=2;l;){var o=1<<31-je(l);i.entanglements[1]|=o,l&=~o}Od(r),0===(6&mc)&&(Rc=oe()+500,Id(0,!1))}}break;case 31:case 13:null!==(i=Fa(r,2))&&Xc(i,0,2),Zc(),xh(r,2)}if(null===(r=wh(a))&&tu(e,t,a,Sh,n),r===s)break;s=r}null!==s&&a.stopPropagation()}else tu(e,t,a,null,n)}}function wh(e){return kh(e=Rt(e))}var Sh=null;function kh(e){if(Sh=null,null!==(e=Qe(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Sh=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case he:case me:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ah=!1,Eh=null,Ph=null,Dh=null,Th=new Map,Lh=new Map,Fh=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oh(e,t){switch(e){case"focusin":case"focusout":Eh=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Dh=null;break;case"pointerover":case"pointerout":Th.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lh.delete(t.pointerId)}}function Ih(e,t,n,a,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=Ke(t))&&vh(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mh(e){var t=Qe(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){gh(n)})}else if(31===t){if(null!==(t=d(n)))return e.blockedOn=t,void Ue(e.priority,function(){gh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=wh(e.nativeEvent);if(null!==n)return null!==(t=Ke(n))&&vh(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);Ft=a,n.target.dispatchEvent(a),Ft=null,t.shift()}return!0}function Uh(e,t,n){zh(e)&&n.delete(t)}function _h(){Ah=!1,null!==Eh&&zh(Eh)&&(Eh=null),null!==Ph&&zh(Ph)&&(Ph=null),null!==Dh&&zh(Dh)&&(Dh=null),Th.forEach(Uh),Lh.forEach(Uh)}function qh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ah||(Ah=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,_h)))}var Vh=null;function Bh(e){Vh!==e&&(Vh=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Vh===e&&(Vh=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],s=e[t+2];if("function"!==typeof a){if(null===kh(a||n))continue;break}var r=Ke(n);null!==r&&(e.splice(t,3),t-=3,ei(r,{pending:!0,data:s,method:n.method,action:a},a,s))}}))}function Hh(e){function t(t){return qh(t,e)}null!==Eh&&qh(Eh,e),null!==Ph&&qh(Ph,e),null!==Dh&&qh(Dh,e),Th.forEach(t),Lh.forEach(t);for(var n=0;n<Fh.length;n++){var a=Fh[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Fh.length&&null===(n=Fh[0]).blockedOn;)Mh(n),null===n.blockedOn&&Fh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var s=n[a],r=n[a+1],l=s[Ve]||null;if("function"===typeof r)l||Bh(n);else if(l){var i=null;if(r&&r.hasAttribute("formAction")){if(s=r,l=r[Ve]||null)i=l.formAction;else if(null!==kh(s))continue}else i=l.action;"function"===typeof i?n[a+1]=i:(n.splice(a,3),a-=3),Bh(n)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return s=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==s&&(s(),s=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==s&&(s(),s=null)}}}function $h(e){this._internalRoot=e}function Jh(e){this._internalRoot=e}Jh.prototype.render=$h.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));ph(t.current,$c(),e,t,null,null)},Jh.prototype.unmount=$h.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Zc(),t[Be]=null}},Jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fh.length&&0!==t&&t<Fh[n].priority;n++);Fh.splice(n,0,e),0===n&&Mh(e)}};var Xh=s.version;if("19.2.0"!==Xh)throw Error(l(527,Xh,"19.2.0"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(a=s.return)){n=a;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return u(s),e;if(r===a)return u(s),t;r=r.sibling}throw Error(l(188))}if(n.return!==a.return)n=s,a=r;else{for(var i=!1,c=s.child;c;){if(c===n){i=!0,n=s,a=r;break}if(c===a){i=!0,a=s,n=r;break}c=c.sibling}if(!i){for(c=r.child;c;){if(c===n){i=!0,n=r,a=s;break}if(c===a){i=!0,a=r,n=s;break}c=c.sibling}if(!i)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Gh={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{ve=Qh.inject(Gh),ge=Qh}catch(Yh){}}t.createRoot=function(e,t){if(!i(e))throw Error(l(299));var n=!1,a="",s=wi,r=Si,o=ki;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(r=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=hh(e,1,!1,null,0,n,a,null,s,r,o,Wh),e[Be]=t.current,Zd(e),new $h(t)},t.hydrateRoot=function(e,t,n){if(!i(e))throw Error(l(299));var a=!1,s="",r=wi,o=Si,c=ki,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=hh(e,1,!0,t,0,a,s,d,r,o,c,Wh)).context=mh(null),n=t.current,(s=gr(a=Ie(a=$c()))).callback=null,yr(n,s,a),n=a,t.current.lanes=n,Le(t,n),Od(t),e[Be]=t.current,Zd(e),new Jh(t)},t.version="19.2.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}function y(){}function j(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=j.prototype=new y;b.constructor=j,x(b,g.prototype),b.isPureReactComponent=!0;var N=Array.isArray;function w(){}var S={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function C(e,t,a){var s=a.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==s?s:null,props:a}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,s,r,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o,c,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case a:d=!0;break;case h:return D((d=e._init)(e._payload),t,s,r,l)}}if(d)return l=l(e),d=""===r?"."+P(e,0):r,N(l)?(s="",null!=d&&(s=d.replace(E,"$&/")+"/"),D(l,t,s,"",function(e){return e})):null!=l&&(A(l)&&(o=l,c=s+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(E,"$&/")+"/")+d,l=C(o.type,c,o.props)),t.push(l)),1;d=0;var u,m=""===r?".":r+":";if(N(e))for(var f=0;f<e.length;f++)d+=D(r=e[f],t,s,i=m+P(r,f),l);else if("function"===typeof(f=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=f.call(e),f=0;!(r=e.next()).done;)d+=D(r=r.value,t,s,i=m+P(r,f++),l);else if("object"===i){if("function"===typeof e.then)return D(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,r,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function T(e,t,n){if(null==e)return e;var a=[],s=0;return D(e,a,"","",function(e){return t.call(n,e,s++)}),a}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=m,t.Children=R,t.Component=g,t.Fragment=s,t.Profiler=l,t.PureComponent=j,t.StrictMode=r,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var a=x({},e.props),s=e.key;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)!k.call(t,r)||"key"===r||"__self"===r||"__source"===r||"ref"===r&&void 0===t.ref||(a[r]=t[r]);var r=arguments.length-2;if(1===r)a.children=n;else if(1<r){for(var l=Array(r),i=0;i<r;i++)l[i]=arguments[i+2];a.children=l}return C(e.type,s,a)},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,n){var a,s={},r=null;if(null!=t)for(a in void 0!==t.key&&(r=""+t.key),t)k.call(t,a)&&"key"!==a&&"__self"!==a&&"__source"!==a&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var i=Array(l),o=0;o<l;o++)i[o]=arguments[o+2];s.children=i}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return C(e,r,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var a=e(),s=S.S;null!==s&&s(n,a),"object"===typeof a&&null!==a&&"function"===typeof a.then&&a.then(w,F)}catch(r){F(r)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var a=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(s(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=o.T,n=l.p;try{if(o.T=null,l.p=2,e)return e()}finally{o.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,r="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:a,integrity:s,fetchPriority:r}):"script"===n&&l.d.X(e,{crossOrigin:a,integrity:s,fetchPriority:r,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,a=c(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:a,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},t.useFormStatus=function(){return o.H.useHostTransitionStatus()},t.version="19.2.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(e,t,a){var s=null;if(void 0!==a&&(s=""+a),void 0!==t.key&&(s=""+t.key),"key"in t)for(var r in a={},t)"key"!==r&&(a[r]=t[r]);else a=t;return t=a.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:a}}t.Fragment=a,t.jsx=s,t.jsxs=s},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<r(s,t)))break e;e[a]=t,e[n]=s,n=a}}function a(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,l=s>>>1;a<l;){var i=2*(a+1)-1,o=e[i],c=i+1,d=e[c];if(0>r(o,n))c<s&&0>r(d,o)?(e[a]=d,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<s&&0>r(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,x=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,j="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=a(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function N(e){if(x=!1,b(e),!f)if(null!==a(c))f=!0,S||(S=!0,w());else{var t=a(d);null!==t&&L(N,t.startTime-e)}}var w,S=!1,k=-1,C=5,A=-1;function E(){return!!v||!(t.unstable_now()-A<C)}function P(){if(v=!1,S){var e=t.unstable_now();A=e;var n=!0;try{e:{f=!1,x&&(x=!1,y(k),k=-1),p=!0;var r=m;try{t:{for(b(e),h=a(c);null!==h&&!(h.expirationTime>e&&E());){var l=h.callback;if("function"===typeof l){h.callback=null,m=h.priorityLevel;var i=l(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){h.callback=i,b(e),n=!0;break t}h===a(c)&&s(c),b(e)}else s(c);h=a(c)}if(null!==h)n=!0;else{var o=a(d);null!==o&&L(N,o.startTime-e),n=!1}}break e}finally{h=null,m=r,p=!1}n=void 0}}finally{n?w():S=!1}}}if("function"===typeof j)w=function(){j(P)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,T=D.port2;D.port1.onmessage=P,w=function(){T.postMessage(null)}}else w=function(){g(P,0)};function L(e,n){k=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,s,r){var l=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?l+r:l:r=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>l?(e.sortIndex=r,n(d,e),null===a(c)&&e===a(d)&&(x?(y(k),k=-1):x=!0,L(N,r-l))):(e.sortIndex=i,n(c,e),f||p||(f=!0,S||(S=!0,w()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.u=e=>"static/js/"+e+".30c053b8.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="real-estate-dash:";n.l=(a,s,r,l)=>{if(e[a])e[a].push(s);else{var i,o;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+r){i=u;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+r),i.src=a),e[a]=[s];var h=(t,n)=>{i.onerror=i.onload=null,clearTimeout(m);var s=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach(e=>e(n)),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),o&&document.head.appendChild(i)}}})(),n.p="/",(()=>{var e={792:0};n.f.j=(t,a)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)a.push(s[2]);else{var r=new Promise((n,a)=>s=e[t]=[n,a]);a.push(s[2]=r);var l=n.p+n.u(t),i=new Error;n.l(l,a=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var r=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+l+")",i.name="ChunkLoadError",i.type=r,i.request=l,s[1](i)}},"chunk-"+t,t)}};var t=(t,a)=>{var s,r,l=a[0],i=a[1],o=a[2],c=0;if(l.some(t=>0!==e[t])){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(o)o(n)}for(t&&t(a);c<l.length;c++)r=l[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},a=self.webpackChunkreal_estate_dash=self.webpackChunkreal_estate_dash||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n(43),s=n(391);function r(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=l(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=["sri"],h=["page"],m=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],x=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function g(){return k(function(e,t){let{pathname:n,search:a,hash:s}=e.location;return N("",{pathname:n,search:a,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function y(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function b(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||a||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function k(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:r=!1}=a,l=s.history,i="POP",o=null,c=u();function u(){return(l.state||{idx:null}).idx}function h(){i="POP";let e=u(),t=null==e?null:e-c;c=e,o&&o({action:i,location:p.location,delta:t})}function m(e){return C(e)}null==c&&(c=0,l.replaceState(d(d({},l.state),{},{idx:c}),""));let p={get action(){return i},get location(){return e(s,l)},listen(e){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(v,h),o=e,()=>{s.removeEventListener(v,h),o=null}},createHref:e=>t(s,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i="PUSH";let a=N(p.location,e,t);n&&n(a,e),c=u()+1;let d=b(a,c),h=p.createHref(a);try{l.pushState(d,"",h)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(h)}r&&o&&o({action:i,location:p.location,delta:1})},replace:function(e,t){i="REPLACE";let a=N(p.location,e,t);n&&n(a,e),c=u();let s=b(a,c),d=p.createHref(a);l.replaceState(s,"",d),r&&o&&o({action:i,location:p.location,delta:0})},go:e=>l.go(e)};return p}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),y(n,"No window.location.(origin|href) available to create URL");let a="string"===typeof e?e:w(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}new WeakMap;function A(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,a){let s=B(("string"===typeof t?S(t):t).pathname||"/",n);if(null==s)return null;let r=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let l=null;for(let i=0;null==l&&i<r.length;++i){let e=V(s);l=U(r[i],e,a)}return l}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=function(e,r){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,i=arguments.length>3?arguments[3]:void 0,o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};if(o.relativePath.startsWith("/")){if(!o.relativePath.startsWith(a)&&l)return;y(o.relativePath.startsWith(a),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(a,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(a.length)}let c=X([a,o.relativePath]),d=n.concat(o);e.children&&e.children.length>0&&(y(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,d,c,l)),(null!=e.path||e.index)&&t.push({path:c,score:z(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let a of D(e.path))r(e,t,!0,a);else r(e,t)}),t}function D(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===a.length)return s?[r,""]:[r];let l=D(a.join("/")),i=[];return i.push(...l.map(e=>""===e?r:[r,e].join("/"))),s&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}var T=/^:[\w-]+$/,L=3,F=2,R=1,O=10,I=-2,M=e=>"*"===e;function z(e,t){let n=e.split("/"),a=n.length;return n.some(M)&&(a+=I),t&&(a+=F),n.filter(e=>!M(e)).reduce((e,t)=>e+(T.test(t)?L:""===t?R:O),a)}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:a}=e,s={},r="/",l=[];for(let i=0;i<a.length;++i){let e=a[i],o=i===a.length-1,c="/"===r?t:t.slice(r.length)||"/",d=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!a[a.length-1].route.index&&(d=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:X([r,d.pathname]),pathnameBase:G(X([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=X([r,d.pathnameBase]))}return l}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=q(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:s}=t;if("*"===a){let e=i[n]||"";l=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[a]=s&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:r,pathnameBase:l,pattern:e}}function q(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function V(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return j(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function H(e,t,n,a){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(a),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function $(e){let t=W(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function J(e,t,n){let a,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?a=S(e):(a=d({},e),y(!a.pathname||!a.pathname.includes("?"),H("?","pathname","search",a)),y(!a.pathname||!a.pathname.includes("#"),H("#","pathname","hash",a)),y(!a.search||!a.search.includes("#"),H("#","search","hash",a)));let r,l=""===e||""===a.pathname,i=l?"/":a.pathname;if(null==i)r=n;else{let e=t.length-1;if(!s&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}r=e>=0?t[e]:"/"}let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:a="",hash:s=""}="string"===typeof e?S(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:Q(a),hash:K(s)}}(a,r),c=i&&"/"!==i&&i.endsWith("/"),u=(l||"."===i)&&n.endsWith("/");return o.pathname.endsWith("/")||!c&&!u||(o.pathname+="/"),o}var X=e=>e.join("/").replace(/\/\/+/g,"/"),G=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",K=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Y(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=a.createContext(null);te.displayName="DataRouter";var ne=a.createContext(null);ne.displayName="DataRouterState";var ae=a.createContext(!1);var se=a.createContext({isTransitioning:!1});se.displayName="ViewTransition";var re=a.createContext(new Map);re.displayName="Fetchers";var le=a.createContext(null);le.displayName="Await";var ie=a.createContext(null);ie.displayName="Navigation";var oe=a.createContext(null);oe.displayName="Location";var ce=a.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var de=a.createContext(null);de.displayName="RouteError";function ue(){return null!=a.useContext(oe)}function he(){return y(ue(),"useLocation() may be used only in the context of a <Router> component."),a.useContext(oe).location}var me="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){a.useContext(ie).static||a.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=a.useContext(ce);return e?function(){let{router:e}=Se("useNavigate"),t=Ce("useNavigate"),n=a.useRef(!1);pe(()=>{n.current=!0});let s=a.useCallback(async function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j(n.current,me),n.current&&("number"===typeof a?e.navigate(a):await e.navigate(a,d({fromRouteId:t},s)))},[e,t]);return s}():function(){y(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=a.useContext(te),{basename:t,navigator:n}=a.useContext(ie),{matches:s}=a.useContext(ce),{pathname:r}=he(),l=JSON.stringify($(s)),i=a.useRef(!1);pe(()=>{i.current=!0});let o=a.useCallback(function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(j(i.current,me),!i.current)return;if("number"===typeof a)return void n.go(a);let o=J(a,JSON.parse(l),r,"path"===s.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:X([t,o.pathname])),(s.replace?n.replace:n.push)(o,s.state,s)},[t,n,l,r,e]);return o}()}a.createContext(null);function xe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=a.useContext(ce),{pathname:s}=he(),r=JSON.stringify($(n));return a.useMemo(()=>J(e,JSON.parse(r),s,"path"===t),[e,r,s,t])}function ve(e,t,n,s,r){y(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=a.useContext(ie),{matches:i}=a.useContext(ce),o=i[i.length-1],c=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let e=m&&m.path||"";Pe(u,!m||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,f=he();if(t){var x;let e="string"===typeof t?S(t):t;y("/"===h||(null===(x=e.pathname)||void 0===x?void 0:x.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=f;let v=p.pathname||"/",g=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=A(e,{pathname:g});j(m||null!=b,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),j(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let N=Ne(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:X([h,l.encodeLocation?l.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:X([h,l.encodeLocation?l.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),i,n,s,r);return t&&N?a.createElement(oe.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},N):N}function ge(){let e=Ae(),t=Y(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=a.createElement(a.Fragment,null,a.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:l},"ErrorBoundary")," or"," ",a.createElement("code",{style:l},"errorElement")," prop on your route.")),a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:r},n):null,i)}var ye=a.createElement(ge,null),je=class extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?a.createElement(ce.Provider,{value:this.props.routeContext},a.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function be(e){let{routeContext:t,match:n,children:s}=e,r=a.useContext(te);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(ce.Provider,{value:t},s)}function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,l=null===n||void 0===n?void 0:n.errors;if(null!=l){let e=r.findIndex(e=>e.route.id&&void 0!==(null===l||void 0===l?void 0:l[e.route.id]));y(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(l).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let i=!1,o=-1;if(n)for(let a=0;a<r.length;a++){let e=r[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=a),e.route.id){let{loaderData:t,errors:a}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||s){i=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}return r.reduceRight((e,c,d)=>{let u,h=!1,m=null,p=null;n&&(u=l&&c.route.id?l[c.route.id]:void 0,m=c.route.errorElement||ye,i&&(o<0&&0===d?(Pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):o===d&&(h=!0,p=c.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,d+1)),x=()=>{let t;return t=u?m:h?p:c.route.Component?a.createElement(c.route.Component,null):c.route.element?c.route.element:e,a.createElement(be,{match:c,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?a.createElement(je,{location:n.location,revalidation:n.revalidation,component:m,error:u,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:s}):x()},null)}function we(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Se(e){let t=a.useContext(te);return y(t,we(e)),t}function ke(e){let t=a.useContext(ne);return y(t,we(e)),t}function Ce(e){let t=function(e){let t=a.useContext(ce);return y(t,we(e)),t}(e),n=t.matches[t.matches.length-1];return y(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ae(){var e;let t=a.useContext(de),n=ke("useRouteError"),s=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[s]}var Ee={};function Pe(e,t,n){t||Ee[e]||(Ee[e]=!0,j(!1,n))}var De={};function Te(e,t){e||De[t]||(De[t]=!0,console.warn(t))}a.memo(function(e){let{routes:t,future:n,state:a,unstable_onError:s}=e;return ve(t,void 0,a,s,n)});function Le(e){let{to:t,replace:n,state:s,relative:r}=e;y(ue(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=a.useContext(ie);j(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=a.useContext(ce),{pathname:o}=he(),c=fe(),d=J(t,$(i),o,"path"===r),u=JSON.stringify(d);return a.useEffect(()=>{c(JSON.parse(u),{replace:n,state:s,relative:r})},[c,u,r,n,s]),null}function Fe(e){y(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Re(e){let{basename:t="/",children:n=null,location:s,navigationType:r="POP",navigator:l,static:i=!1}=e;y(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=a.useMemo(()=>({basename:o,navigator:l,static:i,future:{}}),[o,l,i]);"string"===typeof s&&(s=S(s));let{pathname:d="/",search:u="",hash:h="",state:m=null,key:p="default"}=s,f=a.useMemo(()=>{let e=B(d,o);return null==e?null:{location:{pathname:e,search:u,hash:h,state:m,key:p},navigationType:r}},[o,d,u,h,m,p,r]);return j(null!=f,'<Router basename="'.concat(o,'"> is not able to match the URL "').concat(d).concat(u).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:a.createElement(ie.Provider,{value:c},a.createElement(oe.Provider,{children:n,value:f}))}function Oe(e){let{children:t,location:n}=e;return ve(Ie(t),n)}a.Component;function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return a.Children.forEach(e,(e,s)=>{if(!a.isValidElement(e))return;let r=[...t,s];if(e.type===a.Fragment)return void n.push.apply(n,Ie(e.props.children,r));y(e.type===Fe,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),y(!e.props.index||!e.props.children,"An index route cannot have child routes.");let l={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=Ie(e.props.children,r)),n.push(l)}),n}var Me="get",ze="application/x-www-form-urlencoded";function Ue(e){return null!=e&&"string"===typeof e.tagName}var _e=null;var qe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ve(e){return null==e||qe.has(e)?e:(j(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(ze,'"')),null)}function Be(e,t){let n,a,s,r,l;if(Ue(i=e)&&"form"===i.tagName.toLowerCase()){let l=e.getAttribute("action");a=l?B(l,t):null,n=e.getAttribute("method")||Me,s=Ve(e.getAttribute("enctype"))||ze,r=new FormData(e)}else if(function(e){return Ue(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ue(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let l=e.form;if(null==l)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||l.getAttribute("action");if(a=i?B(i,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Me,s=Ve(e.getAttribute("formenctype"))||Ve(l.getAttribute("enctype"))||ze,r=new FormData(l,e),!function(){if(null===_e)try{new FormData(document.createElement("form"),0),_e=!1}catch(e){_e=!0}return _e}()){let{name:t,type:n,value:a}=e;if("image"===n){let e=t?"".concat(t,"."):"";r.append("".concat(e,"x"),"0"),r.append("".concat(e,"y"),"0")}else t&&r.append(t,a)}}else{if(Ue(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Me,a=null,s=ze,l=e}var i;return r&&"text/plain"===s&&(l=r,r=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function He(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function We(e,t,n){let a="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===a.pathname?a.pathname="_root.".concat(n):t&&"/"===B(a.pathname,t)?a.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):a.pathname="".concat(a.pathname.replace(/\/$/,""),".").concat(n),a}async function $e(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Je(e){return null!=e&&"string"===typeof e.page}function Xe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ge(e,t,n,a,s,r){let l=(e,t)=>!n[t]||e.route.id!==n[t].route.id,i=(e,t)=>{var a;return n[t].pathname!==e.pathname||(null===(a=n[t].route.path)||void 0===a?void 0:a.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===r?t.filter((e,t)=>l(e,t)||i(e,t)):"data"===r?t.filter((t,r)=>{let o=a.routes[t.route.id];if(!o||!o.hasLoader)return!1;if(l(t,r)||i(t,r))return!0;if(t.route.shouldRevalidate){var c;let a=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof a)return a}return!0}):[]}function Qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a=e.map(e=>{let a=t.routes[e.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1),[...new Set(a)];var a}function Ke(e,t){let n=new Set,a=new Set(t);return e.reduce((e,s)=>{if(t&&!Je(s)&&"script"===s.as&&s.href&&a.has(s.href))return e;let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}(s));return n.has(r)||(n.add(r),e.push({key:r,link:s})),e},[])}function Ye(e,t){return"lazy"===e.mode&&!0===t}function Ze(){let e=a.useContext(te);return He(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=a.useContext(ne);return He(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=a.createContext(void 0);function nt(){let e=a.useContext(tt);return He(e,"You must render this element inside a <HydratedRouter> element"),e}function at(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function st(e,t,n){if(n&&!ot)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}tt.displayName="FrameworkContext";function rt(e){let{page:t}=e,n=r(e,h),{router:s}=Ze(),l=a.useMemo(()=>A(s.routes,t,s.basename),[s.routes,t,s.basename]);return l?a.createElement(it,d({page:t,matches:l},n)):null}function lt(e){let{manifest:t,routeModules:n}=nt(),[s,r]=a.useState([]);return a.useEffect(()=>{let a=!1;return async function(e,t,n){return Ke((await Promise.all(e.map(async e=>{let a=t.routes[e.route.id];if(a){let e=await $e(a,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Xe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{a||r(e)}),()=>{a=!0}},[e,t,n]),s}function it(e){let{page:t,matches:n}=e,s=r(e,m),l=he(),{manifest:i,routeModules:o}=nt(),{basename:c}=Ze(),{loaderData:u,matches:h}=et(),p=a.useMemo(()=>Ge(t,n,h,i,l,"data"),[t,n,h,i,l]),f=a.useMemo(()=>Ge(t,n,h,i,l,"assets"),[t,n,h,i,l]),x=a.useMemo(()=>{if(t===l.pathname+l.search+l.hash)return[];let e=new Set,a=!1;if(n.forEach(t=>{var n;let s=i.routes[t.route.id];s&&s.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=o[t.route.id])&&void 0!==n&&n.shouldRevalidate||s.hasClientLoader?a=!0:e.add(t.route.id))}),0===e.size)return[];let s=We(t,c,"data");return a&&e.size>0&&s.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[c,u,l,i,p,n,t,o]),v=a.useMemo(()=>Qe(f,i),[f,i]),g=lt(f);return a.createElement(a.Fragment,null,x.map(e=>a.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},s))),v.map(e=>a.createElement("link",d({key:e,rel:"modulepreload",href:e},s))),g.map(e=>{let{key:t,link:n}=e;return a.createElement("link",d({key:t,nonce:s.nonce},n))}))}var ot=!1;function ct(e){let{manifest:t,serverHandoffString:n,isSpaMode:s,renderMeta:l,routeDiscovery:i,ssr:o}=nt(),{router:c,static:h,staticContext:m}=Ze(),{matches:p}=et(),f=a.useContext(ae),x=Ye(i,o);l&&(l.didRenderScripts=!0);let v=st(p,null,s);a.useEffect(()=>{ot=!0},[]);let g=a.useMemo(()=>{var s;if(f)return null;let l=m?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=h?"".concat(null!==(s=t.hmr)&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(x?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let a="route".concat(n),s=t.routes[e.route.id];He(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:r,clientLoaderModule:l,clientMiddlewareModule:i,hydrateFallbackModule:o,module:c}=s,d=[...r?[{module:r,varName:"".concat(a,"_clientAction")}]:[],...l?[{module:l,varName:"".concat(a,"_clientLoader")}]:[],...i?[{module:i,varName:"".concat(a,"_clientMiddleware")}]:[],...o?[{module:o,varName:"".concat(a,"_HydrateFallback")}]:[],{module:c,varName:"".concat(a,"_main")}];return 1===d.length?"import * as ".concat(a," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(a," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(x?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,a=r(e,u),s=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(l.pop();l.length>0;)i.push("/".concat(l.join("/"))),l.pop();i.forEach(e=>{let n=A(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let o=[...s].reduce((e,t)=>Object.assign(e,{[t]:a.routes[t]}),{});return d(d({},a),{},{routes:o,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return a.createElement(a.Fragment,null,a.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:l},type:void 0})),a.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),y=ot||f?[]:(j=t.entry.imports.concat(Qe(v,t,{includeHydrateFallback:!0})),[...new Set(j)]);var j;let b="object"===typeof t.sri?t.sri:{};return Te(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),ot||f?null:a.createElement(a.Fragment,null,"object"===typeof t.sri?a.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:b})}}):null,x?null:a.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:b[t.url],suppressHydrationWarning:!0}),a.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:b[t.entry.module],suppressHydrationWarning:!0}),y.map(t=>a.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:b[t],suppressHydrationWarning:!0})),g)}function dt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}a.Component;function ut(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let s,r=a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Y(t))return a.createElement(ht,{title:"Unhandled Thrown Response!"},a.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),r);if(t instanceof Error)s=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);s=new Error(e)}return a.createElement(ht,{title:"Application Error!",isOutsideRemixApp:n},a.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),a.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),r)}function ht(e){var t;let{title:n,renderScripts:s,isOutsideRemixApp:r,children:l}=e,{routeModules:i}=nt();return null!==(t=i.root)&&void 0!==t&&t.Layout&&!r?l:a.createElement("html",{lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),a.createElement("title",null,n)),a.createElement("body",null,a.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},l,s?a.createElement(ct,null):null)))}var mt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{mt&&(window.__reactRouterVersion="7.9.3")}catch(Lr){}function pt(e){let{basename:t,children:n,window:s}=e,r=a.useRef();null==r.current&&(r.current=g({window:s,v5Compat:!0}));let l=r.current,[i,o]=a.useState({action:l.action,location:l.location}),c=a.useCallback(e=>{a.startTransition(()=>o(e))},[o]);return a.useLayoutEffect(()=>l.listen(c),[l,c]),a.createElement(Re,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:l})}var ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xt=a.forwardRef(function(e,t){let n,{onClick:s,discover:l="render",prefetch:i="none",relative:o,reloadDocument:c,replace:u,state:h,target:m,to:f,preventScrollReset:x,viewTransition:v}=e,g=r(e,p),{basename:b}=a.useContext(ie),N="string"===typeof f&&ft.test(f),S=!1;if("string"===typeof f&&N&&(n=f,mt))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=B(t.pathname,b);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:S=!0}catch(Lr){j(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=a.useContext(ie),{hash:r,pathname:l,search:i}=xe(e,{relative:t}),o=l;return"/"!==n&&(o="/"===l?n:X([n,l])),s.createHref({pathname:o,search:i,hash:r})}(f,{relative:o}),[C,A,E]=function(e,t){let n=a.useContext(tt),[s,r]=a.useState(!1),[l,i]=a.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,m=a.useRef(null);a.useEffect(()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{i(e.isIntersecting)})},{threshold:.5});return m.current&&e.observe(m.current),()=>{e.disconnect()}}},[e]),a.useEffect(()=>{if(s){let e=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(e)}}},[s]);let p=()=>{r(!0)},f=()=>{r(!1),i(!1)};return n?"intent"!==e?[l,m,{}]:[l,m,{onFocus:at(o,p),onBlur:at(c,f),onMouseEnter:at(d,p),onMouseLeave:at(u,f),onTouchStart:at(h,p)}]:[!1,m,{}]}(i,g),P=function(e){let{target:t,replace:n,state:s,preventScrollReset:r,relative:l,viewTransition:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=fe(),c=he(),d=xe(e,{relative:l});return a.useCallback(a=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(a,t)){a.preventDefault();let t=void 0!==n?n:w(c)===w(d);o(e,{replace:t,state:s,preventScrollReset:r,relative:l,viewTransition:i})}},[c,o,d,n,s,t,e,r,l,i])}(f,{replace:u,state:h,target:m,preventScrollReset:x,relative:o,viewTransition:v});let D=a.createElement("a",d(d(d({},g),E),{},{href:n||k,onClick:S||c?s:function(e){s&&s(e),e.defaultPrevented||P(e)},ref:dt(t,A),target:m,"data-discover":N||"render"!==l?void 0:"true"}));return C&&!N?a.createElement(a.Fragment,null,D,a.createElement(rt,{page:k})):D});xt.displayName="Link",a.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:l="",end:i=!1,style:o,to:c,viewTransition:u,children:h}=e,m=r(e,f),p=xe(c,{relative:m.relative}),x=he(),v=a.useContext(ne),{navigator:g,basename:j}=a.useContext(ie),b=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.useContext(se);y(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yt("useViewTransitionState"),r=xe(e,{relative:t});if(!n.isTransitioning)return!1;let l=B(n.currentLocation.pathname,s)||n.currentLocation.pathname,i=B(n.nextLocation.pathname,s)||n.nextLocation.pathname;return null!=_(r.pathname,i)||null!=_(r.pathname,l)}(p)&&!0===u,N=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,w=x.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(w=w.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&j&&(S=B(S,j)||S);const k="/"!==N&&N.endsWith("/")?N.length-1:N.length;let C,A=w===N||!i&&w.startsWith(N)&&"/"===w.charAt(k),E=null!=S&&(S===N||!i&&S.startsWith(N)&&"/"===S.charAt(N.length)),P={isActive:A,isPending:E,isTransitioning:b},D=A?n:void 0;C="function"===typeof l?l(P):[l,A?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof o?o(P):o;return a.createElement(xt,d(d({},m),{},{"aria-current":D,className:C,ref:t,style:T,to:c,viewTransition:u}),"function"===typeof h?h(P):h)}).displayName="NavLink";var vt=a.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:s,navigate:l,reloadDocument:i,replace:o,state:c,method:u=Me,action:h,onSubmit:m,relative:p,preventScrollReset:f,viewTransition:v}=e,g=r(e,x),j=Nt(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=a.useContext(ie),s=a.useContext(ce);y(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),l=d({},xe(e||".",{relative:t})),i=he();if(null==e){l.search=i.search;let e=new URLSearchParams(l.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();l.search=n?"?".concat(n):""}}e&&"."!==e||!r.route.index||(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(l.pathname="/"===l.pathname?n:X([n,l.pathname]));return w(l)}(h,{relative:p}),N="get"===u.toLowerCase()?"get":"post",S="string"===typeof h&&ft.test(h);return a.createElement("form",d(d({ref:t,method:N,action:b,onSubmit:i?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;j(t||e.currentTarget,{fetcherKey:s,method:n,navigate:l,replace:o,state:c,relative:p,preventScrollReset:f,viewTransition:v})}},g),{},{"data-discover":S||"render"!==n?void 0:"true"}))});function gt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function yt(e){let t=a.useContext(te);return y(t,gt(e)),t}vt.displayName="Form";var jt=0,bt=()=>"__".concat(String(++jt),"__");function Nt(){let{router:e}=yt("useSubmit"),{basename:t}=a.useContext(ie),n=Ce("useRouteId");return a.useCallback(async function(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:r,method:l,encType:i,formData:o,body:c}=Be(a,t);if(!1===s.navigate){let t=s.fetcherKey||bt();await e.fetch(t,n,s.action||r,{preventScrollReset:s.preventScrollReset,formData:o,body:c,formMethod:s.method||l,formEncType:s.encType||i,flushSync:s.flushSync})}else await e.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:o,body:c,formMethod:s.method||l,formEncType:s.encType||i,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}var wt=n(579);const St=e=>{let{isOpen:t,onClose:n,title:a,children:s,size:r="md"}=e;if(!t)return null;return(0,wt.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,wt.jsxs)("div",{className:"modal ".concat({sm:"modal-sm",md:"modal-md",lg:"modal-lg",xl:"modal-xl"}[r]),onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{className:"modal-title",children:a}),(0,wt.jsx)("button",{className:"modal-close",onClick:n,children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:s})]})})},kt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ct=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var At={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Et=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Pt=(0,a.forwardRef)((e,t)=>{let{color:n="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:u}=e,h=r(e,Et);return(0,a.createElement)("svg",d(d(d({ref:t},At),{},{width:s,height:s,stroke:n,strokeWidth:i?24*Number(l)/Number(s):l,className:Ct("lucide",o)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...u.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(c)?c:[c]])}),Dt=["className"],Tt=(e,t)=>{const n=(0,a.forwardRef)((n,s)=>{let{className:l}=n,i=r(n,Dt);return(0,a.createElement)(Pt,d({ref:s,iconNode:t,className:Ct("lucide-".concat((o=kt(e),o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),l)},i));var o});return n.displayName=kt(e),n},Lt=Tt("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ft=Tt("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Rt=Tt("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Ot=Tt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),It=Tt("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Mt=()=>{const[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)({type:"",priority:"medium",subject:"",description:"",category:"",attachments:[]}),[r,l]=(0,a.useState)(!1),i=e=>{const{name:t,value:n}=e.target;s(e=>d(d({},e),{},{[t]:n}))};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("button",{className:"report-button",onClick:()=>t(!0),children:[(0,wt.jsx)(Lt,{size:20}),"Submit Report"]}),(0,wt.jsx)(St,{isOpen:e,onClose:()=>t(!1),children:(0,wt.jsx)("div",{className:"report-submission",children:r?(0,wt.jsxs)("div",{className:"submission-success",children:[(0,wt.jsx)(Ft,{size:48,color:"#10b981"}),(0,wt.jsx)("h3",{children:"Report Submitted Successfully!"}),(0,wt.jsx)("p",{children:"Your report has been received and will be reviewed by our team. You will receive an update within 24 hours."})]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"report-header",children:[(0,wt.jsxs)("h2",{children:[(0,wt.jsx)(Rt,{size:24}),"Submit Report or Complaint"]}),(0,wt.jsx)("p",{children:"Help us improve by reporting issues or concerns"})]}),(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.type&&n.subject&&n.description&&(console.log("Report submitted:",n),l(!0),setTimeout(()=>{l(!1),t(!1),s({type:"",priority:"medium",subject:"",description:"",category:"",attachments:[]})},3e3))},className:"report-form",children:[(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Report Type"}),(0,wt.jsxs)("select",{name:"type",value:n.type,onChange:i,required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select type"}),[{value:"complaint",label:"Complaint"},{value:"maintenance",label:"Maintenance Request"},{value:"payment",label:"Payment Issue"},{value:"noise",label:"Noise Complaint"},{value:"safety",label:"Safety Concern"},{value:"other",label:"Other"}].map(e=>(0,wt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Priority Level"}),(0,wt.jsxs)("select",{name:"priority",value:n.priority,onChange:i,children:[(0,wt.jsx)("option",{value:"low",children:"Low"}),(0,wt.jsx)("option",{value:"medium",children:"Medium"}),(0,wt.jsx)("option",{value:"high",children:"High"}),(0,wt.jsx)("option",{value:"urgent",children:"Urgent"})]})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Category"}),(0,wt.jsxs)("select",{name:"category",value:n.category,onChange:i,children:[(0,wt.jsx)("option",{value:"",children:"Select category"}),[{value:"property",label:"Property Related"},{value:"neighbor",label:"Neighbor Issue"},{value:"management",label:"Management Issue"},{value:"facility",label:"Facility/Common Area"},{value:"emergency",label:"Emergency"}].map(e=>(0,wt.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Subject"}),(0,wt.jsx)("input",{type:"text",name:"subject",value:n.subject,onChange:i,placeholder:"Brief description of the issue",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Detailed Description"}),(0,wt.jsx)("textarea",{name:"description",value:n.description,onChange:i,placeholder:"Please provide as much detail as possible...",rows:"4",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Attachments (Optional)"}),(0,wt.jsxs)("div",{className:"file-upload",children:[(0,wt.jsx)("input",{type:"file",id:"file-upload",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);s(e=>d(d({},e),{},{attachments:[...e.attachments,...t]}))},accept:"image/*,.pdf,.doc,.docx",style:{display:"none"}}),(0,wt.jsxs)("label",{htmlFor:"file-upload",className:"upload-label",children:[(0,wt.jsx)(Ot,{size:20}),"Choose Files"]}),(0,wt.jsx)("span",{className:"upload-hint",children:"Images, PDFs, or documents (max 10MB each)"})]}),n.attachments.length>0&&(0,wt.jsx)("div",{className:"attachments-list",children:n.attachments.map((e,t)=>(0,wt.jsxs)("div",{className:"attachment-item",children:[(0,wt.jsx)("span",{children:e.name}),(0,wt.jsx)("button",{type:"button",onClick:()=>(e=>{s(t=>d(d({},t),{},{attachments:t.attachments.filter((t,n)=>n!==e)}))})(t),className:"remove-attachment",children:"\xd7"})]},t))})]}),(0,wt.jsxs)("div",{className:"form-actions",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>t(!1),className:"cancel-button",children:"Cancel"}),(0,wt.jsxs)("button",{type:"submit",className:"submit-button",children:[(0,wt.jsx)(It,{size:16}),"Submit Report"]})]})]})]})})})]})},zt=Tt("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),Ut=Tt("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),_t=Tt("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),qt=Tt("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Vt=Tt("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Bt=Tt("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Ht=Tt("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Wt=Tt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$t=Tt("life-buoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]),Jt=Tt("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Xt=Tt("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Gt=Tt("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Qt=Tt("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),Kt={technician:"Technical Manager",admin:"Administrative Agent",tenant:"Tenant",landlord:"Landlord",accounting:"Accounting",salesmanager:"Sales Manager",superadmin:"Super Admin",commercial:"Commercial Manager"},Yt=e=>{var t;let{brand:n={name:"SAAF IMMO",caption:"Operations",logo:"SAAF",logoImage:null},menu:s=[],footerActions:r,children:l,onLogout:i,headerActions:o,hideSearch:c=!1,activeId:d,onActiveChange:u,title:h,subtitle:m}=e;const[p,f]=(0,a.useState)((null===(t=s[0])||void 0===t?void 0:t.id)||null),x=void 0!==d?d:p,v=(0,a.useMemo)(()=>{try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return console.error("Error parsing stored user:",e),null}},[]),g=null!==v&&void 0!==v&&v.role?Kt[v.role]||v.role:"User";return(0,wt.jsxs)("div",{className:"role-layout technician-dashboard",children:[(0,wt.jsxs)("aside",{className:"role-sidebar technician-sidebar",children:[(0,wt.jsx)("div",{className:"sidebar-brand",children:(0,wt.jsx)("div",{className:"brand-logo",children:n.logoImage?(0,wt.jsx)("img",{src:n.logoImage,alt:n.name||"Brand"}):n.logo})}),(0,wt.jsx)("nav",{className:"sidebar-menu sidebar-navigation",children:s.map(e=>{const t=e.icon,n=e.id===x||e.active;return(0,wt.jsxs)("button",{type:"button",className:"menu-item sidebar-item ".concat(n?"active":""),onClick:()=>(e=>{e.onSelect&&e.onSelect(),u&&u(e.id),void 0===d&&f(e.id)})(e),children:[t&&(0,wt.jsx)(t,{size:20}),(0,wt.jsx)("span",{children:e.label})]},e.id)})}),(0,wt.jsxs)("div",{className:"sidebar-footer",children:[null===r||void 0===r?void 0:r.map(e=>{const t=e.icon;return(0,wt.jsxs)("button",{type:"button",className:"footer-button ".concat(e.variant||""),onClick:e.onClick,children:[t&&(0,wt.jsx)(t,{size:18}),(0,wt.jsx)("span",{children:e.label})]},e.id)}),!r&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("button",{className:"footer-button support sidebar-support",children:[(0,wt.jsx)($t,{size:18}),(0,wt.jsx)("span",{children:"Support"})]}),(0,wt.jsxs)("button",{className:"footer-button logout sidebar-logout",onClick:i,children:[(0,wt.jsx)(Jt,{size:18}),(0,wt.jsx)("span",{children:"Sign Out"})]})]})]})]}),(0,wt.jsxs)("div",{className:"role-main technician-main",children:[(0,wt.jsxs)("header",{className:"role-topbar technician-topbar",children:[!c&&(0,wt.jsxs)("div",{className:"topbar-search",children:[(0,wt.jsx)(Xt,{size:18}),(0,wt.jsx)("input",{type:"text",placeholder:"Search tasks, requests or properties"})]}),(0,wt.jsxs)("div",{className:"topbar-actions",children:[null===o||void 0===o?void 0:o.map(e=>{const t=e.icon;return(0,wt.jsx)("button",{type:"button",className:"icon-button",onClick:e.onClick,children:t?(0,wt.jsx)(t,{size:18}):e.content},e.id)}),!o&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("button",{className:"icon-button",children:(0,wt.jsx)(qt,{size:18})}),(0,wt.jsx)("button",{className:"icon-button",children:(0,wt.jsx)(Gt,{size:18})})]}),(0,wt.jsxs)("div",{className:"topbar-profile",children:[(0,wt.jsxs)("span",{className:"profile-details",children:[(0,wt.jsx)("strong",{children:(null===v||void 0===v?void 0:v.name)||(null===v||void 0===v?void 0:v.username)||"User"}),(0,wt.jsx)("span",{children:g})]}),(0,wt.jsxs)("button",{className:"profile-avatar",type:"button",onClick:i,title:"Sign out",children:[(0,wt.jsx)(Qt,{size:28}),(0,wt.jsx)("span",{className:"logout-indicator",children:(0,wt.jsx)(Jt,{size:16})})]})]})]})]}),(0,wt.jsxs)("div",{className:"role-content technician-content",children:[(h||m)&&(0,wt.jsxs)("div",{className:"role-page-header",children:[h&&(0,wt.jsx)("h1",{children:h}),m&&(0,wt.jsx)("p",{children:m})]}),l({activeId:x})]})]})]})},Zt=Tt("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),en=Tt("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),tn=Tt("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),nn=Tt("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),an="http://localhost:8093",sn={BASE_URL:an,ENDPOINTS:{SALES_MANAGER:{OVERVIEW:"/api/salesmanager/overview",PROPERTIES:"/api/salesmanager/properties",CLIENTS:"/api/salesmanager/clients",ALERTS:"/api/salesmanager/alerts"},TENANT:{PAYMENTS:"/api/tenant/payments",MAINTENANCE:"/api/tenant/maintenance"},COMMERCIAL:{LISTINGS:"/api/commercial/listings",VISITS:"/api/commercial/visits"},TECHNICIAN:{INVENTORIES:"/api/technician/inventories",QUOTES:"/api/technician/quotes"},ACCOUNTING:{TENANT_PAYMENTS:"/api/accounting/tenant-payments",EXPENSES:"/api/accounting/expenses"},ADMIN:{DOCUMENTS:"/api/admin/documents",REMINDERS:"/api/admin/reminders"},LANDLORD:{OVERVIEW:"/api/landlord/overview",PROPERTIES:"/api/landlord/properties",PAYMENTS:"/api/landlord/payments"},SUPER_ADMIN:{OVERVIEW:"/api/superadmin/overview",COMPANIES:"/api/superadmin/companies",USERS:"/api/superadmin/users"}}},rn=e=>"".concat(sn.BASE_URL).concat(e),ln=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=localStorage.getItem("token"),n={};if(e&&(n["Content-Type"]="application/json"),t){const e=String(t).trim().split("").map(e=>{const t=e.charCodeAt(0);return t>=32&&t<=126?e:""}).join("");e&&e.length>0&&(n.Authorization=e)}return n}(!(t.headers&&t.headers["Content-Type"])),a={headers:d({},n)},s=d(d(d({},a),t),{},{headers:d(d({},a.headers),t.headers)});try{const t=await fetch(e,s);if(!t.ok){401===t.status&&console.error("Unauthorized: Token may be missing or invalid");let e="HTTP error! status: ".concat(t.status);try{const n=await t.text();if(n)try{const t=JSON.parse(n);e=t.error||t.message||e}catch(r){e=n||e}}catch(Lr){}throw new Error(e)}const n=t.headers.get("content-type");if(n&&n.includes("application/json"))return await t.json();{const e=await t.text();return console.warn("Non-JSON response received:",e),e}}catch(l){throw console.error("API request failed:",l),console.error("URL:",e),console.error("Config:",s),l}},on="".concat(sn.BASE_URL,"/api/profile"),cn=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=localStorage.getItem("token"),n={};if(e&&(n["Content-Type"]="application/json"),t){const e=String(t).trim(),a=e.split("").map(e=>{const t=e.charCodeAt(0);return t>=32&&t<=126?e:""}).join("");e.length!==a.length&&(console.warn("Token sanitization removed ".concat(e.length-a.length," characters")),console.warn("Original token length:",e.length,"Sanitized:",a.length)),a&&a.length>0?n.Authorization=a:console.error("Token was empty after sanitization - this will cause authentication to fail")}return n},dn=async()=>{try{var e,t;const n=cn(!1),a=localStorage.getItem("token");if(a){console.log("Original token length:",a.length),console.log("Original token preview:",a.substring(0,50)+(a.length>50?"...":""));const e=a.split("").map(e=>{const t=e.charCodeAt(0);return t>=32&&t<=126?e:""}).join("");a.length!==e.length?(console.warn("\u26a0\ufe0f Token sanitization would remove",a.length-e.length,"characters"),console.warn("Sanitized token preview:",e.substring(0,50)+(e.length>50?"...":""))):console.log("\u2713 Token is ASCII-safe, no sanitization needed")}else console.warn("No token found in localStorage");console.log("Request headers:",JSON.stringify(n,null,2)),console.log("Authorization header value length:",(null===(e=n.Authorization)||void 0===e?void 0:e.length)||0),console.log("Authorization header preview:",(null===(t=n.Authorization)||void 0===t?void 0:t.substring(0,50))||"none");const s=await fetch(on,{method:"GET",headers:n});if(!s.ok){const e=await s.text();throw console.error("Profile fetch failed:",s.status,e),new Error("Failed to fetch profile: ".concat(s.status," ").concat(s.statusText))}return s.json()}catch(n){throw console.error("Profile fetch error:",n),n}},un=async e=>{const t=await fetch("".concat(on,"/change-password"),{method:"POST",headers:cn(!0),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to change password");return t.json()},hn=()=>{const[e,t]=(0,a.useState)("profile"),[n,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)([]),[c,u]=(0,a.useState)(null),[h,m]=(0,a.useState)({name:"",email:"",company:"",role:"",status:""}),[p,f]=(0,a.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[x,v]=(0,a.useState)({emailUpdates:!0,smsAlerts:!1,pushNotifications:!0,weeklySummary:!0,darkMode:!1}),g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n="".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));o(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{o(e=>e.filter(e=>e.id!==n))},3e3)},y=(0,a.useCallback)(async()=>{s(!0);try{const e=await dn();m({name:e.name||"",email:e.email||"",company:e.company||"",role:e.role||"",status:e.status||""}),e.id&&u(e.id)}catch(e){console.error("Error loading profile:",e),g("Failed to load profile data","error")}finally{s(!1)}},[]);(0,a.useEffect)(()=>{y()},[y]);const j=(e,t)=>{f(n=>d(d({},n),{},{[e]:t}))},b=e=>{v(t=>d(d({},t),{},{[e]:!t[e]}))},N=async e=>{if(e.preventDefault(),p.newPassword===p.confirmPassword)if(p.newPassword.length<6)g("Password must be at least 6 characters","error");else{l(!0);try{await un({currentPassword:p.currentPassword,newPassword:p.newPassword}),g("Password changed successfully","success"),f({currentPassword:"",newPassword:"",confirmPassword:""})}catch(t){console.error("Error changing password:",t),g("Failed to change password. Please check your current password.","error")}finally{l(!1)}}else g("New passwords do not match","error")};return(0,wt.jsxs)("div",{className:"settings-page",children:[i.length>0&&(0,wt.jsx)("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3},children:i.map(e=>(0,wt.jsx)("div",{style:{padding:"12px 20px",marginBottom:"10px",borderRadius:"8px",background:"success"===e.type?"#10b981":"error"===e.type?"#ef4444":"#3b82f6",color:"#fff",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"300px"},children:e.message},e.id))}),(0,wt.jsxs)("div",{className:"settings-tabs",children:[(0,wt.jsx)("button",{type:"button",className:"settings-tab ".concat("profile"===e?"active":""),onClick:()=>t("profile"),children:"Profile"}),(0,wt.jsx)("button",{type:"button",className:"settings-tab ".concat("preferences"===e?"active":""),onClick:()=>t("preferences"),children:"Preferences"}),(0,wt.jsx)("button",{type:"button",className:"settings-tab ".concat("security"===e?"active":""),onClick:()=>t("security"),children:"Security"})]}),"profile"===e&&(0,wt.jsxs)("div",{className:"settings-card",children:[(0,wt.jsxs)("div",{className:"settings-card-header",children:[(0,wt.jsx)("div",{className:"settings-avatar",children:(0,wt.jsx)("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #f97316 0%, #f43f5e 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"2rem",fontWeight:"bold"},children:h.name?h.name.charAt(0).toUpperCase():"U"})}),(0,wt.jsxs)("div",{className:"settings-card-title",children:[(0,wt.jsx)("h2",{children:"Profile"}),(0,wt.jsx)("p",{children:"View your personal information and account details"})]})]}),n?(0,wt.jsx)("div",{style:{padding:"40px",textAlign:"center"},children:"Loading profile..."}):(0,wt.jsx)("div",{className:"settings-form",children:(0,wt.jsxs)("div",{className:"form-grid",children:[(0,wt.jsxs)("div",{className:"form-field",children:[(0,wt.jsx)("label",{children:"Full Name"}),(0,wt.jsx)("input",{type:"text",value:h.name||"N/A",disabled:!0,style:{background:"#f3f4f6",cursor:"not-allowed"}})]}),(0,wt.jsxs)("div",{className:"form-field",children:[(0,wt.jsx)("label",{children:"Email"}),(0,wt.jsx)("input",{type:"email",value:h.email||"N/A",disabled:!0,style:{background:"#f3f4f6",cursor:"not-allowed"}})]}),(0,wt.jsxs)("div",{className:"form-field",children:[(0,wt.jsx)("label",{children:"Company"}),(0,wt.jsx)("input",{type:"text",value:h.company||"N/A",disabled:!0,style:{background:"#f3f4f6",cursor:"not-allowed"}})]}),(0,wt.jsxs)("div",{className:"form-field",children:[(0,wt.jsx)("label",{children:"Role"}),(0,wt.jsx)("input",{type:"text",value:h.role||"N/A",disabled:!0,style:{background:"#f3f4f6",cursor:"not-allowed"}})]}),(0,wt.jsxs)("div",{className:"form-field",children:[(0,wt.jsx)("label",{children:"Status"}),(0,wt.jsx)("input",{type:"text",value:h.status||"N/A",disabled:!0,style:{background:"#f3f4f6",cursor:"not-allowed"}})]})]})})]}),"preferences"===e&&(0,wt.jsxs)("div",{className:"settings-card",children:[(0,wt.jsx)("div",{className:"settings-card-header compact",children:(0,wt.jsxs)("div",{className:"settings-card-title",children:[(0,wt.jsx)("h2",{children:"Notification Preferences"}),(0,wt.jsx)("p",{children:"Choose what updates you want to receive"})]})}),(0,wt.jsxs)("div",{className:"preferences-list",children:[(0,wt.jsxs)("div",{className:"preference-item",children:[(0,wt.jsx)("div",{className:"preference-icon email",children:(0,wt.jsx)(Zt,{size:18})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Email Notifications"}),(0,wt.jsx)("p",{children:"Receive updates and announcements via email."})]}),(0,wt.jsx)("button",{type:"button",className:"toggle-button",onClick:()=>b("emailUpdates"),children:x.emailUpdates?(0,wt.jsx)(en,{size:32}):(0,wt.jsx)(tn,{size:32})})]}),(0,wt.jsxs)("div",{className:"preference-item",children:[(0,wt.jsx)("div",{className:"preference-icon sms",children:(0,wt.jsx)(Gt,{size:18})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"SMS Alerts"}),(0,wt.jsx)("p",{children:"Get instant alerts for important account activity."})]}),(0,wt.jsx)("button",{type:"button",className:"toggle-button",onClick:()=>b("smsAlerts"),children:x.smsAlerts?(0,wt.jsx)(en,{size:32}):(0,wt.jsx)(tn,{size:32})})]}),(0,wt.jsxs)("div",{className:"preference-item",children:[(0,wt.jsx)("div",{className:"preference-icon push",children:(0,wt.jsx)(nn,{size:18})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Push Notifications"}),(0,wt.jsx)("p",{children:"Allow notifications when you're working in the app."})]}),(0,wt.jsx)("button",{type:"button",className:"toggle-button",onClick:()=>b("pushNotifications"),children:x.pushNotifications?(0,wt.jsx)(en,{size:32}):(0,wt.jsx)(tn,{size:32})})]}),(0,wt.jsxs)("div",{className:"preference-item",children:[(0,wt.jsx)("div",{className:"preference-icon summary",children:(0,wt.jsx)(Gt,{size:18})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Weekly Summary"}),(0,wt.jsx)("p",{children:"Receive a summary of your activity every Monday."})]}),(0,wt.jsx)("button",{type:"button",className:"toggle-button",onClick:()=>b("weeklySummary"),children:x.weeklySummary?(0,wt.jsx)(en,{size:32}):(0,wt.jsx)(tn,{size:32})})]}),(0,wt.jsxs)("div",{className:"preference-item",children:[(0,wt.jsx)("div",{className:"preference-icon theme",children:(0,wt.jsx)(nn,{size:18})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Dark Mode"}),(0,wt.jsx)("p",{children:"Reduce eye strain with a dark color palette."})]}),(0,wt.jsx)("button",{type:"button",className:"toggle-button",onClick:()=>b("darkMode"),children:x.darkMode?(0,wt.jsx)(en,{size:32}):(0,wt.jsx)(tn,{size:32})})]})]})]}),"security"===e&&(0,wt.jsxs)("div",{className:"settings-card",children:[(0,wt.jsx)("div",{className:"settings-card-header compact",children:(0,wt.jsxs)("div",{className:"settings-card-title",children:[(0,wt.jsx)("h2",{children:"Security Settings"}),(0,wt.jsx)("p",{children:"Manage your password, authentication and sessions"})]})}),(0,wt.jsxs)("form",{className:"settings-form",onSubmit:N,children:[(0,wt.jsxs)("div",{className:"form-grid",children:[(0,wt.jsxs)("div",{className:"form-field",children:[(0,wt.jsx)("label",{children:"Current Password"}),(0,wt.jsx)("input",{type:"password",value:p.currentPassword,onChange:e=>j("currentPassword",e.target.value),required:!0,disabled:r,placeholder:"Enter your current password"})]}),(0,wt.jsxs)("div",{className:"form-field",children:[(0,wt.jsx)("label",{children:"New Password"}),(0,wt.jsx)("input",{type:"password",value:p.newPassword,onChange:e=>j("newPassword",e.target.value),required:!0,disabled:r,placeholder:"Enter your new password",minLength:6})]}),(0,wt.jsxs)("div",{className:"form-field",children:[(0,wt.jsx)("label",{children:"Confirm New Password"}),(0,wt.jsx)("input",{type:"password",value:p.confirmPassword,onChange:e=>j("confirmPassword",e.target.value),required:!0,disabled:r,placeholder:"Confirm your new password",minLength:6})]})]}),(0,wt.jsx)("div",{className:"form-actions",children:(0,wt.jsx)("button",{type:"submit",className:"btn-primary",disabled:r,children:r?"Changing Password...":"Change Password"})})]}),(0,wt.jsxs)("div",{className:"security-list",style:{marginTop:"40px"},children:[(0,wt.jsxs)("div",{className:"security-item",children:[(0,wt.jsx)("div",{className:"security-icon",children:(0,wt.jsx)(nn,{size:18})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Two-factor Authentication"}),(0,wt.jsx)("p",{children:"Add an extra layer of security to your account."})]}),(0,wt.jsx)("button",{type:"button",className:"btn-primary ghost",children:"Enable"})]}),(0,wt.jsxs)("div",{className:"security-item",children:[(0,wt.jsx)("div",{className:"security-icon",children:(0,wt.jsx)(Gt,{size:18})}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Login Alerts"}),(0,wt.jsx)("p",{children:"Receive a notification when a new device signs in."})]}),(0,wt.jsx)("button",{type:"button",className:"btn-secondary",children:"Manage"})]})]})]})]})},mn="".concat(sn.BASE_URL,"/api/tenant"),pn=async e=>{const t=await fetch("".concat(mn,"/payments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to record payment");return t.json()},fn=async()=>{const e=await fetch("".concat(mn,"/payments"));if(!e.ok)throw new Error("Failed to fetch payments");return e.json()},xn=async e=>{const t=await fetch("".concat(mn,"/payments/").concat(e,"/receipt"),{method:"POST"});if(!t.ok)throw new Error("Failed to generate receipt");return t.json()},vn=async e=>{const t=await fetch("".concat(mn,"/maintenance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create maintenance request");return t.json()},gn=async()=>{const e=await fetch("".concat(mn,"/maintenance"));if(!e.ok)throw new Error("Failed to fetch maintenance requests");return e.json()},yn=async()=>{const e=await fetch("".concat(mn,"/overview"));if(!e.ok)throw new Error("Failed to fetch overview");return e.json()},jn=()=>{const[e,t]=(0,a.useState)("overview"),[n,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)({title:"",description:"",priority:"medium",photos:[]}),[i,o]=(0,a.useState)([]),[c,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)({amount:"",paymentMethod:"",reference:""}),[p,f]=(0,a.useState)(!1),[x,v]=(0,a.useState)(null),[g,y]=(0,a.useState)([]),[j,b]=(0,a.useState)([]),N=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:zt},{id:"payments",label:"Payments",icon:Ut},{id:"maintenance",label:"Maintenance",icon:_t},{id:"settings",label:"Profile Settings",icon:qt}],[]),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n="".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));o(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{o(e=>e.filter(e=>e.id!==n))},3e3)};(0,a.useEffect)(()=>{(async()=>{try{f(!0);const[e,t,n]=await Promise.all([yn(),fn(),gn()]);v(e),y(t),b(n)}catch(e){console.error("Error loading data:",e),w("Failed to load dashboard data","error")}finally{f(!1)}})()},[]);const S=()=>{var e,t,n,a;return(0,wt.jsxs)("div",{className:"overview-section tenant-overview",children:[(0,wt.jsx)("div",{className:"section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Tenant Dashboard Overview"}),(0,wt.jsxs)("p",{children:["Welcome, ",(null===x||void 0===x?void 0:x.tenant)||"Tenant","! Here's a quick overview of your current property status and upcoming activities."]})]})}),p?(0,wt.jsx)("div",{className:"loading",children:"Loading..."}):(0,wt.jsxs)("div",{className:"dashboard-overview",children:[(0,wt.jsxs)("div",{className:"overview-card",children:[(0,wt.jsx)("div",{className:"card-label",children:(0,wt.jsx)("span",{children:"Current Lease"})}),(0,wt.jsxs)("div",{className:"card-value",children:[(0,wt.jsx)("span",{children:(null===x||void 0===x||null===(e=x.lease)||void 0===e?void 0:e.property)||"Apartment 4B, 123 Main St"}),(0,wt.jsxs)("small",{children:["Ends: ",(null===x||void 0===x||null===(t=x.lease)||void 0===t?void 0:t.endDate)||"2024-12-31"]})]})]}),(0,wt.jsxs)("div",{className:"overview-card",children:[(0,wt.jsx)("div",{className:"card-label",children:(0,wt.jsx)("span",{children:"Next Rent Due"})}),(0,wt.jsxs)("div",{className:"card-value",children:[(0,wt.jsxs)("span",{children:[(null===x||void 0===x||null===(n=x.nextRentDue)||void 0===n?void 0:n.amount)||1500," XOF"]}),(0,wt.jsxs)("small",{children:["Due: ",(null===x||void 0===x||null===(a=x.nextRentDue)||void 0===a?void 0:a.date)||"2024-11-01"]})]})]}),(0,wt.jsxs)("div",{className:"overview-card",children:[(0,wt.jsx)("div",{className:"card-label",children:(0,wt.jsx)("span",{children:"Open Maintenance Tickets"})}),(0,wt.jsxs)("div",{className:"card-value",children:[(0,wt.jsx)("span",{children:(null===x||void 0===x?void 0:x.openMaintenanceTickets)||0}),(0,wt.jsx)("small",{children:"Active requests"})]})]})]}),(0,wt.jsx)("div",{className:"action-buttons",style:{marginTop:"24px"},children:(0,wt.jsx)(Mt,{})})]})},k=()=>(0,wt.jsxs)("div",{className:"payments-section",children:[(0,wt.jsxs)("div",{className:"section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Payment Management"}),(0,wt.jsx)("p",{children:"Make payments and view your payment history"})]}),(0,wt.jsxs)("button",{className:"btn-primary",onClick:()=>u(!0),disabled:p,children:[(0,wt.jsx)(Vt,{size:18}),"Make Payment"]})]}),(0,wt.jsx)("div",{className:"section-header",style:{marginBottom:"20px"},children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Payment History"}),(0,wt.jsx)("p",{children:"View all your past payments and download receipts"})]})}),p?(0,wt.jsx)("div",{className:"loading",children:"Loading payments..."}):0===g.length?(0,wt.jsx)("div",{className:"no-data",children:"No payments found"}):(0,wt.jsx)("div",{className:"data-table-wrapper",children:(0,wt.jsxs)("table",{className:"data-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Description"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Method"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{className:"table-menu"})]})}),(0,wt.jsx)("tbody",{children:g.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:new Date(e.Date).toLocaleDateString()}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"row-primary",children:e.ChargeType})}),(0,wt.jsxs)("td",{children:[e.Amount," XOF"]}),(0,wt.jsx)("td",{children:e.Method}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"status-badge ".concat((e.Status||"pending").toLowerCase().replace(" ","-")),children:e.Status})}),(0,wt.jsx)("td",{className:"table-menu",children:(0,wt.jsx)("div",{className:"table-actions",children:(0,wt.jsxs)("button",{className:"table-action-button view",onClick:()=>(async e=>{try{const t=g.find(t=>t.ID===e);if(!t)return void w("Payment not found","error");await xn(e);const n="\nRENT PAYMENT RECEIPT\n===================\nPayment ID: ".concat(t.ID,"\nReceipt Number: ").concat(t.ReceiptNumber,"\nDate: ").concat(new Date(t.Date).toLocaleDateString(),"\nAmount: ").concat(t.Amount," XOF\nDescription: ").concat(t.ChargeType,"\nPayment Method: ").concat(t.Method,"\nStatus: ").concat(t.Status,"\n\nThank you for your payment!\n      ").trim(),a=new Blob([n],{type:"text/plain"}),s=window.URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="receipt_".concat(t.ReceiptNumber||e,".txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s),w("Receipt downloaded successfully!","success")}catch(t){console.error("Error downloading receipt:",t),w("Failed to download receipt","error")}})(e.ID),title:"Download Receipt",children:[(0,wt.jsx)(Bt,{size:14}),"Download"]})})})]},e.ID||"payment-".concat(t)))})]})})]}),C=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e){case"overview":default:return S();case"payments":return k();case"maintenance":return(0,wt.jsxs)("div",{className:"maintenance-section",children:[(0,wt.jsxs)("div",{className:"section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Maintenance Requests"}),(0,wt.jsx)("p",{children:"Submit new requests or check the status of existing ones"})]}),(0,wt.jsxs)("button",{className:"btn-primary",onClick:()=>s(!0),disabled:p,children:[(0,wt.jsx)(Vt,{size:18}),"Submit New Request"]})]}),p?(0,wt.jsx)("div",{className:"loading",children:"Loading maintenance requests..."}):0===j.length?(0,wt.jsx)("div",{className:"no-data",children:"No maintenance requests found"}):(0,wt.jsx)("div",{className:"data-table-wrapper",children:(0,wt.jsxs)("table",{className:"data-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Issue"}),(0,wt.jsx)("th",{children:"Priority"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{className:"table-menu"})]})}),(0,wt.jsx)("tbody",{children:j.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsxs)("td",{children:[(0,wt.jsx)("span",{className:"row-primary",children:e.Issue||e.Title||"Maintenance Request"}),e.Description&&(0,wt.jsx)("div",{className:"row-secondary",children:e.Description})]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"status-badge ".concat((e.Priority||"medium").toLowerCase()),children:e.Priority||"Medium"})}),(0,wt.jsx)("td",{children:new Date(e.Date).toLocaleDateString()}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"status-badge ".concat((e.Status||"pending").toLowerCase().replace(" ","-")),children:e.Status})}),(0,wt.jsx)("td",{className:"table-menu",children:(0,wt.jsx)("div",{className:"table-actions",children:(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>w("Viewing maintenance request details","info"),children:"View"})})})]},e.ID||"request-".concat(t)))})]})})]});case"settings":return(0,wt.jsx)("div",{className:"embedded-settings",children:(0,wt.jsx)(hn,{})})}},A=(0,a.useMemo)(()=>N.map(n=>d(d({},n),{},{onSelect:()=>t(n.id),active:e===n.id})),[N,e]);return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Tenant Portal",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:A,activeId:e,onActiveChange:t,onLogout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/"},children:e=>{let{activeId:t}=e;return(0,wt.jsx)("div",{className:"content-body tenant-content",children:C(t)})}}),i.length>0&&(0,wt.jsx)("div",{className:"notifications-container",children:i.map(e=>(0,wt.jsxs)("div",{className:"notification notification-".concat(e.type),children:[(0,wt.jsx)("span",{children:e.message}),(0,wt.jsx)("button",{onClick:()=>o(t=>t.filter(t=>t.id!==e.id)),children:"\xd7"})]},e.id))}),n&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>s(!1),children:(0,wt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Submit Maintenance Request"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>s(!1),children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{f(!0);const e={property:"Apartment 4B, 123 Main St",title:r.title,description:r.description,priority:r.priority,tenant:"Current Tenant"},t=await vn(e);b(e=>[t,...e]),w("Maintenance request submitted successfully!","success"),l({title:"",description:"",priority:"medium",photos:[]}),s(!1)}catch(t){console.error("Error submitting maintenance request:",t),w("Failed to submit maintenance request","error")}finally{f(!1)}},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"title",children:"Issue Title"}),(0,wt.jsx)("input",{type:"text",id:"title",value:r.title,onChange:e=>l(t=>d(d({},t),{},{title:e.target.value})),placeholder:"e.g., Leaky faucet in kitchen",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"priority",children:"Priority Level"}),(0,wt.jsxs)("select",{id:"priority",value:r.priority,onChange:e=>l(t=>d(d({},t),{},{priority:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"low",children:"Low - Can wait"}),(0,wt.jsx)("option",{value:"medium",children:"Medium - Should be fixed soon"}),(0,wt.jsx)("option",{value:"high",children:"High - Urgent"}),(0,wt.jsx)("option",{value:"emergency",children:"Emergency - Immediate attention needed"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"description",children:"Description"}),(0,wt.jsx)("textarea",{id:"description",value:r.description,onChange:e=>l(t=>d(d({},t),{},{description:e.target.value})),placeholder:"Please describe the issue in detail...",rows:"4",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"photos",children:"Upload Photos (Optional)"}),(0,wt.jsxs)("div",{className:"photo-upload-area",children:[(0,wt.jsx)("input",{type:"file",id:"photos",accept:"image/*",multiple:!0,onChange:e=>{const t=Array.from(e.target.files).map(e=>({id:Date.now()+Math.random(),file:e,name:e.name,preview:URL.createObjectURL(e)}));l(e=>d(d({},e),{},{photos:[...e.photos,...t]}))},style:{display:"none"}}),(0,wt.jsxs)("label",{htmlFor:"photos",className:"photo-upload-button",children:[(0,wt.jsx)(Ht,{size:20}),(0,wt.jsx)("span",{children:"Choose Photos"})]}),(0,wt.jsx)("p",{className:"photo-help-text",children:"Upload photos to help describe the issue (max 5 photos)"})]}),r.photos.length>0&&(0,wt.jsx)("div",{className:"photo-preview-grid",children:r.photos.map(e=>(0,wt.jsxs)("div",{className:"photo-preview-item",children:[(0,wt.jsx)("img",{src:e.preview,alt:e.name}),(0,wt.jsx)("button",{type:"button",className:"remove-photo-button",onClick:()=>{return t=e.id,void l(e=>d(d({},e),{},{photos:e.photos.filter(e=>e.id!==t)}));var t},children:(0,wt.jsx)(Wt,{size:16})}),(0,wt.jsx)("span",{className:"photo-name",children:e.name})]},e.id))})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>s(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:p,children:p?"Submitting...":"Submit Request"})]})]})})]})}),c&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>u(!1),children:(0,wt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Make Payment"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>u(!1),children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{f(!0);const e={tenant:"Current Tenant",property:"Apartment 4B, 123 Main St",amount:parseFloat(h.amount),method:h.paymentMethod,chargeType:"rent",reference:h.reference},t=await pn(e);y(e=>[t,...e]),w("Payment submitted successfully!","success"),m({amount:"",paymentMethod:"",reference:""}),u(!1)}catch(t){console.error("Error submitting payment:",t),w("Failed to submit payment","error")}finally{f(!1)}},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"amount",children:"Amount"}),(0,wt.jsx)("input",{type:"number",id:"amount",value:h.amount,onChange:e=>m(t=>d(d({},t),{},{amount:e.target.value})),placeholder:"Enter amount",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"paymentMethod",children:"Payment Method"}),(0,wt.jsxs)("select",{id:"paymentMethod",value:h.paymentMethod,onChange:e=>m(t=>d(d({},t),{},{paymentMethod:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select payment method"}),(0,wt.jsx)("option",{value:"cash",children:"Cash Payment"}),(0,wt.jsx)("option",{value:"mobile_money",children:"Mobile Money"}),(0,wt.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"reference",children:"Reference Number"}),(0,wt.jsx)("input",{type:"text",id:"reference",value:h.reference,onChange:e=>m(t=>d(d({},t),{},{reference:e.target.value})),placeholder:"Enter transaction reference",required:!0})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>u(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:p,children:p?"Submitting...":"Submit Payment"})]})]})})]})})]})},bn=Tt("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]),Nn=Tt("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),wn=Tt("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Sn=Tt("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),kn=Tt("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Cn=async()=>{const e=rn("/api/commercial/overview");return await ln(e)},An=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/commercial/listings");const n=new URLSearchParams;return e.status&&n.append("status",e.status),e.type&&n.append("type",e.type),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},En=async e=>{const t=rn("/api/commercial/listings");return await ln(t,{method:"POST",body:JSON.stringify(e)})},Pn=async(e,t)=>{const n=rn("/api/commercial/listings/".concat(e));return await ln(n,{method:"PUT",body:JSON.stringify(t)})},Dn=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/commercial/visits");const n=new URLSearchParams;return e.status&&n.append("status",e.status),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),e.property&&n.append("property",e.property),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},Tn=async e=>{const t=rn("/api/commercial/visits");return await ln(t,{method:"POST",body:JSON.stringify(e)})},Ln=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/commercial/requests");const n=new URLSearchParams;return e.status&&n.append("status",e.status),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},Fn=async(e,t)=>{const n=rn("/api/commercial/requests/".concat(e));return await ln(n,{method:"PUT",body:JSON.stringify({status:t})})},Rn={totalListings:4,totalVisits:18,conversionRate:27.5,pendingRequests:3},On=[{ID:"mock-1",Address:"221B Baker Street",City:"London",Type:"Apartment",Bedrooms:3,Bathrooms:2,Price:"\xa32,450/mo",Status:"Available",UpdatedAt:(new Date).toISOString()},{ID:"mock-2",Address:"742 Evergreen Terrace",City:"Springfield",Type:"House",Bedrooms:4,Bathrooms:3,Price:"$3,100/mo",Status:"Occupied",UpdatedAt:(new Date).toISOString()}],In=[{ID:"visit-1",Property:"221B Baker Street",Client:"Irene Adler",ClientEmail:"irene@example.com",ClientPhone:"+44 20 7946 0958",VisitDate:(new Date).toISOString(),VisitTime:"14:00",Status:"Scheduled"},{ID:"visit-2",Property:"742 Evergreen Terrace",Client:"Ned Flanders",ClientEmail:"ned@example.com",ClientPhone:"+1 555-1234",VisitDate:(new Date).toISOString(),VisitTime:"11:30",Status:"Completed"}],Mn=[{ID:"req-1",ClientName:"Lisa Simpson",ClientEmail:"lisa@example.com",Property:"742 Evergreen Terrace",CreatedAt:(new Date).toISOString(),PreferredDate:(new Date).toISOString(),Status:"Pending"},{ID:"req-2",ClientName:"John Watson",ClientEmail:"watson@example.com",Property:"221B Baker Street",CreatedAt:(new Date).toISOString(),PreferredDate:(new Date).toISOString(),Status:"Approved"}],zn=async function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8e3;const a=new Promise((e,a)=>{t=setTimeout(()=>a(new Error("Request timed out")),n)});try{return await Promise.race([e,a])}finally{clearTimeout(t)}},Un=()=>{const[e,t]=(0,a.useState)("overview"),[n,s]=(0,a.useState)([]),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)(""),[f,x]=(0,a.useState)(!1),[v,g]=(0,a.useState)(null),[y,j]=(0,a.useState)([]),[b,N]=(0,a.useState)([]),[w,S]=(0,a.useState)([]),k=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now();s(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{s(e=>e.filter(e=>e.id!==n))},3200)},[]),C=(0,a.useCallback)(()=>{g(Rn),j(On),N(In),S(Mn),k("Showing sample commercial data. Connect the backend to see live results.","info")},[k]),A=(0,a.useCallback)(async()=>{console.debug("[SalesDashboard] Loading commercial data...");try{x(!0);const[e,t,n,a]=await Promise.all([zn(Cn()),zn(An()),zn(Dn()),zn(Ln())]);console.debug("[SalesDashboard] Commercial data loaded",{overview:e,listingsCount:null===t||void 0===t?void 0:t.length,visitsCount:null===n||void 0===n?void 0:n.length,requestsCount:null===a||void 0===a?void 0:a.length}),g(e),j(t||[]),N(n||[]),S(a||[])}catch(e){console.error("[SalesDashboard] Error loading data",e),k("Unable to reach commercial API. Using sample data.","warning"),C()}finally{x(!1)}},[k,C]);(0,a.useEffect)(()=>{A()},[A]);const E=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:zt},{id:"listings",label:"Listings",icon:bn},{id:"visits",label:"Visits",icon:Nn},{id:"requests",label:"Requests",icon:wn},{id:"settings",label:"Profile Settings",icon:qt}],[]),P=(0,a.useMemo)(()=>E.map(t=>({id:t.id,label:t.label,icon:t.icon,active:e===t.id})),[E,e]),D=()=>{console.debug("[SalesDashboard] Opening add listing modal"),h(null),l(!0)},T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.debug("[SalesDashboard] Scheduling visit for property",e),p(e),d(!0)},L=()=>{o(!1),h(null)},F=()=>{d(!1),p("")},R=(0,a.useCallback)(async e=>{x(!0);try{await En(e),k("Listing added successfully!","success"),l(!1),A()}catch(t){console.error("Error adding listing:",t),k("Failed to add listing","error")}finally{x(!1)}},[k,A]),O=(0,a.useCallback)(async e=>{if(u){x(!0);try{await Pn(u.ID,e),k("Listing updated successfully!","success"),L(),A()}catch(t){console.error("Error updating listing:",t),k("Failed to update listing","error")}finally{x(!1)}}},[k,A,u]),I=(0,a.useCallback)(async e=>{x(!0);try{await Tn(e),k("Visit scheduled successfully!","success"),F(),A()}catch(t){console.error("Error scheduling visit:",t),k("Failed to schedule visit","error")}finally{x(!1)}},[k,A]),M=(0,a.useCallback)(async e=>{try{await Fn(e,"approved"),k("Request approved successfully!","success"),A()}catch(t){console.error("Error approving request:",t),k("Failed to approve request","error")}},[k,A]),z=()=>{var e;const t=[{label:"Active Listings",value:(null===v||void 0===v?void 0:v.totalListings)||0,subtitle:"Properties in portfolio",icon:bn},{label:"Scheduled Visits",value:(null===v||void 0===v?void 0:v.totalVisits)||0,subtitle:"All-time visits",icon:Nn},{label:"Conversion Rate",value:"".concat((null===v||void 0===v||null===(e=v.conversionRate)||void 0===e?void 0:e.toFixed(1))||0,"%"),subtitle:"Visit to lease",icon:Sn},{label:"Pending Requests",value:(null===v||void 0===v?void 0:v.pendingRequests)||0,subtitle:"Awaiting response",icon:kn}];return(0,wt.jsx)("div",{className:"dashboard-overview",children:t.map(e=>{const t=e.icon;return(0,wt.jsxs)("div",{className:"overview-card",children:[(0,wt.jsxs)("div",{className:"card-label",children:[(0,wt.jsx)("span",{children:e.label}),(0,wt.jsx)("span",{className:"card-trend positive",children:(0,wt.jsx)(t,{size:16})})]}),(0,wt.jsxs)("div",{className:"card-value",children:[(0,wt.jsx)("span",{children:e.value}),(0,wt.jsx)("small",{children:e.subtitle})]})]},e.label)})})},U=()=>(0,wt.jsxs)("div",{className:"panel",children:[(0,wt.jsxs)("div",{className:"section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Property Listings"}),(0,wt.jsx)("p",{children:"Manage portfolio availability and pricing"})]}),(0,wt.jsxs)("button",{className:"action-button primary",onClick:D,children:[(0,wt.jsx)(Vt,{size:16}),(0,wt.jsx)("span",{children:"Add Listing"})]})]}),f?(0,wt.jsx)("div",{className:"loading",children:"Loading listings..."}):0===y.length?(0,wt.jsx)("div",{className:"no-data",children:"No listings available"}):(0,wt.jsx)("div",{className:"data-table-wrapper",children:(0,wt.jsxs)("table",{className:"data-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Details"}),(0,wt.jsx)("th",{children:"Price"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{style:{textAlign:"right"},children:"Actions"})]})}),(0,wt.jsx)("tbody",{children:y.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsxs)("td",{children:[(0,wt.jsx)("div",{className:"row-primary",children:e.Address||"Unnamed Property"}),(0,wt.jsx)("div",{className:"row-secondary",children:e.City||e.District||"N/A"})]}),(0,wt.jsxs)("td",{children:[(0,wt.jsx)("div",{className:"row-primary",children:e.Type||"N/A"}),(0,wt.jsxs)("div",{className:"row-secondary",children:[e.Bedrooms||0," bd / ",e.Bathrooms||0," ba"]})]}),(0,wt.jsxs)("td",{children:[(0,wt.jsx)("div",{className:"row-primary",children:e.Price||"N/A"}),(0,wt.jsx)("div",{className:"row-secondary",children:e.UpdatedAt?"Updated ".concat(new Date(e.UpdatedAt).toLocaleDateString()):"Update pending"})]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"status-pill",children:e.Status||"Available"})}),(0,wt.jsxs)("td",{style:{textAlign:"right"},children:[(0,wt.jsx)("button",{className:"table-action-button start",onClick:()=>k("Opening listing details","info"),children:"View"}),(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>(e=>{console.debug("[SalesDashboard] Editing listing",e),h(e),o(!0)})(e),children:"Edit"}),(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>T(e.Address),children:"Schedule"})]})]},e.ID||"listing-".concat(t)))})]})})]}),_=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e){case"overview":default:return z();case"listings":return U();case"visits":return(0,wt.jsxs)("div",{className:"panel",children:[(0,wt.jsxs)("div",{className:"section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Visit Management"}),(0,wt.jsx)("p",{children:"Schedule and track property viewings"})]}),(0,wt.jsxs)("button",{className:"action-button primary",onClick:()=>T(),children:[(0,wt.jsx)(Vt,{size:16}),(0,wt.jsx)("span",{children:"Schedule Visit"})]})]}),f?(0,wt.jsx)("div",{className:"loading",children:"Loading visits..."}):0===b.length?(0,wt.jsx)("div",{className:"no-data",children:"No visits scheduled"}):(0,wt.jsx)("div",{className:"data-table-wrapper",children:(0,wt.jsxs)("table",{className:"data-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Client"}),(0,wt.jsx)("th",{children:"Scheduled"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{style:{textAlign:"right"},children:"Actions"})]})}),(0,wt.jsx)("tbody",{children:b.map((e,t)=>{const n=e.VisitDate||e.Date||e.ScheduledAt,a=e.VisitTime||e.Time,s=n?new Date(n).toLocaleDateString():"N/A",r=a||(n?new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A");return(0,wt.jsxs)("tr",{children:[(0,wt.jsxs)("td",{children:[(0,wt.jsx)("div",{className:"row-primary",children:e.Property||e.Address||"Property"}),(0,wt.jsx)("div",{className:"row-secondary",children:e.Agent||"Pending assignment"})]}),(0,wt.jsxs)("td",{children:[(0,wt.jsx)("div",{className:"row-primary",children:e.Client||e.ClientName||"Client"}),(0,wt.jsx)("div",{className:"row-secondary",children:e.ClientEmail||e.ClientPhone||"N/A"})]}),(0,wt.jsxs)("td",{children:[(0,wt.jsx)("div",{className:"row-primary",children:s}),(0,wt.jsx)("div",{className:"row-secondary",children:r})]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"status-pill",children:e.Status||"Scheduled"})}),(0,wt.jsxs)("td",{style:{textAlign:"right"},children:[(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>k("Visit marked as completed","success"),children:"Complete"}),(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>T(e.Property),children:"Reschedule"})]})]},e.ID||"visit-".concat(t))})})]})})]});case"requests":return(0,wt.jsxs)("div",{className:"panel",children:[(0,wt.jsx)("div",{className:"section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Visit Requests"}),(0,wt.jsx)("p",{children:"Manage incoming requests from prospective tenants"})]})}),f?(0,wt.jsx)("div",{className:"loading",children:"Loading requests..."}):0===w.length?(0,wt.jsx)("div",{className:"no-data",children:"No requests received"}):(0,wt.jsx)("div",{className:"data-table-wrapper",children:(0,wt.jsxs)("table",{className:"data-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Client"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Requested"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{style:{textAlign:"right"},children:"Actions"})]})}),(0,wt.jsx)("tbody",{children:w.map((e,t)=>{var n;return(0,wt.jsxs)("tr",{children:[(0,wt.jsxs)("td",{children:[(0,wt.jsx)("div",{className:"row-primary",children:e.ClientName||"Client"}),(0,wt.jsx)("div",{className:"row-secondary",children:e.ClientEmail||e.ClientPhone||"N/A"})]}),(0,wt.jsxs)("td",{children:[(0,wt.jsx)("div",{className:"row-primary",children:e.Property||"Property"}),(0,wt.jsx)("div",{className:"row-secondary",children:e.City||e.District||"N/A"})]}),(0,wt.jsxs)("td",{children:[(0,wt.jsx)("div",{className:"row-primary",children:e.CreatedAt?new Date(e.CreatedAt).toLocaleDateString():"N/A"}),(0,wt.jsx)("div",{className:"row-secondary",children:e.PreferredDate?new Date(e.PreferredDate).toLocaleDateString():""})]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"status-pill",children:e.Status||"Pending"})}),(0,wt.jsxs)("td",{style:{textAlign:"right"},children:["pending"===(null===(n=e.Status)||void 0===n?void 0:n.toLowerCase())&&(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>M(e.ID),children:"Approve"}),(0,wt.jsx)("button",{className:"table-action-button start",onClick:()=>k("Opening request details","info"),children:"View"})]})]},e.ID||"request-".concat(t))})})]})})]});case"settings":return(0,wt.jsx)("div",{className:"embedded-settings",children:(0,wt.jsx)(hn,{})})}};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Commercial Team",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:P,activeId:e,onActiveChange:t,onLogout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/"},title:"Commercial Dashboard",subtitle:"Manage property listings, visits, and client relationships",children:e=>{let{activeId:t}=e;return(0,wt.jsx)("div",{className:"content-body sales-content",children:_(t)})}}),(0,wt.jsx)(St,{isOpen:r,onClose:()=>l(!1),title:"Add New Listing",size:"lg",children:(0,wt.jsxs)("form",{className:"modal-form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target),n={Address:t.get("address"),Type:t.get("type"),Bedrooms:Number(t.get("bedrooms")),Bathrooms:Number(t.get("bathrooms")),Price:t.get("price"),Description:t.get("description"),Status:t.get("status")};R(n)},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property Address"}),(0,wt.jsx)("input",{name:"address",placeholder:"e.g., 123 Main Street",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property Type"}),(0,wt.jsxs)("select",{name:"type",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Type"}),(0,wt.jsx)("option",{value:"apartment",children:"Apartment"}),(0,wt.jsx)("option",{value:"house",children:"House"}),(0,wt.jsx)("option",{value:"studio",children:"Studio"}),(0,wt.jsx)("option",{value:"condo",children:"Condo"})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Bedrooms"}),(0,wt.jsx)("input",{name:"bedrooms",type:"number",min:"0",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Bathrooms"}),(0,wt.jsx)("input",{name:"bathrooms",type:"number",min:"0",step:"0.5",required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Monthly Rent"}),(0,wt.jsx)("input",{name:"price",placeholder:"e.g., $1,200/month",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Status"}),(0,wt.jsxs)("select",{name:"status",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Status"}),(0,wt.jsx)("option",{value:"available",children:"Available"}),(0,wt.jsx)("option",{value:"occupied",children:"Occupied"}),(0,wt.jsx)("option",{value:"maintenance",children:"Under Maintenance"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Description"}),(0,wt.jsx)("textarea",{name:"description",rows:"4",placeholder:"Describe the property features, amenities, etc."})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>l(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:f,children:f?"Adding...":"Add Listing"})]})]})}),(0,wt.jsx)(St,{isOpen:i,onClose:L,title:"Edit Listing",size:"lg",children:(0,wt.jsxs)("form",{className:"modal-form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target),n={Address:t.get("address"),Type:t.get("type"),Bedrooms:Number(t.get("bedrooms")),Bathrooms:Number(t.get("bathrooms")),Price:t.get("price"),Description:t.get("description"),Status:t.get("status")};O(n)},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property Address"}),(0,wt.jsx)("input",{name:"address",defaultValue:null===u||void 0===u?void 0:u.Address,required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property Type"}),(0,wt.jsxs)("select",{name:"type",defaultValue:null===u||void 0===u?void 0:u.Type,required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Type"}),(0,wt.jsx)("option",{value:"apartment",children:"Apartment"}),(0,wt.jsx)("option",{value:"house",children:"House"}),(0,wt.jsx)("option",{value:"studio",children:"Studio"}),(0,wt.jsx)("option",{value:"condo",children:"Condo"})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Bedrooms"}),(0,wt.jsx)("input",{name:"bedrooms",type:"number",min:"0",defaultValue:null===u||void 0===u?void 0:u.Bedrooms,required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Bathrooms"}),(0,wt.jsx)("input",{name:"bathrooms",type:"number",min:"0",step:"0.5",defaultValue:null===u||void 0===u?void 0:u.Bathrooms,required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Monthly Rent"}),(0,wt.jsx)("input",{name:"price",defaultValue:null===u||void 0===u?void 0:u.Price,required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Status"}),(0,wt.jsxs)("select",{name:"status",defaultValue:null===u||void 0===u?void 0:u.Status,required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Status"}),(0,wt.jsx)("option",{value:"available",children:"Available"}),(0,wt.jsx)("option",{value:"occupied",children:"Occupied"}),(0,wt.jsx)("option",{value:"maintenance",children:"Under Maintenance"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Description"}),(0,wt.jsx)("textarea",{name:"description",rows:"4",defaultValue:null===u||void 0===u?void 0:u.Description,placeholder:"Describe the property features, amenities, etc."})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:L,children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:f,children:f?"Updating...":"Update Listing"})]})]})}),(0,wt.jsx)(St,{isOpen:c,onClose:F,title:"Schedule Visit",size:"lg",children:(0,wt.jsxs)("form",{className:"modal-form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target),n={Property:t.get("property"),ClientName:t.get("clientName"),ClientEmail:t.get("clientEmail"),ClientPhone:t.get("clientPhone"),VisitDate:t.get("visitDate"),VisitTime:t.get("visitTime"),Notes:t.get("notes")};I(n)},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property"}),(0,wt.jsxs)("select",{name:"property",defaultValue:m,required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Property"}),y.map((e,t)=>(0,wt.jsx)("option",{value:e.Address,children:e.Address},e.ID||"listing-".concat(t)))]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Client Name"}),(0,wt.jsx)("input",{name:"clientName",placeholder:"Full name",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Client Email"}),(0,wt.jsx)("input",{name:"clientEmail",type:"email",placeholder:"email@example.com",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Client Phone"}),(0,wt.jsx)("input",{name:"clientPhone",type:"tel",placeholder:"Phone number",required:!0})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Visit Date"}),(0,wt.jsx)("input",{name:"visitDate",type:"date",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Visit Time"}),(0,wt.jsx)("input",{name:"visitTime",type:"time",required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Notes"}),(0,wt.jsx)("textarea",{name:"notes",rows:"3",placeholder:"Any special requirements or notes for the visit"})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:F,children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:f,children:f?"Scheduling...":"Schedule Visit"})]})]})}),(0,wt.jsx)("div",{className:"notifications-container",children:n.map(e=>(0,wt.jsxs)("div",{className:"notification notification-".concat(e.type),children:[(0,wt.jsx)("span",{children:e.message}),(0,wt.jsx)("button",{onClick:()=>s(t=>t.filter(t=>t.id!==e.id)),children:"\xd7"})]},e.id))})]})},_n=Tt("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),qn=async()=>{const e=rn("/api/admin/overview");return await ln(e)},Vn=async()=>{const e=rn("/api/admin/inbox");return await ln(e)},Bn=async e=>{const t=rn("/api/admin/inbox/".concat(e,"/forward"));return await ln(t,{method:"POST"})},Hn=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/admin/documents");const n=new URLSearchParams;return e.status&&n.append("status",e.status),e.tenant&&n.append("tenant",e.tenant),e.type&&n.append("type",e.type),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},Wn=async e=>{const t=rn("/api/admin/documents/".concat(e,"/approve"));return await ln(t,{method:"POST"})},$n=async(e,t)=>{const n=rn("/api/admin/documents/".concat(e,"/reject"));return await ln(n,{method:"POST",body:JSON.stringify({reason:t})})},Jn=async e=>{const t=rn("/api/admin/documents/".concat(e,"/follow-up"));return await ln(t,{method:"POST"})},Xn=async e=>{const t=rn("/api/admin/documents/".concat(e,"/utility"));return await ln(t,{method:"POST"})},Gn=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/admin/utilities");const n=new URLSearchParams;return e.status&&n.append("status",e.status),e.provider&&n.append("provider",e.provider),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},Qn=async e=>{const t=rn("/api/admin/utilities/".concat(e,"/transfer"));return await ln(t,{method:"POST"})},Kn=async()=>{const e=rn("/api/admin/debts");return await ln(e)},Yn=async e=>{const t=rn("/api/admin/debts/".concat(e,"/remind"));return await ln(t,{method:"POST"})},Zn=async e=>{const t=rn("/api/admin/debts/".concat(e,"/paid"));return await ln(t,{method:"POST"})},ea=async()=>{const e=rn("/api/admin/payments/follow-ups");return await ln(e)},ta=async()=>{const e=rn("/api/admin/reminders");return await ln(e)},na=async e=>{const t=rn("/api/admin/reminders");return await ln(t,{method:"POST",body:JSON.stringify(e)})},aa=async e=>{const t=rn("/api/admin/reminders/".concat(e));return await ln(t,{method:"DELETE"})},sa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/admin/leases");const n=new URLSearchParams;return e.status&&n.append("status",e.status),e.tenant&&n.append("tenant",e.tenant),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},ra=async e=>{const t=rn("/api/admin/leases");return await ln(t,{method:"POST",body:JSON.stringify(e)})},la=async e=>{const t=rn("/api/admin/leases/".concat(e,"/generate"));return await ln(t,{method:"POST"})},ia=async e=>{const t=rn("/api/messaging/messages");return await ln(t,{method:"POST",body:JSON.stringify(e)})},oa=async()=>{const e=rn("/api/messaging/messages/conversations");return await ln(e)},ca=async e=>{const t=rn("/api/messaging/messages/".concat(e));return await ln(t)},da=async e=>{const t=rn("/api/messaging/messages/".concat(e,"/read"));return await ln(t,{method:"POST"})},ua=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/messaging/users");const n=new URLSearchParams;return e.role&&n.append("role",e.role),e.search&&n.append("search",e.search),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},ha=()=>{const[e,t]=(0,a.useState)("overview"),[n,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)([]),[f,x]=(0,a.useState)(null),[v,g]=(0,a.useState)([]),[y,j]=(0,a.useState)([]),[b,N]=(0,a.useState)([]),[w,S]=(0,a.useState)([]),[k,C]=(0,a.useState)([]),[A,E]=(0,a.useState)([]),[P,D]=(0,a.useState)([]),[T,L]=(0,a.useState)(""),[F,R]=(0,a.useState)(""),[O,I]=(0,a.useState)(""),[M,z]=(0,a.useState)(""),[U,_]=(0,a.useState)(""),[q,V]=(0,a.useState)([]),[B,H]=(0,a.useState)(null),[W,$]=(0,a.useState)([]),[J,X]=(0,a.useState)(""),G=(0,a.useRef)(!1),Q=(0,a.useRef)(null),K=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n="".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));p(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{p(e=>e.filter(e=>e.id!==n))},3e3)},[]),Y=(0,a.useCallback)(()=>{var e;null===(e=Q.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[]);(0,a.useEffect)(()=>{W.length>0&&Y()},[W,Y]);const Z=(0,a.useCallback)(async e=>{if(e)try{H(e);const n=await ca(e),a=Array.isArray(n)?n:[];$(a);try{await da(e)}catch(t){console.error("Error marking messages as read:",t)}}catch(n){console.error("Error loading chat:",n),K("Failed to load conversation: ".concat(n.message||"Unknown error"),"error"),$([])}},[K]),ee=(0,a.useCallback)(async()=>{if(!G.current)try{G.current=!0;const n=await ua();let a=[];Array.isArray(n)?a=n:n&&Array.isArray(n.users)?a=n.users:n&&"object"===typeof n&&(a=Object.values(n).find(e=>Array.isArray(e))||[]);const s=localStorage.getItem("user");let r=null;if(s)try{const e=JSON.parse(s);r=e.id||e.ID}catch(e){console.error("Error parsing stored user:",e)}const l=a.filter(e=>{const t=e.id||e.ID,n=t?String(t):null,a=r?String(r):null;return n&&n!==a}).map(e=>({userId:e.id||e.ID,name:e.name||e.Name||"User",email:e.email||e.Email||"",role:e.role||e.Role||"",company:e.company||e.Company||"",status:e.status||e.Status||"Active",unreadCount:0})).sort((e,t)=>{const n=(e.name||"").toLowerCase(),a=(t.name||"").toLowerCase();return n.localeCompare(a)});try{const e=await oa();Array.isArray(e)&&e.forEach(e=>{const t=l.find(t=>String(t.userId)===String(e.userId));t&&e.unreadCount&&(t.unreadCount=e.unreadCount)})}catch(t){console.error("Error loading conversations for unread counts:",t)}V(l),H(e=>{if(l.length>0&&!e){const e=l[0].userId;return setTimeout(()=>{Z(e)},0),e}return e}),0===l.length&&K("No users available for messaging","info")}catch(e){console.error("Error loading users:",e),K("Failed to load users: ".concat(e.message||"Unknown error"),"error"),V([])}finally{G.current=!1}},[Z,K]),te=(0,a.useCallback)(async()=>{try{h(!0);const[e,t,n,a,s,r,l,i]=await Promise.all([qn().catch(()=>null),Vn().catch(()=>({items:[]})),Hn({status:T||void 0,tenant:O||void 0,type:F||void 0}).catch(()=>[]),Gn({status:M||void 0}).catch(()=>({items:[]})),Kn().catch(()=>({items:[]})),ta().catch(()=>[]),sa({status:U||void 0}).catch(()=>[]),ea().catch(()=>[])]);x(e),g(t.items||[]),j(Array.isArray(n)?n:[]),N(a.items||[]),S(s.items||[]),C(Array.isArray(r)?r:[]),E(Array.isArray(l)?l:[]),D(Array.isArray(i)?i:[])}catch(e){console.error("Error loading admin data:",e),K("Failed to load dashboard data","error")}finally{h(!1)}},[K,T,F,O,M,U]);(0,a.useEffect)(()=>{te()},[te]),(0,a.useEffect)(()=>{"chat"!==e||G.current||ee()},[e,ee]);const ne=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:Rt},{id:"inbox",label:"Inbox",icon:Zt},{id:"documents",label:"Documents",icon:Rt},{id:"utilities",label:"CIE/SODECI Transfers",icon:It},{id:"debt",label:"Debt Collection",icon:Ut},{id:"reminders",label:"Reminders",icon:Gt},{id:"leases",label:"Leases",icon:Rt},{id:"automation",label:"Automation & Reports",icon:Sn},{id:"chat",label:"Messages",icon:_n},{id:"settings",label:"Profile Settings",icon:qt}],[]),ae=async()=>{if(!J.trim()||!B)return;const e=localStorage.getItem("user");let t=null;if(e)try{const n=JSON.parse(e);t=n.id||n.ID}catch(r){console.error("Error parsing stored user:",r)}if(!t)return void K("Unable to identify current user. Please log in again.","error");const n=J.trim(),a="temp-".concat(Date.now()),s={id:a,ID:a,fromUserId:t,toUserId:B,content:n,createdAt:(new Date).toISOString(),Content:n,CreatedAt:(new Date).toISOString(),FromUserId:t,ToUserId:B};$(e=>[...e,s]),X("");try{const e=await ia({toUserId:B,content:n});$(t=>[...t.filter(e=>e.id!==a),e]),await Z(B)}catch(r){console.error("Error sending message:",r),K(r.message||"Failed to send message","error"),$(e=>e.filter(e=>e.id!==a)),X(n)}},se=()=>{const e=f||{};return(0,wt.jsx)("div",{className:"sa-overview-page",children:(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Administrative Dashboard Overview"}),(0,wt.jsx)("p",{children:"Track document verification, automation, and administrative tasks"})]})}),(0,wt.jsxs)("div",{className:"sa-overview-metrics",children:[(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Files Received"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:e.totalFilesReceived||0}),(0,wt.jsx)("span",{className:"sa-metric-period",children:"Total documents"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Files Approved"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:e.filesApproved||0}),(0,wt.jsx)("span",{className:"sa-metric-period",children:"Approved documents"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Pending Review"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:e.filesPending||0}),(0,wt.jsx)("span",{className:"sa-metric-period",children:"Awaiting verification"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Files Rejected"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:e.filesRejected||0}),(0,wt.jsx)("span",{className:"sa-metric-period",children:"Rejected documents"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Average Approval Time"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:e.averageApprovalTimeHours?"".concat(e.averageApprovalTimeHours.toFixed(1),"h"):"0h"}),(0,wt.jsx)("span",{className:"sa-metric-period",children:"Hours per file"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Follow-ups Sent"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:e.numberOfFollowUpsSent||0}),(0,wt.jsx)("span",{className:"sa-metric-period",children:"Total follow-ups"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Utility Documents"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:e.utilityDocumentsSent||0}),(0,wt.jsx)("span",{className:"sa-metric-period",children:"Sent to utilities"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Pending Follow-ups"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:e.pendingFollowUpCount||0}),(0,wt.jsx)("span",{className:"sa-metric-period",children:"Needing follow-up"})]})]})]})})},re=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Received Documents"}),(0,wt.jsx)("p",{children:"Incoming tenant documents (email/inbox)"})]})}),u?(0,wt.jsx)("div",{className:"sa-table-empty",children:"Loading inbox documents..."}):0===v.length?(0,wt.jsx)("div",{className:"sa-table-empty",children:"No documents in inbox"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Document Type"}),(0,wt.jsx)("th",{children:"Source"}),(0,wt.jsx)("th",{children:"Received"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:v.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.tenant||"Unknown Tenant"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.reference||e.id||"No reference"})]})}),(0,wt.jsx)("td",{children:e.type||"Unknown Type"}),(0,wt.jsx)("td",{children:e.from||"Unknown"}),(0,wt.jsx)("td",{children:e.date||"Unknown Date"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||"new").toLowerCase()),children:e.status||"New"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>K("Document archived","success"),children:"Archive"}),(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>(async e=>{try{await Bn(e),K("Document forwarded successfully","success"),te()}catch(t){console.error("Error forwarding document:",t),K("Failed to forward document","error")}})(e.id),disabled:u,children:"Forward"})]})})]},e.id||"doc-".concat(t)))})]})})]}),le=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Document Verification"}),(0,wt.jsx)("p",{children:"Review and approve tenant documents"})]})}),(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",value:T,onChange:e=>L(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Documents"}),(0,wt.jsx)("option",{value:"Pending",children:"Pending Review"}),(0,wt.jsx)("option",{value:"Approved",children:"Approved"}),(0,wt.jsx)("option",{value:"Rejected",children:"Rejected"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",value:F,onChange:e=>R(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Types"}),(0,wt.jsx)("option",{value:"ID",children:"ID Documents"}),(0,wt.jsx)("option",{value:"Income",children:"Income Proof"}),(0,wt.jsx)("option",{value:"Reference",children:"References"})]}),(0,wt.jsx)("input",{className:"sa-search-input",type:"text",placeholder:"Search by tenant name...",value:O,onChange:e=>I(e.target.value)})]}),u?(0,wt.jsx)("div",{className:"sa-table-empty",children:"Loading documents..."}):0===y.length?(0,wt.jsx)("div",{className:"sa-table-empty",children:"No documents pending review"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Document"}),(0,wt.jsx)("th",{children:"Submitted"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:y.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.tenant||"Unknown Tenant"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||e.reference||"No reference"})]})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.documentType||e.type||"Document"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.category||"General"})]})}),(0,wt.jsx)("td",{children:e.submittedAt||e.date||"Unknown"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||"pending").toLowerCase()),children:e.status||"Pending"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>K("Opening document viewer","info"),children:"View"}),(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>(async e=>{try{await Wn(e),K("Document approved successfully","success"),te()}catch(t){console.error("Error approving document:",t),K("Failed to approve document","error")}})(e.id),children:"Approve"}),(0,wt.jsx)("button",{className:"table-action-button delete",onClick:()=>{o(e.id),l(!0)},children:"Reject"}),(0,wt.jsx)("button",{className:"table-action-button contact",onClick:()=>(async e=>{try{await Jn(e),K("Follow-up sent successfully","success"),te()}catch(t){console.error("Error sending follow-up:",t),K("Failed to send follow-up","error")}})(e.id),children:"Follow-up"}),(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>(async e=>{try{await Xn(e),K("Document sent to utility successfully","success"),te()}catch(t){console.error("Error sending to utility:",t),K("Failed to send to utility","error")}})(e.id),children:"Utility"})]})})]},e.id||"document-".concat(t)))})]})})]}),ie=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"CIE / SODECI Transfers"}),(0,wt.jsx)("p",{children:"Send tenant and lease details to utility companies"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>K("Batch export started","success"),disabled:u,children:[(0,wt.jsx)(It,{size:18}),"Send Batch"]})]}),(0,wt.jsx)("div",{className:"sa-filters-section",children:(0,wt.jsxs)("select",{className:"sa-filter-select",value:M,onChange:e=>z(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"Sent",children:"Sent"}),(0,wt.jsx)("option",{value:"Confirmed",children:"Confirmed"})]})}),u?(0,wt.jsx)("div",{className:"sa-table-empty",children:"Loading utility transfers..."}):0===b.length?(0,wt.jsx)("div",{className:"sa-table-empty",children:"No pending transfers"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Utility Account"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Scheduled"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:b.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.tenant||"Unknown Tenant"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||e.phone||"\u2014"})]})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.property||"Unknown property"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.city||e.reference||"\u2014"})]})}),(0,wt.jsx)("td",{children:e.utilityAccount||e.meter||"\u2014"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||"ready").toLowerCase()),children:e.status||"Ready"})}),(0,wt.jsx)("td",{children:e.scheduled||e.date||"\u2014"}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>K("Previewing payload","info"),children:"Preview"}),(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>(async e=>{try{await Qn(e),K("Utility transfer completed successfully","success"),te()}catch(t){console.error("Error transferring utility:",t),K("Failed to transfer utility","error")}})(e.id),children:"Transfer"})]})})]},e.id||"utility-".concat(t)))})]})})]}),oe=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Debt Collection"}),(0,wt.jsx)("p",{children:"Track overdue balances and manage collections"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>K("Debt report exported","success"),disabled:u,children:[(0,wt.jsx)(Bt,{size:18}),"Export"]})]}),u?(0,wt.jsx)("div",{className:"sa-table-empty",children:"Syncing balances..."}):0===w.length?(0,wt.jsx)("div",{className:"sa-table-empty",children:"No outstanding debts"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Amount Due"}),(0,wt.jsx)("th",{children:"Due Date"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:w.map(e=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.tenant}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||e.contact||"\u2014"})]})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.property}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.unit||e.city||"\u2014"})]})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.amount||e.balance}),(0,wt.jsxs)("span",{className:"sa-cell-sub",children:["Reminders: ",e.reminders||0]})]})}),(0,wt.jsx)("td",{children:e.dueDate}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||"pending").toLowerCase()),children:e.status})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>(async e=>{try{await Yn(e),K("Reminder sent successfully","success"),te()}catch(t){console.error("Error sending reminder:",t),K("Failed to send reminder","error")}})(e.id),children:"Reminder"}),(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>(async e=>{try{await Zn(e),K("Debt marked as paid successfully","success"),te()}catch(t){console.error("Error marking debt as paid:",t),K("Failed to mark debt as paid","error")}})(e.id),children:"Mark Paid"}),(0,wt.jsx)("button",{className:"table-action-button delete",onClick:()=>K("Escalated to collections","warning"),children:"Escalate"})]})})]},e.id))})]})})]}),ce=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Reminders"}),(0,wt.jsx)("p",{children:"Create and manage payment and document reminders"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>(async e=>{try{await na(e),K("Reminder created successfully","success"),te()}catch(t){console.error("Error creating reminder:",t),K("Failed to create reminder","error")}})({subject:"Scheduled Reminder",description:"Automated follow up",date:(new Date).toISOString(),channel:"Email",status:"Scheduled"}),disabled:u,children:[(0,wt.jsx)(Vt,{size:18}),"Schedule Reminder"]})]}),0===k.length?(0,wt.jsx)("div",{className:"sa-table-empty",children:"No reminders scheduled"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Reminder"}),(0,wt.jsx)("th",{children:"Channel"}),(0,wt.jsx)("th",{children:"Scheduled"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:k.map(e=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.subject}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.description||"Automated follow up"})]})}),(0,wt.jsx)("td",{children:e.channel}),(0,wt.jsx)("td",{children:e.date||e.scheduledAt}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||"scheduled").toLowerCase()),children:e.status})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>K("Reminder updated","success"),children:"Edit"}),(0,wt.jsx)("button",{className:"table-action-button delete",onClick:()=>(async e=>{try{await aa(e),K("Reminder deleted successfully","success"),te()}catch(t){console.error("Error deleting reminder:",t),K("Failed to delete reminder","error")}})(e.id),children:"Cancel"})]})})]},e.id))})]})})]}),de=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Lease Agreements"}),(0,wt.jsx)("p",{children:"Generate and manage lease contracts for approved tenants"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>s(!0),disabled:u,children:[(0,wt.jsx)(Vt,{size:18}),"Create Lease"]})]}),(0,wt.jsx)("div",{className:"sa-filters-section",children:(0,wt.jsxs)("select",{className:"sa-filter-select",value:U,onChange:e=>_(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"Active",children:"Active"}),(0,wt.jsx)("option",{value:"Pending",children:"Pending"}),(0,wt.jsx)("option",{value:"Expired",children:"Expired"})]})}),0===A.length?(0,wt.jsx)("div",{className:"sa-table-empty",children:"No leases created yet"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Term"}),(0,wt.jsx)("th",{children:"Rent"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:A.map(e=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.tenant}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||"\u2014"})]})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.property}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.unit||e.city||"\u2014"})]})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsxs)("span",{className:"sa-cell-title",children:[e.startDate," - ",e.endDate]}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.duration||"1 year"})]})}),(0,wt.jsx)("td",{children:e.rent}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||"active").toLowerCase()),children:e.status||"Active"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>K("Lease opened","info"),children:"View"}),"Pending"===e.status&&(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>(async e=>{try{await la(e),K("Lease document generated successfully","success"),te()}catch(t){console.error("Error generating lease document:",t),K("Failed to generate lease document","error")}})(e.id),children:"Generate"}),(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>K("Lease downloaded","success"),children:"Download"}),(0,wt.jsx)("button",{className:"table-action-button delete",onClick:()=>K("Lease termination initiated","warning"),children:"Terminate"})]})})]},e.id))})]})})]}),ue=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e){case"overview":default:return se();case"inbox":return re();case"documents":return le();case"utilities":return ie();case"debt":return oe();case"reminders":return ce();case"leases":return de();case"automation":return(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Automation & Reports"}),(0,wt.jsx)("p",{children:"Manage automated workflows and generate reports"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>K("Monthly report generated","success"),children:[(0,wt.jsx)(Bt,{size:18}),"Generate Monthly Report"]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Automation Type"}),(0,wt.jsx)("th",{children:"Description"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Statistics"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:[{title:"Lease Generation",description:"Automatically generate lease contracts based on approved applications.",stats:"Generated: 15 this month | Success rate: 98%",status:"active"},{title:"Utility Company Notifications",description:"Send tenant information to utility companies automatically.",stats:"Sent: 8 this month | Success rate: 100%",status:"active"},{title:"Payment Reminders",description:"Send automatic reminders for pending payments.",stats:"Sent: 23 this month | Response rate: 78%",status:"active"},{title:"Financial Reports",description:"Generate monthly financial reports for landlords.",stats:"Last generated: Nov 1, 2024 | Next: Dec 1, 2024",status:"pending"}].map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.title})}),(0,wt.jsx)("td",{children:e.description}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat(e.status),children:"active"===e.status?"Active":"Pending"})}),(0,wt.jsx)("td",{children:e.stats}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button view",children:"View"}),(0,wt.jsx)("button",{className:"table-action-button edit",children:"Configure"})]})})]},e.title||t))})]})})]});case"chat":return(0,wt.jsx)("div",{className:"sa-chat-page",children:(0,wt.jsxs)("div",{className:"sa-chat-layout",children:[(0,wt.jsxs)("div",{className:"sa-chat-list",children:[(0,wt.jsx)("h3",{children:"Users"}),(0,wt.jsxs)("ul",{children:[q.map(e=>{const t=e.userId===B;return(0,wt.jsx)("li",{className:t?"active":"",onClick:()=>Z(e.userId),children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.name||"User"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||""}),e.role&&(0,wt.jsx)("span",{className:"sa-cell-sub",style:{fontSize:"0.75rem",color:"#6b7280"},children:e.role}),e.unreadCount>0&&(0,wt.jsxs)("span",{className:"sa-cell-sub",style:{color:"#2563eb",fontWeight:600,marginTop:"4px"},children:[e.unreadCount," unread"]})]})},"chat-user-".concat(e.userId))}),0===q.length&&(0,wt.jsx)("li",{style:{padding:"20px",textAlign:"center",color:"#9ca3af"},children:"No users available"})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-conversation",children:[(0,wt.jsxs)("div",{className:"sa-chat-header",children:[(0,wt.jsx)("h3",{children:"Messages"}),B&&(0,wt.jsxs)("span",{className:"sa-chat-subtitle",children:["Chat with"," ",(q.find(e=>e.userId===B)||{}).name||"User"]})]}),(0,wt.jsxs)("div",{className:"sa-chat-messages",children:[W.map((e,t)=>{const n=e.content||e.Content||"",a=e.createdAt||e.CreatedAt||"",s=e.fromUserId||e.FromUserId,r=e.id||e.ID||t,l=localStorage.getItem("user");let i=!1;if(l)try{const e=JSON.parse(l),t=e.id||e.ID;i=String(s)===String(t)}catch(Lr){}return(0,wt.jsxs)("div",{className:"sa-chat-bubble ".concat(i?"outgoing":"incoming"),children:[(0,wt.jsx)("p",{children:n}),(0,wt.jsx)("span",{className:"sa-chat-meta",children:a?new Date(a).toLocaleString():""})]},"msg-".concat(r))}),0===W.length&&(0,wt.jsx)("div",{className:"sa-table-empty",children:B?"No messages yet. Start the conversation!":"Select a conversation on the left to start messaging."}),(0,wt.jsx)("div",{ref:Q})]}),(0,wt.jsxs)("div",{className:"sa-chat-input-row",children:[(0,wt.jsx)("input",{type:"text",placeholder:"Reply...",value:J,onChange:e=>X(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ae())},disabled:!B}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:ae,disabled:!B||!J.trim(),children:[(0,wt.jsx)(_n,{size:16}),"Send"]})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-details",children:[(0,wt.jsx)("h4",{children:"Contact Details"}),B?(()=>{const e=q.find(e=>e.userId===B)||{};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Name:"})," ",e.name||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Email:"})," ",e.email||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Role:"})," ",e.role||"N/A"]}),e.company&&(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Company:"})," ",e.company]})]})})():(0,wt.jsx)("p",{children:"Select a conversation to view details."})]})]})});case"settings":return(0,wt.jsx)("div",{className:"embedded-settings",children:(0,wt.jsx)(hn,{})})}},he=(0,a.useMemo)(()=>ne.map(t=>({id:t.id,label:t.label,icon:t.icon,active:e===t.id})),[ne,e]);return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Administrative Portal",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:he,activeId:e,onActiveChange:t,onLogout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/"},children:e=>{let{activeId:t}=e;return(0,wt.jsx)("div",{className:"content-body administrative-content",children:ue(t)})}}),(0,wt.jsx)(St,{isOpen:n,onClose:()=>s(!1),title:"Create Lease Agreement",size:"md",children:(0,wt.jsxs)("form",{className:"modal-form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target),n={tenant:t.get("tenant"),property:t.get("property"),startDate:t.get("start"),endDate:t.get("end"),rent:t.get("rent"),status:"Pending"};ra(n).then(()=>{K("Lease created successfully","success"),s(!1),te()}).catch(e=>{K("Failed to create lease","error"),console.error(e)})},children:[(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"lease-tenant",children:"Tenant"}),(0,wt.jsx)("input",{type:"text",id:"lease-tenant",name:"tenant",placeholder:"Tenant name",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"lease-property",children:"Property"}),(0,wt.jsx)("input",{type:"text",id:"lease-property",name:"property",placeholder:"Property address",required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"lease-start",children:"Start Date"}),(0,wt.jsx)("input",{type:"date",id:"lease-start",name:"start",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"lease-end",children:"End Date"}),(0,wt.jsx)("input",{type:"date",id:"lease-end",name:"end",required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"lease-rent",children:"Monthly Rent"}),(0,wt.jsx)("input",{type:"number",id:"lease-rent",name:"rent",min:"0",step:"0.01",placeholder:"$0.00",required:!0})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>s(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",children:"Save Lease"})]})]})}),r&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>l(!1),children:(0,wt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Reject Document"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>l(!1),children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"rejection-reason",children:"Rejection Reason *"}),(0,wt.jsx)("textarea",{id:"rejection-reason",value:c,onChange:e=>d(e.target.value),placeholder:"Please provide a reason for rejection...",rows:"4",required:!0})]})}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>{l(!1),o(null),d("")},children:"Cancel"}),(0,wt.jsx)("button",{type:"button",className:"action-button primary",onClick:async()=>{if(i&&c.trim())try{await $n(i,c),K("Document rejected successfully","success"),l(!1),o(null),d(""),te()}catch(e){console.error("Error rejecting document:",e),K("Failed to reject document","error")}else K("Please provide a rejection reason","error")},disabled:!c.trim(),children:"Reject Document"})]})]})}),(0,wt.jsx)("div",{className:"notifications-container",children:m.map(e=>(0,wt.jsx)("div",{className:"notification notification-".concat(e.type),children:e.message},e.id))})]})},ma=Tt("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),pa=Tt("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),fa=Tt("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),xa=async()=>{const e=rn("/api/accounting/overview");return await ln(e)},va=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/accounting/tenant-payments");const n=new URLSearchParams;return e.property&&n.append("property",e.property),e.status&&n.append("status",e.status),e.chargeType&&n.append("chargeType",e.chargeType),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},ga=async e=>{const t=rn("/api/accounting/tenant-payments");return await ln(t,{method:"POST",body:JSON.stringify(e)})},ya=async e=>{const t=rn("/api/accounting/tenant-payments/".concat(e,"/approve"));return await ln(t,{method:"POST"})},ja=async e=>{const t=rn("/api/accounting/tenant-payments/".concat(e,"/receipt"));return await ln(t,{method:"POST"})},ba=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/accounting/landlord-payments");const n=new URLSearchParams;return e.building&&n.append("building",e.building),e.landlord&&n.append("landlord",e.landlord),e.status&&n.append("status",e.status),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},Na=async e=>{const t=rn("/api/accounting/landlord-payments");return await ln(t,{method:"POST",body:JSON.stringify(e)})},wa=async e=>{const t=rn("/api/accounting/landlord-payments/".concat(e,"/transfer"));return await ln(t,{method:"POST"})},Sa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/accounting/collections");const n=new URLSearchParams;return e.building&&n.append("building",e.building),e.landlord&&n.append("landlord",e.landlord),e.chargeType&&n.append("chargeType",e.chargeType),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},ka=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/accounting/expenses");const n=new URLSearchParams;return e.building&&n.append("building",e.building),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},Ca=async e=>{const t=rn("/api/accounting/expenses");return await ln(t,{method:"POST",body:JSON.stringify(e)})},Aa=async()=>{const e=rn("/api/accounting/summary/monthly");return await ln(e)},Ea=()=>{const[e,t]=(0,a.useState)("overview"),[n,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[p,f]=(0,a.useState)([]),[x,v]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)(null),[N,w]=(0,a.useState)([]),[S,k]=(0,a.useState)([]),[C,A]=(0,a.useState)([]),[E,P]=(0,a.useState)([]),[D,T]=(0,a.useState)(null),[L,F]=(0,a.useState)([]),[R,O]=(0,a.useState)(null),[I,M]=(0,a.useState)([]),[z,U]=(0,a.useState)(""),_=(0,a.useRef)(!1),q=(0,a.useRef)(null),V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now();f(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{f(e=>e.filter(e=>e.id!==n))},3e3)},B=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:Ut},{id:"collections",label:"Collections",icon:Sn},{id:"payments",label:"Landlord Payments",icon:ma},{id:"tenant-payments",label:"Tenant Payments",icon:pa},{id:"reports",label:"Reports",icon:fa},{id:"expenses",label:"Expenses",icon:Rt},{id:"chat",label:"Messages",icon:_n},{id:"settings",label:"Profile Settings",icon:qt}],[]),H=(0,a.useCallback)(()=>{var e;null===(e=q.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[]);(0,a.useEffect)(()=>{I.length>0&&H()},[I,H]);const W=(0,a.useCallback)(async e=>{if(e)try{O(e);const n=await ca(e),a=Array.isArray(n)?n:[];M(a);try{await da(e)}catch(t){console.error("Error marking messages as read:",t)}}catch(n){console.error("Error loading chat:",n),V("Failed to load conversation: ".concat(n.message||"Unknown error"),"error"),M([])}},[V]),$=(0,a.useCallback)(async()=>{if(_.current)console.log("Users already loading, skipping...");else try{_.current=!0,console.log("Loading users for messaging...");const n=await ua();console.log("Users API response:",n);let a=[];Array.isArray(n)?a=n:n&&Array.isArray(n.users)?a=n.users:n&&"object"===typeof n&&(a=Object.values(n).find(e=>Array.isArray(e))||[]),console.log("Processed users array:",a);const s=localStorage.getItem("user");let r=null;if(s)try{const e=JSON.parse(s);r=e.id||e.ID,console.log("Current user ID:",r)}catch(e){console.error("Error parsing stored user:",e)}const l=a.filter(e=>{const t=e.id||e.ID,n=t?String(t):null,a=r?String(r):null,s=n&&n!==a;return!s&&n&&console.log("Excluding user ".concat(n," (current user: ").concat(a,")")),s}).map(e=>({userId:e.id||e.ID,name:e.name||e.Name||"User",email:e.email||e.Email||"",role:e.role||e.Role||"",company:e.company||e.Company||"",status:e.status||e.Status||"Active",unreadCount:0})).sort((e,t)=>{const n=(e.name||"").toLowerCase(),a=(t.name||"").toLowerCase();return n.localeCompare(a)});console.log("Final chat users list:",l);try{const e=await oa();Array.isArray(e)&&e.forEach(e=>{const t=l.find(t=>String(t.userId)===String(e.userId));t&&e.unreadCount&&(t.unreadCount=e.unreadCount)})}catch(t){console.error("Error loading conversations for unread counts:",t)}F(l),O(e=>{if(l.length>0&&!e){const e=l[0].userId;return setTimeout(()=>{W(e)},0),e}return e}),0===l.length&&(console.warn("No users found. This could mean:"),console.warn("1. No other users in the same company"),console.warn("2. API endpoint returned empty array"),console.warn("3. All users were filtered out"),V("No users available for messaging","info"))}catch(e){console.error("Error loading users:",e),console.error("Error details:",e.message,e.stack),V("Failed to load users: ".concat(e.message||"Unknown error"),"error"),F([])}finally{_.current=!1}},[W,V]);(0,a.useEffect)(()=>{(async()=>{try{y(!0),console.log("Loading accounting dashboard data...");const[e,t,n,a,s,r]=await Promise.all([xa(),va(),ba(),Sa(),ka(),Aa()]);b(e),w(t),k(n),A(a),P(s),T(r),console.log("Accounting data loaded successfully:",{overview:e,tenantPaymentsData:t,landlordPaymentsData:n,collectionsData:a,expensesData:s,summary:r})}catch(e){console.error("Failed to load accounting data:",e),V("Failed to load dashboard data","error")}finally{y(!1)}})()},[]),(0,a.useEffect)(()=>{"chat"!==e||_.current||$()},[e]);const J=()=>{var e,t,n;return(0,wt.jsx)("div",{className:"sa-overview-page",children:(0,wt.jsxs)("div",{className:"sa-overview-metrics",children:[(0,wt.jsxs)("div",{className:"sa-metric-card sa-metric-primary",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Available Balance"}),(0,wt.jsx)("p",{className:"sa-metric-period",children:"Current balance"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:j?"".concat((null===(e=j.netRevenue)||void 0===e?void 0:e.toFixed(2))||"0.00"," XOF"):"Loading..."})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Collected This Month"}),(0,wt.jsx)("p",{className:"sa-metric-period",children:"November 2024"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:j?"".concat((null===(t=j.totalTenantPayments)||void 0===t?void 0:t.toFixed(2))||"0.00"," XOF"):"Loading..."})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Transferred to Landlords"}),(0,wt.jsx)("p",{className:"sa-metric-period",children:"This month"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:j?"".concat((null===(n=j.totalLandlordPayments)||void 0===n?void 0:n.toFixed(2))||"0.00"," XOF"):"Loading..."})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Company Commission Earned"}),(0,wt.jsx)("p",{className:"sa-metric-period",children:"This month"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:j?"".concat(j.pendingPayments||0," XOF"):"Loading..."})]})]})})},X=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Landlord Payment Table"}),(0,wt.jsx)("p",{children:"Net payments after commission deduction"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>l(!0),disabled:g,children:[(0,wt.jsx)(Vt,{size:18}),"Record Payment"]})]}),(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Landlords"}),(0,wt.jsx)("option",{value:"john-smith",children:"John Smith"}),(0,wt.jsx)("option",{value:"jane-doe",children:"Jane Doe"}),(0,wt.jsx)("option",{value:"bob-johnson",children:"Bob Johnson"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Buildings"}),(0,wt.jsx)("option",{value:"123-main",children:"123 Main St"}),(0,wt.jsx)("option",{value:"456-oak",children:"456 Oak Ave"}),(0,wt.jsx)("option",{value:"789-pine",children:"789 Pine Ln"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Periods"}),(0,wt.jsx)("option",{value:"current-month",children:"Current Month"}),(0,wt.jsx)("option",{value:"last-month",children:"Last Month"})]})]}),g?(0,wt.jsx)("div",{className:"loading",children:"Loading landlord payments..."}):0===S.length?(0,wt.jsx)("div",{className:"no-data",children:"No landlord payments found"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Landlord"}),(0,wt.jsx)("th",{children:"Building"}),(0,wt.jsx)("th",{children:"Net Amount"}),(0,wt.jsx)("th",{children:"Commission"}),(0,wt.jsx)("th",{children:"Transaction Type"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{className:"table-menu"})]})}),(0,wt.jsx)("tbody",{children:S.map((e,t)=>{var n,a;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Landlord||"N/A"})}),(0,wt.jsx)("td",{children:e.Building||"N/A"}),(0,wt.jsxs)("td",{children:[(null===(n=e.NetAmount)||void 0===n?void 0:n.toFixed(2))||"0.00"," XOF"]}),(0,wt.jsxs)("td",{children:[(null===(a=e.Commission)||void 0===a?void 0:a.toFixed(2))||"0.00"," XOF"]}),(0,wt.jsx)("td",{children:"Payout"}),(0,wt.jsx)("td",{children:e.Date?new Date(e.Date).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||"unknown").toLowerCase()),children:e.Status||"Unknown"})}),(0,wt.jsx)("td",{className:"table-menu",children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button view",children:"View"}),(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>(async e=>{try{y(!0),await wa(e),k(t=>t.map(t=>t.ID===e?d(d({},t),{},{Status:"Paid"}):t)),V("Transfer to landlord completed for payment #".concat(e,"."),"success")}catch(t){console.error("Failed to transfer to landlord:",t),V("Failed to transfer to landlord","error")}finally{y(!1)}})(e.ID),title:"Automatic Transfer",children:"Transfer"})]})})]},e.ID||"landlord-payment-".concat(t))})})]})})]}),G=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Tenant Payment Management"}),(0,wt.jsx)("p",{children:"Review, approve, and manage tenant payments"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>s(!0),disabled:g,children:[(0,wt.jsx)(Vt,{size:18}),"Record New Payment"]})]}),(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Payments"}),(0,wt.jsx)("option",{value:"pending",children:"Pending"}),(0,wt.jsx)("option",{value:"approved",children:"Approved"}),(0,wt.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Methods"}),(0,wt.jsx)("option",{value:"cash",children:"Cash"}),(0,wt.jsx)("option",{value:"mobile",children:"Mobile Money"}),(0,wt.jsx)("option",{value:"bank",children:"Bank Transfer"})]}),(0,wt.jsx)("div",{className:"sa-search-input-wrapper",children:(0,wt.jsx)("input",{type:"text",placeholder:"Search by tenant..."})})]}),g?(0,wt.jsx)("div",{className:"loading",children:"Loading tenant payments..."}):0===N.length?(0,wt.jsx)("div",{className:"no-data",children:"No tenant payments found"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Method"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Receipt"}),(0,wt.jsx)("th",{className:"table-menu"})]})}),(0,wt.jsx)("tbody",{children:N.map((e,t)=>{var n;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Tenant||"N/A"})}),(0,wt.jsx)("td",{children:e.Property||"N/A"}),(0,wt.jsxs)("td",{children:[(null===(n=e.Amount)||void 0===n?void 0:n.toFixed(2))||"0.00"," XOF"]}),(0,wt.jsx)("td",{children:e.Method||"N/A"}),(0,wt.jsx)("td",{children:e.Date?new Date(e.Date).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||"unknown").toLowerCase()),children:e.Status||"Unknown"})}),(0,wt.jsx)("td",{children:e.ReceiptNumber?(0,wt.jsx)("span",{className:"sa-cell-title",children:e.ReceiptNumber}):(0,wt.jsx)("span",{style:{color:"rgba(15, 31, 96, 0.5)"},children:"No Receipt"})}),(0,wt.jsx)("td",{className:"table-menu",children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:["Pending"===e.Status&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("button",{className:"table-action-button edit",onClick:()=>(async e=>{try{y(!0);const t=await ya(e.ID);w(n=>n.map(n=>n.ID===e.ID?t:n)),V("Payment approved for ".concat(e.Tenant),"success")}catch(t){console.error("Failed to approve payment:",t),V("Failed to approve payment","error")}finally{y(!1)}})(e),title:"Approve Payment",children:"Approve"}),(0,wt.jsx)("button",{className:"table-action-button delete",onClick:()=>(e=>{w(t=>t.map(t=>t.ID===e.ID?d(d({},t),{},{Status:"Rejected"}):t)),V("Payment from ".concat(e.Tenant," rejected."),"warning")})(e),title:"Reject Payment",children:"Reject"})]}),(0,wt.jsx)("button",{className:"table-action-button view",onClick:()=>(async e=>{try{y(!0);const t=await ja(e.ID);w(n=>n.map(n=>n.ID===e.ID?t:n));const n="\n        RENTAL PAYMENT RECEIPT\n        =====================\n        \n        Receipt No: ".concat(t.ReceiptNumber,"\n        Date: ").concat((new Date).toLocaleDateString(),"\n        \n        Tenant: ").concat(e.Tenant,"\n        Property: ").concat(e.Property,"\n        Amount Paid: ").concat(e.Amount.toFixed(2)," XOF\n        Charge Type: ").concat(e.ChargeType||"N/A","\n        Payment Method: ").concat(e.Method,"\n        Payment Date: ").concat(new Date(e.Date).toLocaleDateString(),"\n        \n        Status: CONFIRMED\n        \n        Thank you for your payment!\n        \n        Generated by: Accounting Department\n        Generated on: ").concat((new Date).toLocaleString(),"\n      "),a=new Blob([n],{type:"text/plain"}),s=window.URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="receipt-".concat(t.ReceiptNumber,".txt"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s),V("Receipt generated and downloaded!","success")}catch(t){console.error("Failed to generate receipt:",t),V("Failed to generate receipt","error")}finally{y(!1)}})(e),title:"Generate Receipt",children:"Receipt"})]})})]},e.ID||"payment-".concat(t))})})]})})]}),Q=async()=>{if(!z.trim()||!R)return;const e=localStorage.getItem("user");let t=null;if(e)try{const n=JSON.parse(e);t=n.id||n.ID}catch(r){console.error("Error parsing stored user:",r)}if(!t)return void V("Unable to identify current user. Please log in again.","error");const n=z.trim(),a="temp-".concat(Date.now()),s={id:a,ID:a,fromUserId:t,toUserId:R,content:n,createdAt:(new Date).toISOString(),read:!1,type:"message"};M(e=>[...e,s]),U("");try{const e={toUserId:R,content:n},t=await ia(e);t&&t.id?M(e=>e.map(e=>e.id===a?t:e)):await W(R)}catch(r){console.error("Error sending message:",r),V(r.message||"Failed to send message","error"),M(e=>e.filter(e=>e.id!==a)),U(n)}},K=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e){case"overview":default:return J();case"collections":return(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Real-time Collections Tracking"}),(0,wt.jsx)("p",{children:"Track rent and deposit payments per building"})]})}),(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Buildings/Properties"}),(0,wt.jsx)("option",{value:"123-main",children:"123 Main St"}),(0,wt.jsx)("option",{value:"456-oak",children:"456 Oak Ave"}),(0,wt.jsx)("option",{value:"789-pine",children:"789 Pine Ln"}),(0,wt.jsx)("option",{value:"321-elm",children:"321 Elm St"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Landlords"}),(0,wt.jsx)("option",{value:"john-smith",children:"John Smith"}),(0,wt.jsx)("option",{value:"jane-doe",children:"Jane Doe"}),(0,wt.jsx)("option",{value:"bob-johnson",children:"Bob Johnson"}),(0,wt.jsx)("option",{value:"alice-brown",children:"Alice Brown"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Periods"}),(0,wt.jsx)("option",{value:"current-month",children:"Current Month"}),(0,wt.jsx)("option",{value:"last-month",children:"Last Month"}),(0,wt.jsx)("option",{value:"last-3-months",children:"Last 3 Months"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Payment Status"}),(0,wt.jsx)("option",{value:"collected",children:"Collected"}),(0,wt.jsx)("option",{value:"pending",children:"Pending"}),(0,wt.jsx)("option",{value:"overdue",children:"Overdue"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Charge Types"}),(0,wt.jsx)("option",{value:"rent",children:"Rent"}),(0,wt.jsx)("option",{value:"deposit",children:"Deposit"}),(0,wt.jsx)("option",{value:"late-fee",children:"Late Fee"}),(0,wt.jsx)("option",{value:"maintenance",children:"Maintenance"})]})]}),g?(0,wt.jsx)("div",{className:"loading",children:"Loading collections..."}):0===C.length?(0,wt.jsx)("div",{className:"no-data",children:"No collections found"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Building/Property"}),(0,wt.jsx)("th",{children:"Landlord"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Payment Status"}),(0,wt.jsx)("th",{children:"Charge Type"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{className:"table-menu"})]})}),(0,wt.jsx)("tbody",{children:C.map((e,t)=>{var n;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Building||"N/A"})}),(0,wt.jsx)("td",{children:e.Landlord||"N/A"}),(0,wt.jsxs)("td",{children:[(null===(n=e.Amount)||void 0===n?void 0:n.toFixed(2))||"0.00"," XOF"]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||"unknown").toLowerCase()),children:e.Status||"Unknown"})}),(0,wt.jsx)("td",{children:e.ChargeType||"N/A"}),(0,wt.jsx)("td",{children:e.Date?new Date(e.Date).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{className:"table-menu",children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button view",children:"View"}),(0,wt.jsx)("button",{className:"table-action-button edit",children:"Receipt"})]})})]},e.ID||"collection-".concat(t))})})]})})]});case"payments":return X();case"tenant-payments":return G();case"reports":return(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Monthly Financial Reports"}),(0,wt.jsx)("p",{children:"Generate and download comprehensive financial reports"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",children:[(0,wt.jsx)(Bt,{size:18}),"Generate Monthly Report"]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",style:{marginBottom:"32px"},children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Building"}),(0,wt.jsx)("th",{children:"Rent Collected"}),(0,wt.jsx)("th",{children:"Deposits Collected"}),(0,wt.jsx)("th",{children:"Commission"}),(0,wt.jsx)("th",{children:"Net to Landlords"})]})}),(0,wt.jsxs)("tbody",{children:[(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:"123 Main St"})}),(0,wt.jsx)("td",{children:"8,500 XOF"}),(0,wt.jsx)("td",{children:"1,200 XOF"}),(0,wt.jsx)("td",{children:"950 XOF"}),(0,wt.jsx)("td",{children:"8,750 XOF"})]}),(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:"456 Oak Ave"})}),(0,wt.jsx)("td",{children:"6,200 XOF"}),(0,wt.jsx)("td",{children:"0 XOF"}),(0,wt.jsx)("td",{children:"620 XOF"}),(0,wt.jsx)("td",{children:"5,580 XOF"})]}),(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:"789 Pine Ln"})}),(0,wt.jsx)("td",{children:"12,800 XOF"}),(0,wt.jsx)("td",{children:"500 XOF"}),(0,wt.jsx)("td",{children:"1,330 XOF"}),(0,wt.jsx)("td",{children:"11,970 XOF"})]})]})]})}),(0,wt.jsx)("div",{className:"sa-section-header",style:{marginBottom:"20px"},children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Recent Reports"}),(0,wt.jsx)("p",{children:"Download previously generated reports"})]})}),g?(0,wt.jsx)("div",{className:"loading",children:"Loading reports..."}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Report Name"}),(0,wt.jsx)("th",{children:"Generated Date"}),(0,wt.jsx)("th",{className:"table-menu"})]})}),(0,wt.jsxs)("tbody",{children:[(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:"November 2024 Financial Report"})}),(0,wt.jsx)("td",{children:"Nov 1, 2024"}),(0,wt.jsx)("td",{className:"table-menu",children:(0,wt.jsx)("div",{className:"sa-row-actions",children:(0,wt.jsxs)("button",{className:"table-action-button view",children:[(0,wt.jsx)(Bt,{size:14}),"Download"]})})})]}),(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:"October 2024 Building Performance"})}),(0,wt.jsx)("td",{children:"Oct 31, 2024"}),(0,wt.jsx)("td",{className:"table-menu",children:(0,wt.jsx)("div",{className:"sa-row-actions",children:(0,wt.jsxs)("button",{className:"table-action-button view",children:[(0,wt.jsx)(Bt,{size:14}),"Download"]})})})]}),(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:"Q3 2024 Commission Report"})}),(0,wt.jsx)("td",{children:"Oct 1, 2024"}),(0,wt.jsx)("td",{className:"table-menu",children:(0,wt.jsx)("div",{className:"sa-row-actions",children:(0,wt.jsxs)("button",{className:"table-action-button view",children:[(0,wt.jsx)(Bt,{size:14}),"Download"]})})})]})]})]})})]});case"expenses":return(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Expense Management"}),(0,wt.jsx)("p",{children:"Track expenses by building or for SAAF IMMO"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>v(!0),disabled:g,children:[(0,wt.jsx)(Vt,{size:18}),"Add Expense"]})]}),g?(0,wt.jsx)("div",{className:"loading",children:"Loading expenses..."}):0===E.length?(0,wt.jsx)("div",{className:"no-data",children:"No expenses found"}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Scope"}),(0,wt.jsx)("th",{children:"Building"}),(0,wt.jsx)("th",{children:"Category"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Notes"}),(0,wt.jsx)("th",{className:"table-menu"})]})}),(0,wt.jsx)("tbody",{children:E.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:e.Date?new Date(e.Date).toLocaleDateString():e.date||"N/A"}),(0,wt.jsx)("td",{children:e.Scope||e.scope||"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Building||e.building||"N/A"})}),(0,wt.jsx)("td",{children:e.Category||e.category||"N/A"}),(0,wt.jsxs)("td",{children:[(e.Amount||e.amount||0).toFixed(2)," XOF"]}),(0,wt.jsx)("td",{children:e.Notes||e.notes||"N/A"}),(0,wt.jsx)("td",{className:"table-menu",children:(0,wt.jsxs)("div",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"table-action-button view",children:"View"}),(0,wt.jsx)("button",{className:"table-action-button edit",children:"Edit"}),(0,wt.jsx)("button",{className:"table-action-button delete",children:"Delete"})]})})]},e.ID||e.id||"expense-".concat(t)))})]})})]});case"chat":return(0,wt.jsx)("div",{className:"sa-chat-page",children:(0,wt.jsxs)("div",{className:"sa-chat-layout",children:[(0,wt.jsxs)("div",{className:"sa-chat-list",children:[(0,wt.jsx)("h3",{children:"Users"}),(0,wt.jsxs)("ul",{children:[L.map(e=>{const t=e.userId===R;return(0,wt.jsx)("li",{className:t?"active":"",onClick:()=>W(e.userId),children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.name||"User"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||""}),e.role&&(0,wt.jsx)("span",{className:"sa-cell-sub",style:{fontSize:"0.75rem",color:"#6b7280"},children:e.role}),e.unreadCount>0&&(0,wt.jsxs)("span",{className:"sa-cell-sub",style:{color:"#2563eb",fontWeight:600,marginTop:"4px"},children:[e.unreadCount," unread"]})]})},"chat-user-".concat(e.userId))}),0===L.length&&(0,wt.jsx)("li",{style:{padding:"20px",textAlign:"center",color:"#9ca3af"},children:"No users available"})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-conversation",children:[(0,wt.jsxs)("div",{className:"sa-chat-header",children:[(0,wt.jsx)("h3",{children:"Messages"}),R&&(0,wt.jsxs)("span",{className:"sa-chat-subtitle",children:["Chat with"," ",(L.find(e=>e.userId===R)||{}).name||"User"]})]}),(0,wt.jsxs)("div",{className:"sa-chat-messages",children:[I.map((e,t)=>{const n=e.content||e.Content||"",a=e.createdAt||e.CreatedAt||"",s=e.fromUserId||e.FromUserId,r=e.id||e.ID||t,l=localStorage.getItem("user");let i=!1;if(l)try{const e=JSON.parse(l),t=e.id||e.ID;i=String(s)===String(t)}catch(Lr){}return(0,wt.jsxs)("div",{className:"sa-chat-bubble ".concat(i?"outgoing":"incoming"),children:[(0,wt.jsx)("p",{children:n}),(0,wt.jsx)("span",{className:"sa-chat-meta",children:a?new Date(a).toLocaleString():""})]},"msg-".concat(r))}),0===I.length&&(0,wt.jsx)("div",{className:"sa-table-empty",children:R?"No messages yet. Start the conversation!":"Select a conversation on the left to start messaging."}),(0,wt.jsx)("div",{ref:q})]}),(0,wt.jsxs)("div",{className:"sa-chat-input-row",children:[(0,wt.jsx)("input",{type:"text",placeholder:"Reply...",value:z,onChange:e=>U(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Q())},disabled:!R}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:Q,disabled:!R||!z.trim(),children:[(0,wt.jsx)(_n,{size:16}),"Send"]})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-details",children:[(0,wt.jsx)("h4",{children:"Contact Details"}),R?(()=>{const e=L.find(e=>e.userId===R)||{};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Name:"})," ",e.name||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Email:"})," ",e.email||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Role:"})," ",e.role||"N/A"]}),e.company&&(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Company:"})," ",e.company]})]})})():(0,wt.jsx)("p",{children:"Select a conversation to view details."})]})]})});case"settings":return(0,wt.jsx)("div",{className:"embedded-settings",children:(0,wt.jsx)(hn,{})})}},Y=(0,a.useMemo)(()=>B.map(n=>d(d({},n),{},{onSelect:()=>t(n.id),active:e===n.id})),[B,e]);return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Accounting",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:Y,activeId:e,onActiveChange:t,onLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},children:t=>{let{activeId:n}=t;return(0,wt.jsxs)("div",{className:"accounting-content",children:[g&&(0,wt.jsx)("div",{className:"loading-indicator",children:"Loading data..."}),K(n||e)]})}}),(0,wt.jsx)("div",{className:"notifications-container",children:p.map((e,t)=>(0,wt.jsxs)("div",{className:"notification notification-".concat(e.type),children:[(0,wt.jsx)("span",{children:e.message}),(0,wt.jsx)("button",{onClick:()=>f(t=>t.filter(t=>t.id!==e.id)),children:"\xd7"})]},e.id||"notification-".concat(t)))}),n&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>s(!1),children:(0,wt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Record New Payment"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>s(!1),children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{y(!0);const t=new FormData(e.target),n={tenant:t.get("tenant"),property:t.get("property"),amount:parseFloat(t.get("amount")),method:t.get("method"),chargeType:t.get("chargeType")||"Rent"},a=await ga(n);w(e=>[a,...e]),V("Payment recorded successfully!","success"),s(!1),e.target.reset()}catch(t){console.error("Error recording payment:",t),V("Failed to record payment. Please try again.","error")}finally{y(!1)}},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"tenant",children:"Tenant Name"}),(0,wt.jsx)("input",{type:"text",name:"tenant",required:!0,placeholder:"Enter tenant name"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"property",children:"Property"}),(0,wt.jsxs)("select",{name:"property",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Property"}),(0,wt.jsx)("option",{value:"123 Main St",children:"123 Main St"}),(0,wt.jsx)("option",{value:"456 Oak Ave",children:"456 Oak Ave"}),(0,wt.jsx)("option",{value:"789 Pine Ln",children:"789 Pine Ln"}),(0,wt.jsx)("option",{value:"321 Elm St",children:"321 Elm St"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"amount",children:"Amount"}),(0,wt.jsx)("input",{type:"number",name:"amount",step:"0.01",required:!0,placeholder:"Enter amount"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"method",children:"Payment Method"}),(0,wt.jsxs)("select",{name:"method",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Method"}),(0,wt.jsx)("option",{value:"Cash",children:"Cash"}),(0,wt.jsx)("option",{value:"Mobile Money",children:"Mobile Money"}),(0,wt.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"chargeType",children:"Charge Type"}),(0,wt.jsxs)("select",{name:"chargeType",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Charge"}),(0,wt.jsx)("option",{value:"Rent",children:"Rent"}),(0,wt.jsx)("option",{value:"Deposit",children:"Deposit"}),(0,wt.jsx)("option",{value:"Late Fee",children:"Late Fee"}),(0,wt.jsx)("option",{value:"Maintenance",children:"Maintenance"})]})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>s(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:g,children:g?"Recording...":"Record Payment"})]})]})})]})}),c&&h&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>u(!1),children:(0,wt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Confirm Payment Approval"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>u(!1),children:"\xd7"})]}),(0,wt.jsxs)("div",{className:"modal-body",children:[(0,wt.jsxs)("div",{className:"approval-details",children:[(0,wt.jsx)("h4",{children:"Payment Details:"}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Tenant:"})," ",h.tenant]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Property:"})," ",h.property]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Amount:"})," ",h.amount.toFixed(2)," XOF"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Method:"})," ",h.method]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Date:"})," ",h.date]})]}),(0,wt.jsx)("p",{children:"Are you sure you want to approve this payment?"}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>u(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"button",className:"action-button primary",onClick:()=>{h&&(w(e=>e.map(e=>e.ID===h.ID?d(d({},e),{},{Status:"Approved",ReceiptNumber:e.ReceiptNumber||"RCP-".concat(Date.now())}):e)),V("Payment from ".concat(h.Tenant," approved successfully!"),"success"),u(!1),m(null))},children:"Approve Payment"})]})]})]})}),r&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>l(!1),children:(0,wt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Record Landlord Payment"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>l(!1),children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{y(!0);const t=new FormData(e.target),n={landlord:t.get("landlord"),building:t.get("building"),netAmount:parseFloat(t.get("netAmount")),commission:parseFloat(t.get("commission"))},a=await Na(n);k(e=>[a,...e]),V("Landlord payment recorded successfully!","success"),l(!1),e.target.reset()}catch(t){console.error("Error recording landlord payment:",t),V("Failed to record landlord payment. Please try again.","error")}finally{y(!1)}},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"landlord",children:"Landlord Name"}),(0,wt.jsx)("input",{type:"text",name:"landlord",required:!0,placeholder:"Enter landlord name"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"building",children:"Building"}),(0,wt.jsxs)("select",{name:"building",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Building"}),(0,wt.jsx)("option",{value:"123 Main St",children:"123 Main St"}),(0,wt.jsx)("option",{value:"456 Oak Ave",children:"456 Oak Ave"}),(0,wt.jsx)("option",{value:"789 Pine Ln",children:"789 Pine Ln"}),(0,wt.jsx)("option",{value:"321 Elm St",children:"321 Elm St"}),(0,wt.jsx)("option",{value:"654 Maple Dr",children:"654 Maple Dr"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"netAmount",children:"Net Amount ($)"}),(0,wt.jsx)("input",{type:"number",name:"netAmount",step:"0.01",required:!0,placeholder:"Enter net amount"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"commission",children:"Commission ($)"}),(0,wt.jsx)("input",{type:"number",name:"commission",step:"0.01",required:!0,placeholder:"Enter commission amount"})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>l(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:g,children:g?"Recording...":"Record Payment"})]})]})})]})}),x&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>v(!1),children:(0,wt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Add Expense"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>v(!1),children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{y(!0);const t=new FormData(e.target),n={scope:t.get("scope"),building:"SAAF IMMO"===t.get("scope")?"-":t.get("building"),category:t.get("category"),amount:parseFloat(t.get("amount")),date:t.get("date"),notes:t.get("notes")},a=await Ca(n);P(e=>[a,...e]),V("Expense added successfully!","success"),v(!1),e.target.reset()}catch(t){console.error("Error adding expense:",t),V("Failed to add expense. Please try again.","error")}finally{y(!1)}},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Scope"}),(0,wt.jsxs)("select",{name:"scope",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Scope"}),(0,wt.jsx)("option",{value:"Building",children:"Building"}),(0,wt.jsx)("option",{value:"SAAF IMMO",children:"SAAF IMMO"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Building (if Building scope)"}),(0,wt.jsxs)("select",{name:"building",children:[(0,wt.jsx)("option",{value:"",children:"Select Building"}),(0,wt.jsx)("option",{value:"123 Main St",children:"123 Main St"}),(0,wt.jsx)("option",{value:"456 Oak Ave",children:"456 Oak Ave"}),(0,wt.jsx)("option",{value:"789 Pine Ln",children:"789 Pine Ln"}),(0,wt.jsx)("option",{value:"321 Elm St",children:"321 Elm St"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Category"}),(0,wt.jsxs)("select",{name:"category",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Category"}),(0,wt.jsx)("option",{value:"Maintenance",children:"Maintenance"}),(0,wt.jsx)("option",{value:"Utilities",children:"Utilities"}),(0,wt.jsx)("option",{value:"Taxes",children:"Taxes"}),(0,wt.jsx)("option",{value:"Software",children:"Software"}),(0,wt.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Amount"}),(0,wt.jsx)("input",{type:"number",name:"amount",step:"0.01",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Date"}),(0,wt.jsx)("input",{type:"date",name:"date",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Notes"}),(0,wt.jsx)("input",{type:"text",name:"notes",placeholder:"Optional"})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>v(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:g,children:g?"Adding...":"Add Expense"})]})]})})]})})]})},Pa=Tt("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Da=e=>{let{userRole:t,onUpload:n,onClose:s}=e;const[r,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),u=(0,a.useRef)(null),h=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)},m=e=>{const t=Array.from(e).filter(e=>["application/pdf","image/jpeg","image/png","image/jpg"].includes(e.type));l(e=>[...e,...t])},p=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,wt.jsxs)("div",{className:"document-upload",children:[(0,wt.jsxs)("div",{className:"upload-header",children:[(0,wt.jsx)("h4",{children:"Upload KYC Documents"}),(0,wt.jsx)("p",{children:"Upload your identity verification documents"})]}),(0,wt.jsxs)("div",{className:"upload-area ".concat(i?"drag-active":""),onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:e=>{e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&m(e.dataTransfer.files)},onClick:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.click()},children:[(0,wt.jsx)("input",{ref:u,type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:e=>{e.target.files&&m(e.target.files)},style:{display:"none"}}),(0,wt.jsx)(Ot,{className:"upload-icon",size:48}),(0,wt.jsx)("h5",{children:"Drag & drop files here"}),(0,wt.jsx)("p",{children:"or click to browse"}),(0,wt.jsx)("p",{className:"upload-hint",children:"Supported formats: PDF, JPG, PNG (Max 10MB each)"})]}),r.length>0&&(0,wt.jsxs)("div",{className:"file-list",children:[(0,wt.jsxs)("h5",{children:["Selected Files (",r.length,")"]}),r.map((e,t)=>(0,wt.jsxs)("div",{className:"file-item",children:[(0,wt.jsxs)("div",{className:"file-info",children:[(0,wt.jsx)(Rt,{className:"file-icon",size:20}),(0,wt.jsxs)("div",{className:"file-details",children:[(0,wt.jsx)("span",{className:"file-name",children:e.name}),(0,wt.jsx)("span",{className:"file-size",children:p(e.size)})]})]}),(0,wt.jsx)("button",{className:"remove-file",onClick:()=>(e=>{l(t=>t.filter((t,n)=>n!==e))})(t),children:(0,wt.jsx)(Wt,{size:16})})]},t))]}),(0,wt.jsxs)("div",{className:"upload-actions",children:[(0,wt.jsx)("button",{className:"btn-secondary",onClick:s,children:"Cancel"}),(0,wt.jsx)("button",{className:"btn-primary",onClick:async()=>{0!==r.length&&(d(!0),await new Promise(e=>setTimeout(e,2e3)),n&&n(r,t),d(!1),l([]),s&&s())},disabled:0===r.length||c,children:c?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"spinner"}),"Uploading..."]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Ot,{size:16}),"Upload ",r.length," file",1!==r.length?"s":""]})})]})]})},Ta=e=>{let{userRole:t,onUpload:n,onClose:s}=e;const[r,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)({contractType:"",startDate:"",endDate:"",propertyAddress:"",monthlyRent:"",deposit:"",landlordName:"",tenantName:""}),p=(0,a.useRef)(null),f=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?o(!0):"dragleave"===e.type&&o(!1)},x=e=>{const t=Array.from(e).filter(e=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type));l(e=>[...e,...t])},v=e=>{const{name:t,value:n}=e.target;m(e=>d(d({},e),{},{[t]:n}))},g=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]};return(0,wt.jsxs)("div",{className:"contract-upload",children:[(0,wt.jsxs)("div",{className:"upload-header",children:[(0,wt.jsx)("h4",{children:"Upload Essential Contract"}),(0,wt.jsx)("p",{children:"Upload your lease agreement and provide contract details"})]}),(0,wt.jsxs)("div",{className:"contract-form",children:[(0,wt.jsxs)("div",{className:"form-section",children:[(0,wt.jsx)("h5",{children:"Contract Information"}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Contract Type"}),(0,wt.jsxs)("select",{name:"contractType",value:h.contractType,onChange:v,required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select contract type"}),(0,wt.jsx)("option",{value:"lease",children:"Lease Agreement"}),(0,wt.jsx)("option",{value:"rental",children:"Rental Agreement"}),(0,wt.jsx)("option",{value:"sublease",children:"Sublease Agreement"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property Address"}),(0,wt.jsx)("input",{type:"text",name:"propertyAddress",value:h.propertyAddress,onChange:v,placeholder:"Enter property address",required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Start Date"}),(0,wt.jsx)("input",{type:"date",name:"startDate",value:h.startDate,onChange:v,required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"End Date"}),(0,wt.jsx)("input",{type:"date",name:"endDate",value:h.endDate,onChange:v,required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Monthly Rent"}),(0,wt.jsx)("input",{type:"number",name:"monthlyRent",value:h.monthlyRent,onChange:v,placeholder:"Enter monthly rent amount",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Security Deposit"}),(0,wt.jsx)("input",{type:"number",name:"deposit",value:h.deposit,onChange:v,placeholder:"Enter deposit amount",required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Landlord Name"}),(0,wt.jsx)("input",{type:"text",name:"landlordName",value:h.landlordName,onChange:v,placeholder:"Enter landlord name",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Tenant Name"}),(0,wt.jsx)("input",{type:"text",name:"tenantName",value:h.tenantName,onChange:v,placeholder:"Enter tenant name",required:!0})]})]})]}),(0,wt.jsxs)("div",{className:"upload-section",children:[(0,wt.jsx)("h5",{children:"Upload Contract Document"}),(0,wt.jsxs)("div",{className:"upload-area ".concat(i?"drag-active":""),onDragEnter:f,onDragLeave:f,onDragOver:f,onDrop:e=>{e.preventDefault(),e.stopPropagation(),o(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&x(e.dataTransfer.files)},onClick:()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.click()},children:[(0,wt.jsx)("input",{ref:p,type:"file",multiple:!0,accept:".pdf,.doc,.docx",onChange:e=>{e.target.files&&x(e.target.files)},style:{display:"none"}}),(0,wt.jsx)(Ot,{className:"upload-icon",size:48}),(0,wt.jsx)("h5",{children:"Drag & drop contract files here"}),(0,wt.jsx)("p",{children:"or click to browse"}),(0,wt.jsx)("p",{className:"upload-hint",children:"Supported formats: PDF, DOC, DOCX (Max 10MB each)"})]}),r.length>0&&(0,wt.jsxs)("div",{className:"file-list",children:[(0,wt.jsxs)("h5",{children:["Selected Files (",r.length,")"]}),r.map((e,t)=>(0,wt.jsxs)("div",{className:"file-item",children:[(0,wt.jsxs)("div",{className:"file-info",children:[(0,wt.jsx)(Rt,{className:"file-icon",size:20}),(0,wt.jsxs)("div",{className:"file-details",children:[(0,wt.jsx)("span",{className:"file-name",children:e.name}),(0,wt.jsx)("span",{className:"file-size",children:g(e.size)})]})]}),(0,wt.jsx)("button",{className:"remove-file",onClick:()=>(e=>{l(t=>t.filter((t,n)=>n!==e))})(t),children:(0,wt.jsx)(Wt,{size:16})})]},t))]})]})]}),(0,wt.jsxs)("div",{className:"upload-actions",children:[(0,wt.jsx)("button",{className:"btn-secondary",onClick:s,children:"Cancel"}),(0,wt.jsx)("button",{className:"btn-primary",onClick:async()=>{0!==r.length&&(u(!0),await new Promise(e=>setTimeout(e,2e3)),n&&n(r,h,t),u(!1),l([]),m({contractType:"",startDate:"",endDate:"",propertyAddress:"",monthlyRent:"",deposit:"",landlordName:"",tenantName:""}),s&&s())},disabled:0===r.length||c||!h.contractType,children:c?(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)("div",{className:"spinner"}),"Uploading..."]}):(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Ot,{size:16}),"Upload Contract"]})})]})]})},La=async()=>{const e=rn(sn.ENDPOINTS.SALES_MANAGER.OVERVIEW);return await ln(e)},Fa=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn(sn.ENDPOINTS.SALES_MANAGER.PROPERTIES);const n=new URLSearchParams;return e.status&&n.append("status",e.status),e.type&&n.append("type",e.type),e.urgency&&n.append("urgency",e.urgency),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},Ra=async()=>{const e=rn(sn.ENDPOINTS.SALES_MANAGER.CLIENTS);return await ln(e)},Oa=async()=>{const e=rn("".concat(sn.ENDPOINTS.SALES_MANAGER.CLIENTS,"/waiting-list"));return await ln(e)},Ia=async e=>{const t=rn(sn.ENDPOINTS.SALES_MANAGER.CLIENTS);return await ln(t,{method:"POST",body:JSON.stringify(e)})},Ma=async(e,t)=>{const n=rn("".concat(sn.ENDPOINTS.SALES_MANAGER.CLIENTS,"/").concat(e));return await ln(n,{method:"PUT",body:JSON.stringify(t)})},za=async()=>{const e=rn("/api/salesmanager/unpaid-rents");return await ln(e)},Ua=async(e,t)=>{const n=rn("/api/salesmanager/unpaid-rents/".concat(e));return await ln(n,{method:"PUT",body:JSON.stringify(t)})},_a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=rn(sn.ENDPOINTS.SALES_MANAGER.ALERTS);return e&&(t+="?type=".concat(encodeURIComponent(e))),await ln(t)},qa=async e=>{const t=rn(sn.ENDPOINTS.SALES_MANAGER.PROPERTIES);return await ln(t,{method:"POST",body:JSON.stringify(e)})},Va=async(e,t)=>{const n=rn("".concat(sn.ENDPOINTS.SALES_MANAGER.PROPERTIES,"/").concat(e));return await ln(n,{method:"PUT",body:JSON.stringify(t)})},Ba={cloudName:"dcrdv2jcz",uploadPreset:"real-estate-uploads",apiKey:"781537668289137",apiSecret:"0pwGloCz0wgOE_W2aORNsB-KF2g",defaultFolder:"real-estate-documents",allowedFileTypes:["image/jpeg","image/png","image/gif","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],maxFileSizeMB:10,imageTransformations:{quality:"auto",format:"auto",width:1200,height:1200,crop:"limit"}},Ha={uploadFile:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ba.defaultFolder;if(!(()=>{const e=["cloudName","uploadPreset","apiKey"].filter(e=>!Ba[e]||Ba[e]==="your-"+e.replace(/([A-Z])/g,"-$1").toLowerCase());return!(e.length>0)||(console.warn("Cloudinary configuration incomplete. Missing:",e),!1)})())return{success:!1,error:"Cloudinary configuration is incomplete. Please check your credentials."};const n=new FormData;n.append("file",e),n.append("upload_preset",Ba.uploadPreset),n.append("folder",t),n.append("cloud_name",Ba.cloudName);try{const e=await fetch("https://api.cloudinary.com/v1_1/".concat(Ba.cloudName,"/upload"),{method:"POST",body:n});if(!e.ok)throw new Error("Upload failed: ".concat(e.statusText));const t=await e.json();return{success:!0,url:t.secure_url,publicId:t.public_id,format:t.format,size:t.bytes,uploadedAt:t.created_at}}catch(a){return console.error("Cloudinary upload error:",a),{success:!1,error:a.message}}},uploadMultipleFiles:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ba.defaultFolder;const n=e.map(e=>Ha.uploadFile(e,t));return await Promise.all(n)},deleteFile:async e=>{try{const t=await fetch("https://api.cloudinary.com/v1_1/".concat(Ba.cloudName,"/image/destroy"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_id:e,api_key:Ba.apiKey,timestamp:Math.round((new Date).getTime()/1e3)})});if(!t.ok)throw new Error("Delete failed: ".concat(t.statusText));const n=await t.json();return{success:"ok"===n.result,message:n.result}}catch(t){return console.error("Cloudinary delete error:",t),{success:!1,error:t.message}}}},Wa=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ba.allowedFileTypes).includes(e.type)},$a=function(e){const t=1024*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ba.maxFileSizeMB)*1024;return e.size<=t},Ja=()=>{var e;const[t,n]=(0,a.useState)("overview"),[s,r]=(0,a.useState)(!1),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,p]=(0,a.useState)([]),[f,x]=(0,a.useState)([]),[v,g]=(0,a.useState)(1),[y,j]=(0,a.useState)(null),[b,N]=(0,a.useState)([]),[w,S]=(0,a.useState)([]),[k,C]=(0,a.useState)([]),[A,E]=(0,a.useState)([]),[P,D]=(0,a.useState)([]),[T,L]=(0,a.useState)(!1),[F,R]=(0,a.useState)(""),[O,I]=(0,a.useState)(""),[M,z]=(0,a.useState)(""),[U,_]=(0,a.useState)(""),[q,V]=(0,a.useState)(""),[B,H]=(0,a.useState)(""),[W,$]=(0,a.useState)(""),[J,X]=(0,a.useState)(!1),[G,Q]=(0,a.useState)(null),[K,Y]=(0,a.useState)(!1),[Z,ee]=(0,a.useState)(null),[te,ne]=(0,a.useState)(!1),[ae,se]=(0,a.useState)(!1),[re,le]=(0,a.useState)(null),[ie,oe]=(0,a.useState)([]),[ce,de]=(0,a.useState)(null),[ue,he]=(0,a.useState)([]),[me,pe]=(0,a.useState)(""),fe=(0,a.useRef)(!1),xe=(0,a.useRef)(null),ve=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n="".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));x(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{x(e=>e.filter(e=>e.id!==n))},3e3)},ge=async()=>{L(!0);try{const[e,t,n,a,s,r]=await Promise.all([La(),Fa({status:U||void 0,type:q||void 0,urgency:B||void 0}),Ra(),Oa().catch(()=>[]),za().catch(()=>[]),_a(W||null)]);console.log("Loaded data:",{overview:e,propertiesData:t,clientsData:n,waitingListData:a,unpaidRentsData:s,alertsData:r}),j(e),N(Array.isArray(t)?t:[]),S(Array.isArray(n)?n:[]),C(Array.isArray(a)?a:[]),E(Array.isArray(s)?s:[]),D(Array.isArray(r)?r:[])}catch(e){console.error("Failed to load data:",e),ve("Failed to load dashboard data","error")}finally{L(!1)}};(0,a.useEffect)(()=>{ge()},[U,q,B,W]);const ye=(0,a.useCallback)(()=>{var e;null===(e=xe.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[]);(0,a.useEffect)(()=>{ue.length>0&&ye()},[ue,ye]);const je=(0,a.useCallback)(async e=>{if(e)try{de(e);const n=await ca(e),a=Array.isArray(n)?n:[];he(a);try{await da(e)}catch(t){console.error("Error marking messages as read:",t)}}catch(n){console.error("Error loading chat:",n),ve("Failed to load conversation: ".concat(n.message||"Unknown error"),"error"),he([])}},[ve]),be=(0,a.useCallback)(async()=>{if(fe.current)console.log("Users already loading, skipping...");else try{fe.current=!0,console.log("Loading users for messaging...");const n=await ua();console.log("Users API response:",n);let a=[];Array.isArray(n)?a=n:n&&Array.isArray(n.users)?a=n.users:n&&"object"===typeof n&&(a=Object.values(n).find(e=>Array.isArray(e))||[]),console.log("Processed users array:",a);const s=localStorage.getItem("user");let r=null;if(s)try{const e=JSON.parse(s);r=e.id||e.ID,console.log("Current user ID:",r)}catch(e){console.error("Error parsing stored user:",e)}const l=a.filter(e=>{const t=e.id||e.ID,n=t?String(t):null,a=r?String(r):null,s=n&&n!==a;return!s&&n&&console.log("Excluding user ".concat(n," (current user: ").concat(a,")")),s}).map(e=>({userId:e.id||e.ID,name:e.name||e.Name||"User",email:e.email||e.Email||"",role:e.role||e.Role||"",company:e.company||e.Company||"",status:e.status||e.Status||"Active",unreadCount:0})).sort((e,t)=>{const n=(e.name||"").toLowerCase(),a=(t.name||"").toLowerCase();return n.localeCompare(a)});console.log("Final chat users list:",l);try{const e=await oa();Array.isArray(e)&&e.forEach(e=>{const t=l.find(t=>String(t.userId)===String(e.userId));t&&e.unreadCount&&(t.unreadCount=e.unreadCount)})}catch(t){console.error("Error loading conversations for unread counts:",t)}oe(l),de(e=>{if(l.length>0&&!e){const e=l[0].userId;return setTimeout(()=>{je(e)},0),e}return e}),0===l.length&&(console.warn("No users found. This could mean:"),console.warn("1. No other users in the same company"),console.warn("2. API endpoint returned empty array"),console.warn("3. All users were filtered out"),ve("No users available for messaging","info"))}catch(e){console.error("Error loading users:",e),console.error("Error details:",e.message,e.stack),ve("Failed to load users: ".concat(e.message||"Unknown error"),"error"),oe([])}finally{fe.current=!1}},[je,ve]);(0,a.useEffect)(()=>{ge()},[]),(0,a.useEffect)(()=>{"chat"!==t||fe.current||be()},[t]);const Ne=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:Sn},{id:"occupancy",label:"Occupancy",icon:ma},{id:"clients",label:"Client Management",icon:wn},{id:"alerts",label:"Alerts",icon:Lt},{id:"chat",label:"Messages",icon:_n},{id:"settings",label:"Profile Settings",icon:qt}],[]),we=e=>{Q(e),X(!0)},Se=()=>{if(T)return(0,wt.jsx)("div",{className:"sa-table-empty",children:"Loading overview data..."});const e=y||{globalOccupancyRate:0,totalProperties:0,occupiedProperties:0,vacantProperties:0,totalActiveTenants:0,numberOfUnpaidAccounts:0,totalUnpaidRentAmount:0,occupancyRate:0,activeClients:0,unpaidCount:0,unpaidAmount:0},t=e.globalOccupancyRate||e.occupancyRate||0,n=e.totalActiveTenants||e.activeClients||0,a=e.numberOfUnpaidAccounts||e.unpaidCount||0,s=e.totalUnpaidRentAmount||e.unpaidAmount||0;return(0,wt.jsxs)("div",{className:"sa-overview-page",children:[(0,wt.jsxs)("div",{className:"sa-overview-top",children:[(0,wt.jsxs)("div",{className:"sa-overview-chart-card",children:[(0,wt.jsxs)("div",{className:"sa-card-header",children:[(0,wt.jsx)("h2",{children:"Overview"}),(0,wt.jsx)("span",{className:"sa-card-subtitle",children:"Weekly Performance"})]}),(0,wt.jsxs)("div",{className:"sa-mini-legend",children:[(0,wt.jsx)("span",{className:"sa-legend-item sa-legend-expected",children:"Occupancy Rate"}),(0,wt.jsx)("span",{className:"sa-legend-item sa-legend-current",children:"Active Tenants"})]}),(0,wt.jsxs)("div",{className:"sa-chart-placeholder",children:[(0,wt.jsx)("div",{className:"sa-chart-line sa-chart-line-expected"}),(0,wt.jsx)("div",{className:"sa-chart-line sa-chart-line-current"})]}),(0,wt.jsxs)("div",{className:"sa-chart-footer",children:[(0,wt.jsx)("span",{children:"Jan"}),(0,wt.jsx)("span",{children:"Feb"}),(0,wt.jsx)("span",{children:"Mar"}),(0,wt.jsx)("span",{children:"Apr"}),(0,wt.jsx)("span",{children:"May"}),(0,wt.jsx)("span",{children:"Jun"}),(0,wt.jsx)("span",{children:"Jul"}),(0,wt.jsx)("span",{children:"Aug"}),(0,wt.jsx)("span",{children:"Sep"}),(0,wt.jsx)("span",{children:"Oct"}),(0,wt.jsx)("span",{children:"Nov"}),(0,wt.jsx)("span",{children:"Dec"})]})]}),(0,wt.jsxs)("div",{className:"sa-overview-metrics",children:[(0,wt.jsxs)("div",{className:"sa-metric-card sa-metric-primary",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Unpaid Amount"}),(0,wt.jsx)("p",{className:"sa-metric-period",children:"Outstanding Balance"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[s.toLocaleString()," XOF"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Active Tenants"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[n,(0,wt.jsx)("span",{className:"sa-metric-trend positive",children:"+1.5%"})]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Occupancy Rate"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[t.toFixed(0),"%"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Unpaid Accounts"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[a,(0,wt.jsx)("span",{className:"sa-metric-trend negative",children:"-1.5%"})]})]}),(0,wt.jsx)("div",{className:"sa-banner-card",children:(0,wt.jsxs)("div",{className:"sa-banner-text",children:[(0,wt.jsx)("h3",{children:"Increase your sales"}),(0,wt.jsx)("p",{children:"Discover the proven methods to skyrocket your sales! Unleash the potential of your business and achieve remarkable growth."}),(0,wt.jsx)("button",{className:"sa-banner-button",children:"Learn More"})]})})]})]}),(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsx)("h3",{children:"Priority Alerts"}),(0,wt.jsx)("p",{children:"Track urgent alerts and overdue payments."})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{}),(0,wt.jsx)("th",{children:"Alert"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Urgency"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Amount"})]})}),(0,wt.jsx)("tbody",{children:P.length>0?P.filter(e=>"urgent"===e.Urgency||"high"===e.Urgency).map(e=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("input",{type:"checkbox"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Title||"N/A"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.Message||"N/A"})]})}),(0,wt.jsx)("td",{children:e.Property||"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Urgency||"normal").toLowerCase()),children:e.Urgency||"Normal"})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||"open").toLowerCase()),children:e.Status||"Open"})}),(0,wt.jsx)("td",{children:e.Amount?"".concat(e.Amount.toLocaleString()," XOF"):"\u2014"})]},e.ID)):(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:6,className:"sa-table-empty",children:"No priority alerts at the moment."})})})]})})]})]})},ke=((0,a.useMemo)(()=>{const e=new Set;return w.forEach(t=>{t.Property&&e.add(t.Property)}),Array.from(e).sort()},[w]),(0,a.useMemo)(()=>w.filter(e=>{if(F){const t=(e.Status||"").toLowerCase().replace(" ","-"),n=F.toLowerCase();if(t!==n&&!t.includes(n))return!1}if(O){const t=(e.Property||"").toLowerCase(),n=O.toLowerCase();if(t!==n&&!t.includes(n))return!1}if(M){const t=M.toLowerCase(),n=(e.Name||"").toLowerCase(),a=(e.Email||"").toLowerCase(),s=(e.Phone||"").toLowerCase();if(!n.includes(t)&&!a.includes(t)&&!s.includes(t))return!1}return!0}),[w,F,O,M])),Ce=()=>(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Client List"}),(0,wt.jsxs)("p",{children:[ke.length," results found"]})]}),(0,wt.jsxs)("div",{className:"sa-clients-header-right",children:[(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>r(!0),children:[(0,wt.jsx)(Vt,{size:16}),"Add Client"]}),(0,wt.jsx)("button",{className:"sa-sort-button",children:"Sort: Creation Date"}),(0,wt.jsx)("button",{className:"sa-date-button",children:(new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),(0,wt.jsxs)("div",{className:"sa-overview-metrics",children:[(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Active Tenants"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[ke.filter(e=>"Active"===e.Status).length,(0,wt.jsx)("span",{className:"sa-metric-trend positive",children:"+1.5%"})]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Overdue Accounts"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[ke.filter(e=>"Overdue"===e.Status).length,(0,wt.jsx)("span",{className:"sa-metric-trend negative",children:"-1.5%"})]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Waiting List"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:ke.filter(e=>"Waiting List"===e.Status).length})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Monthly Revenue"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[ke.reduce((e,t)=>e+(t.Amount||t.amount||0),0).toLocaleString()," XOF"]})]})]}),(0,wt.jsxs)("div",{className:"sa-transactions-filters",children:[(0,wt.jsxs)("button",{className:"sa-filter-button",children:[(0,wt.jsx)(Pa,{size:16}),"Filter"]}),(0,wt.jsxs)("div",{className:"sa-search-input",children:[(0,wt.jsx)(Xt,{size:16}),(0,wt.jsx)("input",{type:"text",placeholder:"Search by Name, Email or Phone",value:M,onChange:e=>z(e.target.value)})]})]}),(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsx)("h3",{children:"Clients"}),(0,wt.jsx)("p",{children:"Manage all tenant profiles and track their status."})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{}),(0,wt.jsx)("th",{children:"Client"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Last Payment"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Contact"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:ke.length>0?ke.map(e=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("input",{type:"checkbox"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Name||"N/A"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.Email||"N/A"})]})}),(0,wt.jsx)("td",{children:e.Property||"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||"unknown").toLowerCase().replace(" ","-")),children:e.Status||"Unknown"})}),(0,wt.jsx)("td",{children:e.LastPayment?new Date(e.LastPayment).toLocaleDateString():"N/A"}),(0,wt.jsxs)("td",{children:[(e.Amount||0).toLocaleString()," XOF"]}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Phone||"N/A"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.Email||"N/A"})]})}),(0,wt.jsx)("td",{className:"sa-row-actions",children:(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>we(e),title:"Edit",children:"\u270f\ufe0f"})})]},e.ID)):(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:8,className:"sa-table-empty",children:"No clients found. Start the backend to see real data."})})})]})})]}),k.length>0&&(0,wt.jsxs)("div",{className:"sa-section-card",style:{marginTop:"24px"},children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsx)("h3",{children:"Waiting List Clients"}),(0,wt.jsx)("p",{children:"Clients waiting for available properties."})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{}),(0,wt.jsx)("th",{children:"Client"}),(0,wt.jsx)("th",{children:"Contact"}),(0,wt.jsx)("th",{children:"Preferred Property"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:k.map(e=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("input",{type:"checkbox"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Name||"N/A"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.Email||"N/A"})]})}),(0,wt.jsx)("td",{children:e.Phone||"N/A"}),(0,wt.jsx)("td",{children:e.Property||"Any"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill pending",children:"Waiting List"})}),(0,wt.jsx)("td",{className:"sa-row-actions",children:(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>we(e),title:"Edit",children:"\u270f\ufe0f"})})]},e.ID||e.id))})]})})]}),A.length>0&&(0,wt.jsxs)("div",{className:"sa-section-card",style:{marginTop:"24px"},children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsx)("h3",{children:"Unpaid Rents"}),(0,wt.jsx)("p",{children:"Manage overdue payments and update payment status."})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{}),(0,wt.jsx)("th",{children:"Client"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Due Date"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:A.map(e=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("input",{type:"checkbox"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Name||e.ClientName||"N/A"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.Email||e.ClientEmail||"N/A"})]})}),(0,wt.jsx)("td",{children:e.Property||"N/A"}),(0,wt.jsxs)("td",{children:[(e.Amount||0).toLocaleString()," XOF"]}),(0,wt.jsx)("td",{children:e.DueDate?new Date(e.DueDate).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill overdue",children:e.Status||"Overdue"})}),(0,wt.jsx)("td",{className:"sa-row-actions",children:(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(ee(e),void Y(!0)),title:"Update Payment",children:"\ud83d\udcb0"})})]},e.ID||e.id))})]})})]})]}),Ae=async()=>{if(!me.trim()||!ce)return;const e=localStorage.getItem("user");let t=null;if(e)try{const n=JSON.parse(e);t=n.id||n.ID}catch(r){console.error("Error parsing stored user:",r)}if(!t)return void ve("Unable to identify current user. Please log in again.","error");const n=me.trim(),a="temp-".concat(Date.now()),s={id:a,ID:a,fromUserId:t,toUserId:ce,content:n,createdAt:(new Date).toISOString(),read:!1,type:"message"};he(e=>[...e,s]),pe("");try{const e={toUserId:ce,content:n},t=await ia(e);t&&t.id?he(e=>e.map(e=>e.id===a?t:e)):await je(ce)}catch(r){console.error("Error sending message:",r),ve(r.message||"Failed to send message","error"),he(e=>e.filter(e=>e.id!==a)),pe(n)}},Ee=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t){case"overview":default:return Se();case"occupancy":return(()=>{const e=b.length,t=b.filter(e=>"occupied"===(e.Status||"").toLowerCase()).length,n=b.filter(e=>"vacant"===(e.Status||"").toLowerCase()).length,a=e>0?Math.round(t/e*100):0;return(0,wt.jsxs)("div",{className:"sa-occupancy-page",children:[(0,wt.jsx)("div",{className:"sa-occupancy-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Property Occupancy Overview"}),(0,wt.jsx)("p",{children:"Monitor occupancy status and manage vacant properties"})]})}),(0,wt.jsxs)("div",{className:"sa-occupancy-metrics",children:[(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Properties"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:e})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Occupied"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:t})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Vacant"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:n})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Occupancy Rate"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[a,"%"]})]})]}),(0,wt.jsxs)("div",{className:"sa-transactions-filters",children:[(0,wt.jsxs)("button",{className:"sa-filter-button",onClick:()=>{const e=document.querySelector(".sa-property-filters");e&&(e.style.display="none"===e.style.display?"flex":"none")},children:[(0,wt.jsx)(Pa,{size:16}),"Filter"]}),(0,wt.jsxs)("select",{className:"sa-filter-button",value:U,onChange:e=>_(e.target.value),style:{padding:"8px 14px",cursor:"pointer"},children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"Vacant",children:"Vacant"}),(0,wt.jsx)("option",{value:"Occupied",children:"Occupied"})]}),(0,wt.jsxs)("select",{className:"sa-filter-button",value:q,onChange:e=>V(e.target.value),style:{padding:"8px 14px",cursor:"pointer"},children:[(0,wt.jsx)("option",{value:"",children:"All Types"}),(0,wt.jsx)("option",{value:"Apartment",children:"Apartment"}),(0,wt.jsx)("option",{value:"House",children:"House"}),(0,wt.jsx)("option",{value:"Condo",children:"Condo"}),(0,wt.jsx)("option",{value:"Studio",children:"Studio"})]}),(0,wt.jsxs)("select",{className:"sa-filter-button",value:B,onChange:e=>H(e.target.value),style:{padding:"8px 14px",cursor:"pointer"},children:[(0,wt.jsx)("option",{value:"",children:"All Urgency"}),(0,wt.jsx)("option",{value:"urgent",children:"Urgent"}),(0,wt.jsx)("option",{value:"high",children:"High"}),(0,wt.jsx)("option",{value:"normal",children:"Normal"})]}),(0,wt.jsxs)("div",{className:"sa-search-input",children:[(0,wt.jsx)(Xt,{size:16}),(0,wt.jsx)("input",{type:"text",placeholder:"Search by Address, Type or Status"})]})]}),(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Properties"}),(0,wt.jsx)("p",{children:"Manage all properties and their occupancy status."})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>ne(!0),children:[(0,wt.jsx)(Vt,{size:16}),"Create Property"]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Type"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Rent"}),(0,wt.jsx)("th",{children:"Urgency"}),(0,wt.jsx)("th",{children:"Actions"})]})}),(0,wt.jsx)("tbody",{children:b.length>0?b.map(e=>{const t=e.ID||e.id;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("input",{type:"checkbox"})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("div",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Address||e.address||"N/A"})})}),(0,wt.jsx)("td",{children:e.Type||e.type||"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||e.status||"unknown").toLowerCase()),children:e.Status||e.status||"Unknown"})}),(0,wt.jsx)("td",{children:e.Tenant||e.tenant||"No tenant"}),(0,wt.jsx)("td",{children:e.Rent||e.rent?"".concat(e.Rent||e.rent," XOF/month"):"N/A"}),(0,wt.jsx)("td",{children:e.Urgency||e.urgency?(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Urgency||e.urgency).toLowerCase()),children:e.Urgency||e.urgency}):"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("button",{className:"sa-action-button",onClick:()=>{le(e),se(!0)},title:"Edit Property",children:"\u270f\ufe0f"})})]},t)}):(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:8,className:"sa-table-empty",children:"No properties found. Create your first property to get started."})})})]})})]})]})})();case"clients":return Ce();case"alerts":return(0,wt.jsxs)("div",{className:"sa-alerts-page",children:[(0,wt.jsx)("div",{className:"sa-alerts-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Unpaid Rent Alerts"}),(0,wt.jsx)("p",{children:"Monitor and manage overdue payments"})]})}),(0,wt.jsxs)("div",{className:"sa-transactions-filters",children:[(0,wt.jsxs)("button",{className:"sa-filter-button",children:[(0,wt.jsx)(Pa,{size:16}),"Filter"]}),(0,wt.jsxs)("select",{className:"sa-filter-button",value:W,onChange:e=>$(e.target.value),style:{padding:"8px 14px",cursor:"pointer"},children:[(0,wt.jsx)("option",{value:"",children:"All Alert Types"}),(0,wt.jsx)("option",{value:"Payment Overdue",children:"Payment Overdue"}),(0,wt.jsx)("option",{value:"Vacant Property",children:"Vacant Property"}),(0,wt.jsx)("option",{value:"Maintenance",children:"Maintenance"})]}),(0,wt.jsxs)("div",{className:"sa-search-input",children:[(0,wt.jsx)(Xt,{size:16}),(0,wt.jsx)("input",{type:"text",placeholder:"Search by Title, Property or Message"})]})]}),(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsx)("h3",{children:"Alerts"}),(0,wt.jsx)("p",{children:"Track all alerts and their current status."})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{}),(0,wt.jsx)("th",{children:"Alert"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Urgency"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Created"}),(0,wt.jsx)("th",{children:"Amount"})]})}),(0,wt.jsx)("tbody",{children:P.length>0?P.map(e=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("input",{type:"checkbox"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Title||"N/A"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.Message||"N/A"})]})}),(0,wt.jsx)("td",{children:e.Property||"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Urgency||"normal").toLowerCase()),children:e.Urgency||"Normal"})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||"open").toLowerCase()),children:e.Status||"Open"})}),(0,wt.jsx)("td",{children:e.CreatedAt?new Date(e.CreatedAt).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{children:e.Amount?"".concat(e.Amount.toLocaleString()," XOF"):"\u2014"})]},e.ID)):(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"sa-table-empty",children:"No alerts found. Start the backend to see real data."})})})]})})]})]});case"chat":return(0,wt.jsx)("div",{className:"sa-chat-page",children:(0,wt.jsxs)("div",{className:"sa-chat-layout",children:[(0,wt.jsxs)("div",{className:"sa-chat-list",children:[(0,wt.jsx)("h3",{children:"Users"}),(0,wt.jsxs)("ul",{children:[ie.map(e=>{const t=e.userId===ce;return(0,wt.jsx)("li",{className:t?"active":"",onClick:()=>je(e.userId),children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.name||"User"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||""}),e.role&&(0,wt.jsx)("span",{className:"sa-cell-sub",style:{fontSize:"0.75rem",color:"#6b7280"},children:e.role}),e.unreadCount>0&&(0,wt.jsxs)("span",{className:"sa-cell-sub",style:{color:"#2563eb",fontWeight:600,marginTop:"4px"},children:[e.unreadCount," unread"]})]})},"chat-user-".concat(e.userId))}),0===ie.length&&(0,wt.jsx)("li",{style:{padding:"20px",textAlign:"center",color:"#9ca3af"},children:"No users available"})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-conversation",children:[(0,wt.jsxs)("div",{className:"sa-chat-header",children:[(0,wt.jsx)("h3",{children:"Messages"}),ce&&(0,wt.jsxs)("span",{className:"sa-chat-subtitle",children:["Chat with"," ",(ie.find(e=>e.userId===ce)||{}).name||"User"]})]}),(0,wt.jsxs)("div",{className:"sa-chat-messages",children:[ue.map((e,t)=>{const n=e.content||e.Content||"",a=e.createdAt||e.CreatedAt||"",s=e.fromUserId||e.FromUserId,r=e.id||e.ID||t,l=localStorage.getItem("user");let i=!1;if(l)try{const e=JSON.parse(l),t=e.id||e.ID;i=String(s)===String(t)}catch(Lr){}return(0,wt.jsxs)("div",{className:"sa-chat-bubble ".concat(i?"outgoing":"incoming"),children:[(0,wt.jsx)("p",{children:n}),(0,wt.jsx)("span",{className:"sa-chat-meta",children:a?new Date(a).toLocaleString():""})]},"msg-".concat(r))}),0===ue.length&&(0,wt.jsx)("div",{className:"sa-table-empty",children:ce?"No messages yet. Start the conversation!":"Select a conversation on the left to start messaging."}),(0,wt.jsx)("div",{ref:xe})]}),(0,wt.jsxs)("div",{className:"sa-chat-input-row",children:[(0,wt.jsx)("input",{type:"text",placeholder:"Reply...",value:me,onChange:e=>pe(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Ae())},disabled:!ce}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:Ae,disabled:!ce||!me.trim(),children:[(0,wt.jsx)(_n,{size:16}),"Send"]})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-details",children:[(0,wt.jsx)("h4",{children:"Contact Details"}),ce?(()=>{const e=ie.find(e=>e.userId===ce)||{};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Name:"})," ",e.name||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Email:"})," ",e.email||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Role:"})," ",e.role||"N/A"]}),e.company&&(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Company:"})," ",e.company]})]})})():(0,wt.jsx)("p",{children:"Select a conversation to view details."})]})]})});case"settings":return(0,wt.jsx)("div",{className:"embedded-settings",children:(0,wt.jsx)(hn,{})})}},Pe=(0,a.useMemo)(()=>Ne.map(e=>d(d({},e),{},{onSelect:()=>n(e.id),active:t===e.id})),[Ne,t]);return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Commercial Team",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:Pe,activeId:t,onActiveChange:n,onLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},children:e=>{let{activeId:n}=e;return(0,wt.jsx)("div",{className:"content-body sales-manager-content",children:Ee(n||t)})}}),(0,wt.jsx)("div",{className:"notifications-container",children:f.map(e=>(0,wt.jsxs)("div",{className:"notification notification-".concat(e.type),children:[(0,wt.jsx)("span",{children:e.message}),(0,wt.jsx)("button",{onClick:()=>x(t=>t.filter(t=>t.id!==e.id)),children:"\xd7"})]},e.id))}),s&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>{r(!1),g(1),h(null),p([])},children:(0,wt.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:1===v?"Create New Tenant - Basic Information":"Create New Tenant - Upload Documents"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>{r(!1),g(1),h(null),p([])},children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:1===v?(0,wt.jsxs)("form",{onSubmit:async e=>{var t,n,a,s,r;e.preventDefault();const l=new FormData(e.target),i=null===(t=l.get("firstName"))||void 0===t?void 0:t.trim(),o=null===(n=l.get("lastName"))||void 0===n?void 0:n.trim(),c=null===(a=l.get("email"))||void 0===a?void 0:a.trim(),u=null===(s=l.get("phone"))||void 0===s?void 0:s.trim(),p=null===(r=l.get("property"))||void 0===r?void 0:r.trim(),f=l.get("rent"),x=l.get("moveInDate");if(!i||!o||!c||!u||!p||!f||!x)return void ve("Please fill in all required fields","error");const v={name:"".concat(i," ").concat(o),property:p,email:c,phone:u,amount:parseFloat(f),moveInDate:x};try{L(!0),console.log("Creating client with data:",v);const e=await Ia(v);console.log("Created client response:",e),h(d(d({},v),{},{id:e.id,documents:m})),g(2),ve('Client "'.concat(v.name,'" created successfully!'),"success")}catch(y){console.error("Failed to create client:",y),ve("Failed to create client: ".concat(y.message||"Unknown error"),"error")}finally{L(!1)}},children:[(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"firstName",children:"First Name"}),(0,wt.jsx)("input",{type:"text",name:"firstName",required:!0,placeholder:"Enter first name"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),(0,wt.jsx)("input",{type:"text",name:"lastName",required:!0,placeholder:"Enter last name"})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,wt.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"tenant@example.com"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,wt.jsx)("input",{type:"tel",name:"phone",required:!0,placeholder:"+1-555-0000"})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"property",children:"Property"}),(0,wt.jsxs)("select",{name:"property",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Property"}),b.length>0?b.map(e=>(0,wt.jsxs)("option",{value:e.Address,children:[e.Address," - ",e.Type]},e.ID)):(0,wt.jsx)("option",{value:"",disabled:!0,children:"No properties available. Start backend to load properties."})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"rent",children:"Monthly Rent"}),(0,wt.jsx)("input",{type:"number",name:"rent",step:"0.01",required:!0,placeholder:"0.00"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"moveInDate",children:"Move-in Date"}),(0,wt.jsx)("input",{type:"date",name:"moveInDate",required:!0})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>{r(!1),g(1)},children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:T,children:T?"Creating Client...":"Next: Upload Documents"})]})]}):(0,wt.jsxs)("div",{className:"document-upload-step",children:[(0,wt.jsxs)("div",{className:"tenant-summary",children:[(0,wt.jsx)("h4",{children:"Tenant Information:"}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Name:"})," ",null===u||void 0===u?void 0:u.name]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Email:"})," ",null===u||void 0===u?void 0:u.email]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Property:"})," ",null===u||void 0===u?void 0:u.property]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Rent:"})," ",null===u||void 0===u||null===(e=u.amount)||void 0===e?void 0:e.toFixed(2)," XOF"]})]}),(0,wt.jsxs)("div",{className:"document-upload-section",children:[(0,wt.jsx)("h4",{children:"Upload Required Documents"}),(0,wt.jsx)("p",{children:"Please upload the tenant's KYC documents and lease contract"}),(0,wt.jsxs)("div",{className:"upload-buttons",children:[(0,wt.jsxs)("button",{className:"action-button primary",onClick:()=>i(!0),children:[(0,wt.jsx)(Ot,{size:20}),"Upload KYC Documents"]}),(0,wt.jsxs)("button",{className:"action-button primary",onClick:()=>c(!0),children:[(0,wt.jsx)(Rt,{size:20}),"Upload Lease Contract"]})]}),m.length>0&&(0,wt.jsxs)("div",{className:"uploaded-documents-list",children:[(0,wt.jsx)("h5",{children:"Uploaded Documents:"}),m.map((e,t)=>{var n;return(0,wt.jsxs)("div",{className:"document-item",children:[(0,wt.jsx)(Rt,{size:16}),(0,wt.jsxs)("div",{className:"document-info",children:[(0,wt.jsxs)("span",{className:"document-name",children:[e.type,": ",e.name||(null===(n=e.details)||void 0===n?void 0:n.contractType)||"Contract"]}),e.url&&(0,wt.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"document-link",children:"View Document"}),e.size&&(0,wt.jsxs)("span",{className:"document-size",children:["(",(e.size/1024).toFixed(1)," KB)"]})]}),(0,wt.jsx)("button",{className:"remove-doc-button",onClick:()=>(e=>{p(t=>t.filter((t,n)=>n!==e)),ve("Document removed","info")})(t),children:(0,wt.jsx)(Wt,{size:16})})]},t)})]})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>g(1),children:"Back"}),(0,wt.jsx)("button",{type:"button",className:"action-button primary",onClick:async()=>{if(u)try{L(!0);const e=m.map(e=>({type:e.type,name:e.name,url:e.url,publicId:e.publicId,size:e.size,uploadedAt:e.uploadedAt,details:e.details||null}));console.log("Reloading data after client creation..."),await ge(),ve('Tenant "'.concat(u.name,'" created successfully with ').concat(e.length," document(s)!"),"success"),r(!1),h(null),p([]),g(1)}catch(e){console.error("Failed to finalize tenant creation:",e),ve("Failed to finalize tenant creation","error")}finally{L(!1)}},disabled:T,children:T?"Finalizing...":"Create Tenant Account"})]})]})})]})}),(0,wt.jsxs)(St,{isOpen:l,onClose:()=>i(!1),children:[(0,wt.jsx)("h2",{children:"Upload Tenant KYC Documents"}),(0,wt.jsx)(Da,{onFileUpload:e=>(async e=>{if(Wa(e))if($a(e))try{L(!0);const t=await Ha.uploadFile(e,"real-estate-kyc");t.success?(p(n=>[...n,{type:"KYC",file:e,name:e.name,url:t.url,publicId:t.publicId,size:t.size,uploadedAt:t.uploadedAt}]),ve("KYC document uploaded successfully!","success"),i(!1)):ve("Upload failed: ".concat(t.error),"error")}catch(t){console.error("KYC upload error:",t),ve("Failed to upload KYC document","error")}finally{L(!1)}else ve("File size too large. Please upload files smaller than 10MB.","error");else ve("Invalid file type. Please upload PDF, DOC, DOCX, or image files.","error")})(e)})]}),(0,wt.jsx)(St,{isOpen:o,onClose:()=>c(!1),children:(0,wt.jsx)(Ta,{onContractUpload:async(e,t,n)=>{for(const s of e){if(!Wa(s))return void ve("Invalid file type for ".concat(s.name,". Please upload PDF, DOC, DOCX, or image files."),"error");if(!$a(s))return void ve("File size too large for ".concat(s.name,". Please upload files smaller than 10MB."),"error")}try{L(!0);const n=await Ha.uploadMultipleFiles(e,"real-estate-contracts"),a=n.filter(e=>e.success),s=n.filter(e=>!e.success);if(a.length>0){const n=a.map((n,a)=>({type:"Contract",file:e[a],name:e[a].name,url:n.url,publicId:n.publicId,size:n.size,uploadedAt:n.uploadedAt,details:t}));p(e=>[...e,...n]),ve("".concat(a.length," contract document(s) uploaded successfully!"),"success"),c(!1)}s.length>0&&ve("".concat(s.length," document(s) failed to upload"),"error")}catch(a){console.error("Contract upload error:",a),ve("Failed to upload contract documents","error")}finally{L(!1)}}})}),J&&G&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>{X(!1),Q(null)},children:(0,wt.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Edit Client/Tenant Profile"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>{X(!1),Q(null)},children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{var t,n,a,s;if(e.preventDefault(),!G)return;const r=new FormData(e.target),l={name:(null===(t=r.get("name"))||void 0===t?void 0:t.trim())||G.Name,email:(null===(n=r.get("email"))||void 0===n?void 0:n.trim())||G.Email,phone:(null===(a=r.get("phone"))||void 0===a?void 0:a.trim())||G.Phone,property:(null===(s=r.get("property"))||void 0===s?void 0:s.trim())||G.Property,amount:r.get("amount")?parseFloat(r.get("amount")):G.Amount,status:r.get("status")||G.Status};try{L(!0),await Ma(G.ID||G.id,l),ve("Client updated successfully!","success"),X(!1),Q(null),await ge()}catch(i){console.error("Failed to update client:",i),ve("Failed to update client","error")}finally{L(!1)}},children:[(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-name",children:"Name"}),(0,wt.jsx)("input",{type:"text",name:"name",id:"edit-name",defaultValue:G.Name||G.name||"",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-email",children:"Email"}),(0,wt.jsx)("input",{type:"email",name:"email",id:"edit-email",defaultValue:G.Email||G.email||"",required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-phone",children:"Phone"}),(0,wt.jsx)("input",{type:"tel",name:"phone",id:"edit-phone",defaultValue:G.Phone||G.phone||""})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-property",children:"Property"}),(0,wt.jsx)("input",{type:"text",name:"property",id:"edit-property",defaultValue:G.Property||G.property||""})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-amount",children:"Monthly Rent (XOF)"}),(0,wt.jsx)("input",{type:"number",name:"amount",id:"edit-amount",step:"0.01",defaultValue:G.Amount||G.amount||0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-status",children:"Status"}),(0,wt.jsxs)("select",{name:"status",id:"edit-status",defaultValue:G.Status||G.status||"Active",children:[(0,wt.jsx)("option",{value:"Active",children:"Active"}),(0,wt.jsx)("option",{value:"Overdue",children:"Overdue"}),(0,wt.jsx)("option",{value:"Waiting List",children:"Waiting List"}),(0,wt.jsx)("option",{value:"Inactive",children:"Inactive"})]})]})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>{X(!1),Q(null)},children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:T,children:T?"Updating...":"Update Client"})]})]})})]})}),K&&Z&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>{Y(!1),ee(null)},children:(0,wt.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Update Unpaid Rent"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>{Y(!1),ee(null)},children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{var t;if(e.preventDefault(),!Z)return;const n=new FormData(e.target),a={status:n.get("status")||"Paid",amount:n.get("amount")?parseFloat(n.get("amount")):Z.Amount,paidAmount:n.get("paidAmount")?parseFloat(n.get("paidAmount")):null,paymentDate:n.get("paymentDate")||null,notes:(null===(t=n.get("notes"))||void 0===t?void 0:t.trim())||null};try{L(!0),await Ua(Z.ID||Z.id,a),ve("Unpaid rent updated successfully!","success"),Y(!1),ee(null),await ge()}catch(s){console.error("Failed to update unpaid rent:",s),ve("Failed to update unpaid rent","error")}finally{L(!1)}},children:[(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"unpaid-status",children:"Payment Status"}),(0,wt.jsxs)("select",{name:"status",id:"unpaid-status",defaultValue:Z.Status||"Overdue",children:[(0,wt.jsx)("option",{value:"Paid",children:"Paid"}),(0,wt.jsx)("option",{value:"Overdue",children:"Overdue"}),(0,wt.jsx)("option",{value:"Partial",children:"Partial"}),(0,wt.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"unpaid-amount",children:"Total Amount (XOF)"}),(0,wt.jsx)("input",{type:"number",name:"amount",id:"unpaid-amount",step:"0.01",defaultValue:Z.Amount||0,required:!0})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"unpaid-paid-amount",children:"Paid Amount (XOF)"}),(0,wt.jsx)("input",{type:"number",name:"paidAmount",id:"unpaid-paid-amount",step:"0.01",defaultValue:Z.PaidAmount||Z.paidAmount||0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"unpaid-payment-date",children:"Payment Date"}),(0,wt.jsx)("input",{type:"date",name:"paymentDate",id:"unpaid-payment-date",defaultValue:Z.PaymentDate?new Date(Z.PaymentDate).toISOString().split("T")[0]:""})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"unpaid-notes",children:"Notes"}),(0,wt.jsx)("textarea",{name:"notes",id:"unpaid-notes",rows:"3",defaultValue:Z.Notes||Z.notes||"",placeholder:"Add any notes about this payment..."})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>{Y(!1),ee(null)},children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:T,children:T?"Updating...":"Update Payment"})]})]})})]})}),te&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>ne(!1),children:(0,wt.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Create Property"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>ne(!1),children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{var t,n,a,s,r;e.preventDefault();const l=new FormData(e.target),i={address:null===(t=l.get("address"))||void 0===t?void 0:t.trim(),type:null===(n=l.get("type"))||void 0===n?void 0:n.trim(),status:null===(a=l.get("status"))||void 0===a?void 0:a.trim(),rent:l.get("rent")?parseFloat(l.get("rent")):void 0,bedrooms:l.get("bedrooms")?parseInt(l.get("bedrooms")):void 0,bathrooms:l.get("bathrooms")?parseFloat(l.get("bathrooms")):void 0,urgency:(null===(s=l.get("urgency"))||void 0===s?void 0:s.trim())||"normal",tenant:(null===(r=l.get("tenant"))||void 0===r?void 0:r.trim())||null};if(i.address&&i.type&&i.status&&i.rent)if("Vacant"===i.status||"Occupied"===i.status)try{L(!0),await qa(i),ve("Property created successfully","success"),ne(!1),await ge()}catch(o){console.error("Error creating property:",o),ve(o.message||"Failed to create property","error")}finally{L(!1)}else ve('Status must be either "Vacant" or "Occupied"',"error");else ve("Please fill in all required fields (Address, Type, Status, Rent)","error")},children:[(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"create-address",children:"Address *"}),(0,wt.jsx)("input",{type:"text",name:"address",id:"create-address",required:!0,placeholder:"123 Main St, Apt 4B"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"create-type",children:"Type *"}),(0,wt.jsxs)("select",{name:"type",id:"create-type",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Type"}),(0,wt.jsx)("option",{value:"Apartment",children:"Apartment"}),(0,wt.jsx)("option",{value:"House",children:"House"}),(0,wt.jsx)("option",{value:"Condo",children:"Condo"}),(0,wt.jsx)("option",{value:"Studio",children:"Studio"})]})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"create-status",children:"Status *"}),(0,wt.jsxs)("select",{name:"status",id:"create-status",required:!0,children:[(0,wt.jsx)("option",{value:"",children:"Select Status"}),(0,wt.jsx)("option",{value:"Vacant",children:"Vacant"}),(0,wt.jsx)("option",{value:"Occupied",children:"Occupied"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"create-rent",children:"Monthly Rent (XOF) *"}),(0,wt.jsx)("input",{type:"number",name:"rent",id:"create-rent",step:"0.01",min:"0",required:!0,placeholder:"1500.00"})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"create-bedrooms",children:"Bedrooms"}),(0,wt.jsx)("input",{type:"number",name:"bedrooms",id:"create-bedrooms",min:"0",placeholder:"2"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"create-bathrooms",children:"Bathrooms"}),(0,wt.jsx)("input",{type:"number",name:"bathrooms",id:"create-bathrooms",step:"0.5",min:"0",placeholder:"1.5"})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"create-urgency",children:"Urgency"}),(0,wt.jsxs)("select",{name:"urgency",id:"create-urgency",defaultValue:"normal",children:[(0,wt.jsx)("option",{value:"normal",children:"Normal"}),(0,wt.jsx)("option",{value:"high",children:"High"}),(0,wt.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"create-tenant",children:"Tenant (if Occupied)"}),(0,wt.jsx)("input",{type:"text",name:"tenant",id:"create-tenant",placeholder:"John Doe"})]})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>ne(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:T,children:T?"Creating...":"Create Property"})]})]})})]})}),ae&&re&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>{se(!1),le(null)},children:(0,wt.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Edit Property"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>{se(!1),le(null)},children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!re)return;const t=new FormData(e.target),n={};if(t.get("address")&&(n.address=t.get("address").trim()),t.get("type")&&(n.type=t.get("type").trim()),t.get("status")&&(n.status=t.get("status").trim()),t.get("rent")&&(n.rent=parseFloat(t.get("rent"))),t.get("bedrooms")&&(n.bedrooms=parseInt(t.get("bedrooms"))),t.get("bathrooms")&&(n.bathrooms=parseFloat(t.get("bathrooms"))),t.get("urgency")&&(n.urgency=t.get("urgency").trim()),t.get("tenant")){const e=t.get("tenant").trim();n.tenant=e||null}if(n.status&&"Vacant"!==n.status&&"Occupied"!==n.status)ve('Status must be either "Vacant" or "Occupied"',"error");else try{L(!0);const e=re.ID||re.id;await Va(e,n),ve("Property updated successfully","success"),se(!1),le(null),await ge()}catch(a){console.error("Error updating property:",a),ve(a.message||"Failed to update property","error")}finally{L(!1)}},children:[(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-address",children:"Address"}),(0,wt.jsx)("input",{type:"text",name:"address",id:"edit-address",defaultValue:re.Address||re.address||"",placeholder:"123 Main St, Apt 4B"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-type",children:"Type"}),(0,wt.jsxs)("select",{name:"type",id:"edit-type",defaultValue:re.Type||re.type||"",children:[(0,wt.jsx)("option",{value:"",children:"Select Type"}),(0,wt.jsx)("option",{value:"Apartment",children:"Apartment"}),(0,wt.jsx)("option",{value:"House",children:"House"}),(0,wt.jsx)("option",{value:"Condo",children:"Condo"}),(0,wt.jsx)("option",{value:"Studio",children:"Studio"})]})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-status",children:"Status"}),(0,wt.jsxs)("select",{name:"status",id:"edit-status",defaultValue:re.Status||re.status||"",children:[(0,wt.jsx)("option",{value:"",children:"Select Status"}),(0,wt.jsx)("option",{value:"Vacant",children:"Vacant"}),(0,wt.jsx)("option",{value:"Occupied",children:"Occupied"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-rent",children:"Monthly Rent (XOF)"}),(0,wt.jsx)("input",{type:"number",name:"rent",id:"edit-rent",step:"0.01",min:"0",defaultValue:re.Rent||re.rent||"",placeholder:"1500.00"})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-bedrooms",children:"Bedrooms"}),(0,wt.jsx)("input",{type:"number",name:"bedrooms",id:"edit-bedrooms",min:"0",defaultValue:re.Bedrooms||re.bedrooms||"",placeholder:"2"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-bathrooms",children:"Bathrooms"}),(0,wt.jsx)("input",{type:"number",name:"bathrooms",id:"edit-bathrooms",step:"0.5",min:"0",defaultValue:re.Bathrooms||re.bathrooms||"",placeholder:"1.5"})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-urgency",children:"Urgency"}),(0,wt.jsxs)("select",{name:"urgency",id:"edit-urgency",defaultValue:re.Urgency||re.urgency||"normal",children:[(0,wt.jsx)("option",{value:"normal",children:"Normal"}),(0,wt.jsx)("option",{value:"high",children:"High"}),(0,wt.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"edit-tenant",children:"Tenant"}),(0,wt.jsx)("input",{type:"text",name:"tenant",id:"edit-tenant",defaultValue:re.Tenant||re.tenant||"",placeholder:"John Doe"})]})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>{se(!1),le(null)},children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:T,children:T?"Updating...":"Update Property"})]})]})})]})})]})},Xa=Tt("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),Ga=async()=>ln(rn("/api/technician/overview"),{method:"GET"}),Qa=async()=>ln(rn("/api/technician/inspections"),{method:"GET"}),Ka=async e=>ln(rn("/api/technician/inspections"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),Ya=async(e,t)=>{const n=new FormData;return n.append("photo",t),ln(rn("/api/technician/inspections/".concat(e,"/photo")),{method:"POST",body:n})},Za=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority);const n=rn("/api/technician/maintenance-requests"),a=t.toString()?"".concat(n,"?").concat(t.toString()):n;return ln(a,{method:"GET"})},es=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.status&&t.append("status",e.status);const n=rn("/api/technician/quotes"),a=t.toString()?"".concat(n,"?").concat(t.toString()):n;return ln(a,{method:"GET"})},ts=async e=>ln(rn("/api/technician/quotes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),ns=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new URLSearchParams;e.status&&t.append("status",e.status),e.priority&&t.append("priority",e.priority);const n=rn("/api/technician/progress"),a=t.toString()?"".concat(n,"?").concat(t.toString()):n;return ln(a,{method:"GET"})},as=async()=>ln(rn("/api/technician/progress/report"),{method:"GET"}),ss=async()=>ln(rn("/api/technician/tasks"),{method:"GET"}),rs=async e=>ln(rn("/api/technician/tasks"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),ls=async(e,t)=>ln(rn("/api/technician/tasks/".concat(e)),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),is=()=>{const[e,t]=(0,a.useState)("overview"),[n,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[x,v]=(0,a.useState)([]),[g,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)({property:"",type:"routine",inspector:"",notes:""}),[N,w]=(0,a.useState)(!1),[S,k]=(0,a.useState)(null),[C,A]=(0,a.useState)({status:"",estimatedHours:0,estimatedCost:0}),[E,P]=(0,a.useState)(!1),[D,T]=(0,a.useState)(null),[L,F]=(0,a.useState)(null),[R,O]=(0,a.useState)(""),[I,M]=(0,a.useState)(""),[z,U]=(0,a.useState)(""),[_,q]=(0,a.useState)(""),[V,B]=(0,a.useState)(""),[H,W]=(0,a.useState)(null),[$,J]=(0,a.useState)([]),[X,G]=(0,a.useState)(null),[Q,K]=(0,a.useState)([]),[Y,Z]=(0,a.useState)(""),ee=(0,a.useRef)(!1),te=(0,a.useRef)(null),[ne,ae]=(0,a.useState)([]),se=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n="".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));ae(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{ae(e=>e.filter(e=>e.id!==n))},3e3)};(0,a.useEffect)(()=>{re()},[R,I,z,_,V]);const re=async()=>{s(!0);try{const[e,t,n,a,s,r,i]=await Promise.all([Ga(),Za({status:R||void 0,priority:I||void 0}),Qa(),ss(),es({status:z||void 0}),ns({status:_||void 0,priority:V||void 0}),as().catch(()=>null)]);l(e),o(Array.isArray(t)?t:[]),u(Array.isArray(n)?n:[]),m(Array.isArray(a)?a:[]),f(Array.isArray(s)?s:[]),W(i)}catch(e){console.error("Error loading technician data:",e),se("Failed to load dashboard data","error")}finally{s(!1)}},le=(0,a.useCallback)(()=>{var e;null===(e=te.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[]);(0,a.useEffect)(()=>{Q.length>0&&le()},[Q,le]);const ie=(0,a.useCallback)(async e=>{if(e)try{G(e);const n=await ca(e),a=Array.isArray(n)?n:[];K(a);try{await da(e)}catch(t){console.error("Error marking messages as read:",t)}}catch(n){console.error("Error loading chat:",n),se("Failed to load conversation: ".concat(n.message||"Unknown error"),"error"),K([])}},[se]),oe=(0,a.useCallback)(async()=>{if(ee.current)console.log("Users already loading, skipping...");else{ee.current=!0;try{const n=await ua();console.log("Fetched users:",n);const a=localStorage.getItem("user");let s=null;if(a)try{const e=JSON.parse(a);s=e.id||e.ID}catch(e){console.error("Error parsing stored user:",e)}let r=Array.isArray(n)?n:[];Array.isArray(r[0])&&(r=r[0]);const l=r.filter(e=>{const t=e.id||e.ID||e.userId;return t&&String(t)!==String(s)});l.sort((e,t)=>{const n=(e.name||e.Name||"").toLowerCase(),a=(t.name||t.Name||"").toLowerCase();return n.localeCompare(a)});try{const e=await oa(),t=new Map;e.forEach(e=>{const n=e.userId||e.userID;n&&t.set(String(n),e)});const n=l.map(e=>{const n=String(e.id||e.ID||e.userId),a=t.get(n);return d(d({},e),{},{userId:e.id||e.ID||e.userId,name:e.name||e.Name,email:e.email||e.Email,role:e.role||e.Role,unreadCount:(null===a||void 0===a?void 0:a.unreadCount)||0})});J(n),!X&&n.length>0&&G(e=>e||n[0].userId)}catch(t){console.error("Error loading conversations:",t),J(l.map(e=>d(d({},e),{},{userId:e.id||e.ID||e.userId,name:e.name||e.Name,email:e.email||e.Email,role:e.role||e.Role,unreadCount:0})))}}catch(e){console.error("Error loading users:",e),se("Failed to load users for messaging","error"),J([])}finally{ee.current=!1}}},[X,se]);(0,a.useEffect)(()=>{"chat"!==e||ee.current||oe()},[e,oe]),(0,a.useEffect)(()=>{X&&"chat"===e&&ie(X)},[X,e,ie]);const ce=async()=>{if(!Y.trim()||!X)return;const e=localStorage.getItem("user");let t=null;if(e)try{const n=JSON.parse(e);t=n.id||n.ID}catch(r){console.error("Error parsing stored user:",r)}if(!t)return void se("Unable to identify current user. Please log in again.","error");const n=Y.trim(),a="temp-".concat(Date.now()),s={id:a,ID:a,fromUserId:t,toUserId:X,content:n,createdAt:(new Date).toISOString(),read:!1,type:"message"};K(e=>[...e,s]),Z("");try{const e={toUserId:X,content:n},t=await ia(e);t&&t.id?K(e=>e.map(e=>e.id===a?t:e)):await ie(X)}catch(r){console.error("Error sending message:",r),se(r.message||"Failed to send message","error"),K(e=>e.filter(e=>e.id!==a)),Z(n)}},de=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:ma},{id:"inspections",label:"Inspections",icon:Ft},{id:"inventories",label:"Inventories",icon:Rt},{id:"maintenance",label:"Maintenance",icon:_t},{id:"quotes",label:"Quotes",icon:It},{id:"progress",label:"Progress",icon:Xa},{id:"tasks",label:"Tasks",icon:Nn},{id:"chat",label:"Messages",icon:_n},{id:"settings",label:"Settings",icon:qt}],[]),ue=()=>(0,wt.jsx)("div",{className:"sa-overview-page",children:(0,wt.jsxs)("div",{className:"sa-overview-metrics",style:{width:"100%"},children:[(0,wt.jsxs)("div",{className:"sa-metric-card sa-metric-primary",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Open Tickets"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:(null===r||void 0===r?void 0:r.totalOpenTickets)||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Urgent Tickets Pending"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===r||void 0===r?void 0:r.urgentTicketsPending)||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Average Resolution Time"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:null!==r&&void 0!==r&&r.averageResolutionTime?"".concat(r.averageResolutionTime," days"):"N/A"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Cost of Ongoing Repairs"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:["$",((null===r||void 0===r?void 0:r.totalCostOfOngoingRepairs)||0).toLocaleString()]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Inspections"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===r||void 0===r?void 0:r.totalInspections)||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Quotes"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===r||void 0===r?void 0:r.totalQuotes)||0})]})]})}),he=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Property Inspections"}),(0,wt.jsx)("p",{children:"Manage move-in, move-out, and routine inspections"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>y(!0),children:[(0,wt.jsx)(Vt,{size:16}),"Add Inspection"]})]}),(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Inspection Types"}),(0,wt.jsx)("option",{value:"Move-in",children:"Move-in"}),(0,wt.jsx)("option",{value:"Move-out",children:"Move-out"}),(0,wt.jsx)("option",{value:"routine",children:"Routine"}),(0,wt.jsx)("option",{value:"emergency",children:"Emergency"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"completed",children:"Completed"}),(0,wt.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,wt.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,wt.jsx)("option",{value:"pending",children:"Pending"})]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Inspection Type"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Inspector"}),(0,wt.jsx)("th",{children:"Notes"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:0===c.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:"7",className:"sa-table-empty",children:"No inspections found"})}):c.map((e,t)=>{const n=e.id||e.ID,a=e.property||e.Property,s=e.type||e.Type,r=e.date||e.Date,l=e.inspector||e.Inspector,i=e.notes||e.Notes,o=e.photos||e.Photos;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:a})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((s||"routine").toLowerCase().replace("-","-")),children:s||"Routine"})}),(0,wt.jsx)("td",{children:r?new Date(r).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{children:l||"Unassigned"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-sub",children:i||"No notes"})}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(e=>{T(e),F(null),P(!0)})(e),title:"Upload Photo",children:"\ud83d\udcf7"}),o&&Array.isArray(o)&&o.length>0&&(0,wt.jsxs)("span",{className:"sa-cell-sub",style:{marginLeft:"8px",fontSize:"0.75rem"},children:["(",o.length,")"]})]})]},n)})})]})})]}),me=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Maintenance & Repairs"}),(0,wt.jsx)("p",{children:"Track maintenance tasks and repair work"})]})}),(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",value:I,onChange:e=>M(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Priority Levels"}),(0,wt.jsx)("option",{value:"urgent",children:"Urgent"}),(0,wt.jsx)("option",{value:"high",children:"High"}),(0,wt.jsx)("option",{value:"normal",children:"Normal"}),(0,wt.jsx)("option",{value:"low",children:"Low"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",value:R,onChange:e=>O(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"Pending",children:"Pending"}),(0,wt.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,wt.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Issue"}),(0,wt.jsx)("th",{children:"Priority"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Assigned To"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Est. Hours"}),(0,wt.jsx)("th",{children:"Est. Cost"}),(0,wt.jsx)("th",{children:"Quote"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:0===i.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:11,className:"sa-table-empty",children:"No maintenance requests found"})}):i.map((e,t)=>{const n=e.id||e.ID,a=e.property||e.Property,s=e.issue||e.Issue,r=(e.priority||e.Priority||"normal").toLowerCase(),l=e.status||e.Status||"Pending",i=e.assigned||e.Assigned||"Unassigned",o=e.date||e.Date||e.createdAt||e.CreatedAt,c=e.estimatedHours||e.EstimatedHours||0,d=e.estimatedCost||e.EstimatedCost||0,u=e.quoteGenerated||e.QuoteGenerated||!1;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:a})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-title",children:s})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat(r),children:r})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat(l.toLowerCase().replace(" ","-")),children:l})}),(0,wt.jsx)("td",{children:i}),(0,wt.jsx)("td",{children:o?new Date(o).toLocaleDateString():"N/A"}),(0,wt.jsxs)("td",{children:[c,"h"]}),(0,wt.jsxs)("td",{children:["$",d.toLocaleString()]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat(u?"sent":"pending"),children:u?"Generated":"Pending"})}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(async e=>{w(!0),k(e),A({status:e.status||e.Status||"Pending",estimatedHours:e.estimatedHours||e.EstimatedHours||0,estimatedCost:e.estimatedCost||e.EstimatedCost||0})})(e),title:"Edit",children:"\u270f\ufe0f"}),!u&&(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(async e=>{try{const t={maintenanceId:e.id||e.ID,property:e.property||e.Property,issue:e.issue||e.Issue,amount:e.estimatedCost||e.EstimatedCost||0,recipient:"management@example.com"};await ts(t),se("Quote submitted successfully","success"),re()}catch(t){console.error("Error submitting quote:",t),se("Failed to submit quote","error")}})(e),title:"Generate Quote",style:{color:"#16a34a",marginLeft:"8px"},children:"\ud83d\udcb0"})]})]},n)})})]})})]}),pe=()=>(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Task Management"}),(0,wt.jsx)("p",{children:"Manage scheduled tasks and maintenance calendar"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>{k(null),A({status:"Pending",estimatedHours:0,estimatedCost:0}),w(!0)},children:[(0,wt.jsx)(Vt,{size:16}),"Create Task"]})]}),(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Priority Levels"}),(0,wt.jsx)("option",{value:"urgent",children:"Urgent"}),(0,wt.jsx)("option",{value:"high",children:"High"}),(0,wt.jsx)("option",{value:"normal",children:"Normal"}),(0,wt.jsx)("option",{value:"low",children:"Low"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"Pending",children:"Pending"}),(0,wt.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,wt.jsx)("option",{value:"Completed",children:"Completed"})]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Task Title"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Priority"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Est. Hours"}),(0,wt.jsx)("th",{children:"Est. Cost"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:0===h.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:9,className:"sa-table-empty",children:"No tasks found"})}):h.map((e,t)=>{const a=e.id||e.ID,r=e.issue||e.Issue||"Maintenance Task",l=e.property||e.Property,i=(e.priority||e.Priority||"normal").toLowerCase(),o=e.date||e.Date||e.createdAt||e.CreatedAt,c=e.status||e.Status||"Pending",d=e.estimatedHours||e.EstimatedHours||0,u=e.estimatedCost||e.EstimatedCost||0;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:r})}),(0,wt.jsx)("td",{children:l}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat(i),children:i})}),(0,wt.jsx)("td",{children:o?new Date(o).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat(c.toLowerCase().replace(" ","-")),children:c})}),(0,wt.jsxs)("td",{children:[d,"h"]}),(0,wt.jsxs)("td",{children:["$",u.toLocaleString()]}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(e=>{k(e),A({status:e.Status||e.status||"Pending",estimatedHours:e.EstimatedHours||e.estimatedHours||0,estimatedCost:e.EstimatedCost||e.estimatedCost||0,property:e.Property||e.property||"",issue:e.Issue||e.issue||"",priority:e.Priority||e.priority||"normal",assigned:e.Assigned||e.assigned||""}),w(!0)})(e),title:"View/Edit",children:"\u270f\ufe0f"}),"Completed"!==c&&(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(async e=>{s(!0);try{const t=e.id||e.ID;await ls(t,{status:"Completed"}),se("Task marked as completed","success"),re()}catch(t){console.error("Error completing task:",t),se("Failed to complete task","error")}finally{s(!1)}})(e),disabled:n,title:"Complete",style:{color:"#16a34a",marginLeft:"8px"},children:"\u2713"})]})]},a)})})]})})]}),fe=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e){case"overview":default:return ue();case"inspections":return he();case"inventories":return(()=>{const e=c.filter(e=>{const t=e.type||e.Type;return"Move-in"===t||"Move-out"===t});return(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Move-in and Move-out Inventories"}),(0,wt.jsx)("p",{children:"Create and manage detailed inventory reports"})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Type"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Inspector"}),(0,wt.jsx)("th",{children:"Notes"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:0===e.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"sa-table-empty",children:"No inventory inspections found"})}):e.map((e,t)=>{const n=e.id||e.ID,a=e.property||e.Property,s=e.type||e.Type,r=e.date||e.Date,l=e.inspector||e.Inspector,i=e.notes||e.Notes;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:a})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((s||"move-in").toLowerCase().replace(" ","-")),children:s||"Move-in"})}),(0,wt.jsx)("td",{children:r?new Date(r).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{children:l||"Unassigned"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-sub",children:i||"No notes"})}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",title:"View",children:"\ud83d\udc41\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",title:"Edit",children:"\u270f\ufe0f"})]})]},"inv-".concat(n))})})]})})]})})();case"maintenance":return me();case"quotes":return(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Submitted Quotes"}),(0,wt.jsx)("p",{children:"Track quotes sent to management and owners"})]})}),(0,wt.jsx)("div",{className:"sa-filters-section",children:(0,wt.jsxs)("select",{className:"sa-filter-select",value:z,onChange:e=>U(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"Sent",children:"Sent"}),(0,wt.jsx)("option",{value:"Approved",children:"Approved"}),(0,wt.jsx)("option",{value:"Rejected",children:"Rejected"})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Recipient"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Issue"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Status"})]})}),(0,wt.jsx)("tbody",{children:0===p.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"sa-table-empty",children:"No quotes found"})}):p.map((e,t)=>{const n=e.id||e.ID,a=e.date||e.Date||e.createdAt||e.CreatedAt,s=e.recipient||e.Recipient,r=e.property||e.Property,l=e.issue||e.Issue,i=e.amount||e.Amount||0,o=(e.status||e.Status||"Sent").toLowerCase();return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{children:a?new Date(a).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:s})}),(0,wt.jsx)("td",{children:r}),(0,wt.jsx)("td",{children:l}),(0,wt.jsxs)("td",{children:["$",i.toLocaleString()]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat(o),children:o})})]},n)})})]})})]});case"progress":return(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Work Progress Report"}),(0,wt.jsx)("p",{children:"Monitor progress of ongoing maintenance tasks"})]})}),(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",value:_,onChange:e=>q(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"Pending",children:"Pending"}),(0,wt.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,wt.jsx)("option",{value:"Completed",children:"Completed"})]}),(0,wt.jsxs)("select",{className:"sa-filter-select",value:V,onChange:e=>B(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Priority"}),(0,wt.jsx)("option",{value:"urgent",children:"Urgent"}),(0,wt.jsx)("option",{value:"high",children:"High"}),(0,wt.jsx)("option",{value:"normal",children:"Normal"}),(0,wt.jsx)("option",{value:"low",children:"Low"})]})]}),H&&(0,wt.jsx)("div",{style:{marginBottom:"20px",padding:"16px",background:"#f9fafb",borderRadius:"12px"},children:(0,wt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"#6b7280"},children:"Total Ongoing"}),(0,wt.jsx)("p",{style:{margin:"4px 0 0",fontSize:"1.2rem",fontWeight:600,color:"#111827"},children:H.totalOngoing||0})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"#6b7280"},children:"Total Completed"}),(0,wt.jsx)("p",{style:{margin:"4px 0 0",fontSize:"1.2rem",fontWeight:600,color:"#111827"},children:H.totalCompleted||0})]}),(0,wt.jsxs)("div",{children:[(0,wt.jsx)("p",{style:{margin:0,fontSize:"0.85rem",color:"#6b7280"},children:"Total Ongoing Cost"}),(0,wt.jsxs)("p",{style:{margin:"4px 0 0",fontSize:"1.2rem",fontWeight:600,color:"#111827"},children:["$",(H.totalOngoingCost||0).toLocaleString()]})]})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Issue"}),(0,wt.jsx)("th",{children:"Priority"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Assigned To"}),(0,wt.jsx)("th",{children:"Est. Cost"})]})}),(0,wt.jsx)("tbody",{children:0===i.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"sa-table-empty",children:"No maintenance requests found"})}):i.map((e,t)=>{const n=e.id||e.ID,a=e.property||e.Property,s=e.issue||e.Issue,r=(e.priority||e.Priority||"normal").toLowerCase(),l=e.status||e.Status||"Pending",i=e.assigned||e.Assigned||"Unassigned",o=e.estimatedCost||e.EstimatedCost||0;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:a})}),(0,wt.jsx)("td",{children:s}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat(r),children:r})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat(l.toLowerCase().replace(" ","-")),children:l})}),(0,wt.jsx)("td",{children:i}),(0,wt.jsxs)("td",{children:["$",o.toLocaleString()]})]},"prog-".concat(n))})})]})})]});case"tasks":return pe();case"chat":return(0,wt.jsx)("div",{className:"sa-chat-page",children:(0,wt.jsxs)("div",{className:"sa-chat-layout",children:[(0,wt.jsxs)("div",{className:"sa-chat-list",children:[(0,wt.jsx)("h3",{children:"Users"}),(0,wt.jsxs)("ul",{children:[$.map(e=>{const t=e.userId===X;return(0,wt.jsx)("li",{className:t?"active":"",onClick:()=>ie(e.userId),children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.name||"User"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||""}),e.role&&(0,wt.jsx)("span",{className:"sa-cell-sub",style:{fontSize:"0.75rem",color:"#6b7280"},children:e.role}),e.unreadCount>0&&(0,wt.jsxs)("span",{className:"sa-cell-sub",style:{color:"#2563eb",fontWeight:600,marginTop:"4px"},children:[e.unreadCount," unread"]})]})},e.userId)}),0===$.length&&(0,wt.jsx)("li",{style:{padding:"20px",textAlign:"center",color:"#9ca3af"},children:"No users available"})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-conversation",children:[(0,wt.jsxs)("div",{className:"sa-chat-header",children:[(0,wt.jsx)("h3",{children:"Messages"}),X&&(0,wt.jsxs)("span",{className:"sa-chat-subtitle",children:["Chat with"," ",($.find(e=>e.userId===X)||{}).name||"User"]})]}),(0,wt.jsxs)("div",{className:"sa-chat-messages",children:[Q.map((e,t)=>{const n=e.content||e.Content||"",a=e.createdAt||e.CreatedAt||"",s=e.fromUserId||e.FromUserId,r=e.id||e.ID||t,l=localStorage.getItem("user");let i=!1;if(l)try{const e=JSON.parse(l),t=e.id||e.ID;i=String(s)===String(t)}catch(Lr){}return(0,wt.jsxs)("div",{className:"sa-chat-bubble ".concat(i?"outgoing":"incoming"),children:[(0,wt.jsx)("p",{children:n}),(0,wt.jsx)("span",{className:"sa-chat-meta",children:a?new Date(a).toLocaleString():""})]},"msg-".concat(r))}),0===Q.length&&(0,wt.jsx)("div",{className:"sa-table-empty",children:"Select a conversation on the left to start chatting."}),(0,wt.jsx)("div",{ref:te})]}),(0,wt.jsxs)("div",{className:"sa-chat-input-row",children:[(0,wt.jsx)("input",{type:"text",placeholder:"Type a message...",value:Y,onChange:e=>Z(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ce())},disabled:!X}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:ce,disabled:!X||!Y.trim(),children:[(0,wt.jsx)(_n,{size:16}),"Send"]})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-details",children:[(0,wt.jsx)("h4",{children:"Contact Details"}),X?(()=>{const e=$.find(e=>e.userId===X)||{};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Name:"})," ",e.name||"User"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Email:"})," ",e.email||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Role:"})," ",e.role||"N/A"]}),e.company&&(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Company:"})," ",e.company]})]})})():(0,wt.jsx)("p",{children:"Select a user to view details."})]})]})});case"settings":return(0,wt.jsx)("div",{className:"embedded-settings",children:(0,wt.jsx)(hn,{})})}},xe=(0,a.useMemo)(()=>de.map(n=>d(d({},n),{},{onSelect:()=>t(n.id),active:e===n.id})),[de,e]);return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Operations",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:xe,activeId:e,onActiveChange:t,onLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},children:e=>{let{activeId:t}=e;return(0,wt.jsx)("div",{className:"content-body",children:fe(t)})}}),(0,wt.jsx)("div",{className:"notifications-container",children:ne.map(e=>(0,wt.jsxs)("div",{className:"notification notification-".concat(e.type),children:[(0,wt.jsx)("span",{children:e.message}),(0,wt.jsx)("button",{onClick:()=>ae(t=>t.filter(t=>t.id!==e.id)),children:"\xd7"})]},"notification-".concat(e.id)))}),g&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>y(!1),children:(0,wt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Add New Inspection"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>y(!1),children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0);try{const e=d(d({},j),{},{type:"move-in"===j.type?"Move-in":"move-out"===j.type?"Move-out":j.type});await Ka(e),se("Inspection created successfully","success"),y(!1),b({property:"",type:"Move-in",inspector:"",notes:""}),re()}catch(t){console.error("Error creating inspection:",t),se(t.message||"Failed to create inspection","error")}finally{s(!1)}},className:"modal-form",children:[(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"inspection-property",children:"Property *"}),(0,wt.jsx)("input",{type:"text",id:"inspection-property",value:j.property,onChange:e=>b(d(d({},j),{},{property:e.target.value})),placeholder:"Enter property address",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"inspection-type",children:"Inspection Type *"}),(0,wt.jsxs)("select",{id:"inspection-type",value:j.type,onChange:e=>b(d(d({},j),{},{type:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"routine",children:"Routine"}),(0,wt.jsx)("option",{value:"move-in",children:"Move-in"}),(0,wt.jsx)("option",{value:"move-out",children:"Move-out"}),(0,wt.jsx)("option",{value:"emergency",children:"Emergency"})]})]})]}),(0,wt.jsx)("div",{className:"form-row",children:(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"inspection-inspector",children:"Inspector *"}),(0,wt.jsx)("input",{type:"text",id:"inspection-inspector",value:j.inspector,onChange:e=>b(d(d({},j),{},{inspector:e.target.value})),placeholder:"Enter inspector name",required:!0})]})}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"inspection-notes",children:"Notes"}),(0,wt.jsx)("textarea",{id:"inspection-notes",value:j.notes,onChange:e=>b(d(d({},j),{},{notes:e.target.value})),placeholder:"Enter inspection notes",rows:"3"})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>y(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:n,children:n?"Adding...":"Add Inspection"})]})]})})]})}),N&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>{w(!1),k(null),A({status:"Pending",estimatedHours:0,estimatedCost:0})},children:(0,wt.jsxs)("div",{className:"modal-content large",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:S?"Task Details - ".concat(S.Issue||S.issue||"Maintenance Task"):"Create New Task"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>{w(!1),k(null),A({status:"Pending",estimatedHours:0,estimatedCost:0})},children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),s(!0);try{const e=(null===S||void 0===S?void 0:S.id)||(null===S||void 0===S?void 0:S.ID);if(e)await ls(e,C),se("Task updated successfully","success");else{const e={property:C.property||"",issue:C.issue||"Maintenance Task",priority:C.priority||"normal",estimatedHours:C.estimatedHours||0,estimatedCost:C.estimatedCost||0,assigned:C.assigned||""};await rs(e),se("Task created successfully","success")}w(!1),k(null),A({status:"",estimatedHours:0,estimatedCost:0}),re()}catch(t){console.error("Error updating/creating task:",t),se(t.message||"Failed to save task","error")}finally{s(!1)}},className:"modal-form",children:[(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsxs)("label",{htmlFor:"task-property",children:["Property ",!S&&"*"]}),(0,wt.jsx)("input",{type:"text",id:"task-property",value:S?S.Property||S.property||"":C.property||"",onChange:e=>{S||A(d(d({},C),{},{property:e.target.value}))},disabled:!!S,className:S?"disabled-input":"",required:!S,placeholder:"Enter property address"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsxs)("label",{htmlFor:"task-priority",children:["Priority ",!S&&"*"]}),S?(0,wt.jsx)("input",{type:"text",id:"task-priority",value:S.Priority||S.priority||"Medium",disabled:!0,className:"disabled-input"}):(0,wt.jsxs)("select",{id:"task-priority",value:C.priority||"normal",onChange:e=>A(d(d({},C),{},{priority:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"urgent",children:"Urgent"}),(0,wt.jsx)("option",{value:"high",children:"High"}),(0,wt.jsx)("option",{value:"normal",children:"Normal"}),(0,wt.jsx)("option",{value:"low",children:"Low"})]})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsxs)("label",{htmlFor:"task-issue",children:["Issue ",!S&&"*"]}),(0,wt.jsx)("textarea",{id:"task-issue",value:S?S.Issue||S.issue||"Maintenance Task":C.issue||"",onChange:e=>{S||A(d(d({},C),{},{issue:e.target.value}))},disabled:!!S,className:S?"disabled-input":"",rows:"2",required:!S,placeholder:"Describe the maintenance issue"})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"task-status",children:"Status *"}),(0,wt.jsxs)("select",{id:"task-status",value:C.status||"Pending",onChange:e=>A(d(d({},C),{},{status:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"Pending",children:"Pending"}),(0,wt.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,wt.jsx)("option",{value:"Completed",children:"Completed"}),(0,wt.jsx)("option",{value:"Scheduled",children:"Scheduled"})]})]}),!S&&(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"task-assigned",children:"Assigned To"}),(0,wt.jsx)("input",{type:"text",id:"task-assigned",value:C.assigned||"",onChange:e=>A(d(d({},C),{},{assigned:e.target.value})),placeholder:"Enter technician name"})]})]}),(0,wt.jsxs)("div",{className:"form-row",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"task-hours",children:"Estimated Hours"}),(0,wt.jsx)("input",{type:"number",id:"task-hours",value:C.estimatedHours||0,onChange:e=>A(d(d({},C),{},{estimatedHours:parseFloat(e.target.value)||0})),min:"0",step:"0.5",placeholder:"0"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"task-cost",children:"Estimated Cost ($)"}),(0,wt.jsx)("input",{type:"number",id:"task-cost",value:C.estimatedCost||0,onChange:e=>A(d(d({},C),{},{estimatedCost:parseFloat(e.target.value)||0})),min:"0",step:"0.01",placeholder:"0.00"})]})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>{w(!1),k(null),A({status:"Pending",estimatedHours:0,estimatedCost:0})},children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:n,children:n?S?"Updating...":"Creating...":S?"Update Task":"Create Task"})]})]})})]})}),E&&D&&(0,wt.jsx)("div",{className:"modal-overlay",onClick:()=>{P(!1),T(null),F(null)},children:(0,wt.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,wt.jsxs)("div",{className:"modal-header",children:[(0,wt.jsx)("h3",{children:"Upload Inspection Photo"}),(0,wt.jsx)("button",{className:"modal-close",onClick:()=>{P(!1),T(null),F(null)},children:"\xd7"})]}),(0,wt.jsx)("div",{className:"modal-body",children:(0,wt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),L&&D){s(!0);try{const e=D.id||D.ID;await Ya(e,L),se("Photo uploaded successfully","success"),P(!1),T(null),F(null),re()}catch(t){console.error("Error uploading photo:",t),se(t.message||"Failed to upload photo","error")}finally{s(!1)}}},className:"modal-form",children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"photo-inspection",children:"Inspection"}),(0,wt.jsx)("input",{type:"text",id:"photo-inspection",value:"".concat(D.property||D.Property||""," - ").concat(D.type||D.Type||""),disabled:!0,className:"disabled-input"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"photo-file",children:"Photo *"}),(0,wt.jsx)("input",{type:"file",id:"photo-file",accept:"image/*",onChange:e=>F(e.target.files[0]),required:!0}),L&&(0,wt.jsxs)("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"#6b7280"},children:["Selected: ",L.name]})]}),(0,wt.jsxs)("div",{className:"modal-footer",children:[(0,wt.jsx)("button",{type:"button",className:"action-button secondary",onClick:()=>{P(!1),T(null),F(null)},children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"action-button primary",disabled:n||!L,children:n?"Uploading...":"Upload Photo"})]})]})})]})})]})},os=Tt("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),cs=Tt("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ds=("".concat(sn.BASE_URL,"/api/landlord"),async()=>await ln(rn("/api/landlord/overview"))),us=async()=>await ln(rn("/api/landlord/properties")),hs=async e=>await ln(rn("/api/landlord/properties"),{method:"POST",body:JSON.stringify(e)}),ms=async()=>await ln(rn("/api/landlord/rents")),ps=async()=>await ln(rn("/api/landlord/payments")),fs=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/landlord/payments/net");const n=new URLSearchParams;return e.status&&n.append("status",e.status),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},xs=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/landlord/payments/history");const n=new URLSearchParams;return e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},vs=async e=>await ln(rn("/api/landlord/payments/receipt"),{method:"POST",body:JSON.stringify(e)}),gs=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/landlord/expenses");const n=new URLSearchParams;return e.property&&n.append("property",e.property),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),n.toString()&&(t+="?".concat(n.toString())),await ln(t)},ys=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rn("/api/landlord/reports/download");const n=new URLSearchParams;e.type&&n.append("type",e.type),e.startDate&&n.append("startDate",e.startDate),e.endDate&&n.append("endDate",e.endDate),n.toString()&&(t+="?".concat(n.toString()));const a=await fetch(t,{method:"GET",headers:{Authorization:localStorage.getItem("token")||""}});if(!a.ok)throw new Error("Failed to download report");const s=await a.blob(),r=window.URL.createObjectURL(s),l=document.createElement("a");return l.href=r,l.download="landlord-report-".concat((new Date).toISOString().slice(0,10),".json"),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(r),{message:"Report downloaded successfully"}},js=async()=>await ln(rn("/api/landlord/works")),bs=async e=>await ln(rn("/api/landlord/works"),{method:"POST",body:JSON.stringify(e)}),Ns=async()=>await ln(rn("/api/landlord/claims")),ws=async e=>await ln(rn("/api/landlord/claims"),{method:"POST",body:JSON.stringify(e)}),Ss=async()=>await ln(rn("/api/landlord/inventory")),ks=async e=>await ln(rn("/api/landlord/inventory"),{method:"POST",body:JSON.stringify(e)}),Cs=async()=>await ln(rn("/api/landlord/tracking")),As=()=>{const[e,t]=(0,a.useState)("overview"),[n,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[x,v]=(0,a.useState)(!1),[g,y]=(0,a.useState)([]),[j,b]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),[S,k]=(0,a.useState)([]),[C,A]=(0,a.useState)([]),[E,P]=(0,a.useState)(null),[D,T]=(0,a.useState)(null),[L,F]=(0,a.useState)(null),[R,O]=(0,a.useState)([]),[I,M]=(0,a.useState)([]),[z,U]=(0,a.useState)([]),[_,q]=(0,a.useState)([]),[V,B]=(0,a.useState)(null),[H,W]=(0,a.useState)([]),[$,J]=(0,a.useState)(null),[X,G]=(0,a.useState)([]),[Q,K]=(0,a.useState)(""),Y=(0,a.useRef)(!1),Z=(0,a.useRef)(null),[ee,te]=(0,a.useState)(""),[ne,ae]=(0,a.useState)(""),[se,re]=(0,a.useState)(""),[le,ie]=(0,a.useState)(""),[oe,ce]=(0,a.useState)(""),[de,ue]=(0,a.useState)(""),[he,me]=(0,a.useState)("all"),pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n="".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));y(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{y(e=>e.filter(e=>e.id!==n))},3e3)},fe=async()=>{try{b(!0);const[e,t,n,a,s,r,l,i,o]=await Promise.all([ds(),us(),ps(),ms().catch(()=>null),js(),Ns(),Ss(),Cs(),gs({property:le||void 0,startDate:oe||void 0,endDate:de||void 0}).catch(()=>[])]);w(e),k(Array.isArray(t)?t:[]),A(Array.isArray(n)?n:[]),P(a),M(Array.isArray(s)?s:[]),U(Array.isArray(r)?r:[]),q(Array.isArray(l)?l:[]),B(i),O(Array.isArray(o)?o:[])}catch(e){console.error("Error loading landlord data:",e),pe("Failed to load dashboard data","error")}finally{b(!1)}},xe=async()=>{try{const e=await fs({status:ee||void 0,startDate:ne||void 0,endDate:se||void 0});T(e)}catch(e){console.error("Error loading net payments:",e),pe("Failed to load net payments","error")}},ve=async()=>{try{const e=await xs({startDate:ne||void 0,endDate:se||void 0});F(e)}catch(e){console.error("Error loading payment history:",e),pe("Failed to load payment history","error")}};(0,a.useEffect)(()=>{fe()},[]),(0,a.useEffect)(()=>{"payments"===e&&(xe(),ve())},[ee,ne,se,e]),(0,a.useEffect)(()=>{"expenses"===e&&(async()=>{try{const e=await gs({property:le||void 0,startDate:oe||void 0,endDate:de||void 0});O(Array.isArray(e)?e:[])}catch(e){console.error("Error loading expenses:",e),pe("Failed to load expenses","error")}})()},[le,oe,de,e]);const ge=(0,a.useCallback)(async e=>{if(e)try{J(e);const n=await ca(e),a=Array.isArray(n)?n:[];G(a);try{await da(e)}catch(t){console.error("Error marking messages as read:",t)}}catch(n){console.error("Error loading chat:",n),pe("Failed to load conversation: ".concat(n.message||"Unknown error"),"error"),G([])}},[pe]),ye=(0,a.useCallback)(async()=>{if(Y.current)console.log("Users already loading, skipping...");else try{Y.current=!0,console.log("Loading users for messaging...");const n=await ua();console.log("Users API response:",n);let a=[];Array.isArray(n)?a=n:n&&Array.isArray(n.users)?a=n.users:n&&"object"===typeof n&&(a=Object.values(n).find(e=>Array.isArray(e))||[]),console.log("Processed users array:",a);const s=localStorage.getItem("user");let r=null;if(s)try{const e=JSON.parse(s);r=e.id||e.ID,console.log("Current user ID:",r)}catch(e){console.error("Error parsing stored user:",e)}const l=a.filter(e=>{const t=e.id||e.ID,n=t?String(t):null,a=r?String(r):null,s=n&&n!==a;return!s&&n&&console.log("Excluding user ".concat(n," (current user: ").concat(a,")")),s}).map(e=>({userId:e.id||e.ID,name:e.name||e.Name||"User",email:e.email||e.Email||"",role:e.role||e.Role||"",company:e.company||e.Company||"",status:e.status||e.Status||"Active",unreadCount:0})).sort((e,t)=>{const n=(e.name||"").toLowerCase(),a=(t.name||"").toLowerCase();return n.localeCompare(a)});console.log("Final chat users list:",l);try{const e=await oa();Array.isArray(e)&&e.forEach(e=>{const t=l.find(t=>String(t.userId)===String(e.userId));t&&e.unreadCount&&(t.unreadCount=e.unreadCount)})}catch(t){console.error("Error loading conversations for unread counts:",t)}W(l),J(e=>{if(l.length>0&&!e){const e=l[0].userId;return setTimeout(()=>{ge(e)},0),e}return e}),0===l.length&&(console.warn("No users found. This could mean:"),console.warn("1. No other users in the same company"),console.warn("2. API endpoint returned empty array"),console.warn("3. All users were filtered out"),pe("No users available for messaging","info"))}catch(e){console.error("Error loading users:",e),console.error("Error details:",e.message,e.stack),pe("Failed to load users: ".concat(e.message||"Unknown error"),"error"),W([])}finally{Y.current=!1}},[ge,pe]),je=async()=>{if(!Q.trim()||!$)return;const e=Q.trim(),t="temp-".concat(Date.now()),n=localStorage.getItem("user");let a=null;if(n)try{const e=JSON.parse(n);a=e.id||e.ID}catch(Lr){console.error("Error parsing user:",Lr)}const s={id:t,fromUserId:a,toUserId:$,content:e,read:!1,createdAt:(new Date).toISOString(),type:"message"};G(e=>[...e,s]),K(""),setTimeout(()=>{var e;null===(e=Z.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},100);try{const n=await ia({toUserId:$,content:e});G(e=>e.map(e=>e.id===t?n:e)),await ge($)}catch(r){console.error("Error sending message:",r),pe(r.message||"Failed to send message","error"),G(e=>e.filter(e=>e.id!==t)),K(e)}};(0,a.useEffect)(()=>{"chat"!==e||Y.current||ye()},[e]),(0,a.useEffect)(()=>{var e;null===(e=Z.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[X]);const be=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:zt},{id:"properties",label:"Property & Asset",icon:zt},{id:"payments",label:"Payments & Cash Flow",icon:Ut},{id:"rents",label:"Rents Tracking",icon:Ut},{id:"expenses",label:"Expenses",icon:Rt},{id:"works",label:"Works & Claims",icon:_t},{id:"documents",label:"Documents",icon:Rt},{id:"inventory",label:"Inventory",icon:os},{id:"tracking",label:"Business Tracking",icon:cs},{id:"chat",label:"Messaging",icon:_n},{id:"settings",label:"Profile Settings",icon:qt}],[]),Ne=()=>{var e,t;return(0,wt.jsx)("div",{className:"sa-overview-page",children:(0,wt.jsxs)("div",{className:"sa-overview-metrics",style:{width:"100%"},children:[(0,wt.jsxs)("div",{className:"sa-metric-card sa-metric-primary",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Properties"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:(null===N||void 0===N?void 0:N.totalProperties)||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Rent Collected"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[(null===N||void 0===N||null===(e=N.totalRent)||void 0===e?void 0:e.toLocaleString())||0," XOF"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Cash Flow"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[(null===N||void 0===N||null===(t=N.netCashFlow)||void 0===t?void 0:t.toLocaleString())||0," XOF"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Payment Rate"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[(null===N||void 0===N?void 0:N.paymentRate)||0,"%"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Active Tenants"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===N||void 0===N?void 0:N.activeTenants)||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Pending Claims"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===N||void 0===N?void 0:N.pendingClaims)||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Works in Progress"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===N||void 0===N?void 0:N.worksInProgress)||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Occupancy Rate"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[(null===N||void 0===N?void 0:N.occupancyRate)||0,"%"]})]})]})})},we=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e){case"overview":default:return Ne();case"properties":return(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Property Management"}),(0,wt.jsxs)("p",{children:[S.length," properties found"]})]}),(0,wt.jsx)("div",{className:"sa-clients-header-right",children:(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>o(!0),disabled:j,children:[(0,wt.jsx)(Vt,{size:16}),"Add New Property"]})})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Property Address"}),(0,wt.jsx)("th",{children:"Type"}),(0,wt.jsx)("th",{children:"Bedrooms"}),(0,wt.jsx)("th",{children:"Bathrooms"}),(0,wt.jsx)("th",{children:"Rent"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:0===S.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:8,className:"sa-table-empty",children:"No properties found"})}):S.map((e,t)=>{var n;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Address||"Unknown Address"})}),(0,wt.jsx)("td",{children:e.Type||"N/A"}),(0,wt.jsx)("td",{children:e.Bedrooms||0}),(0,wt.jsx)("td",{children:e.Bathrooms||0}),(0,wt.jsxs)("td",{children:[(null===(n=e.Rent)||void 0===n?void 0:n.toLocaleString())||0," XOF/month"]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||"vacant").toLowerCase()),children:e.Status||"Vacant"})}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",title:"View",children:"\ud83d\udc41\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",title:"Edit",children:"\u270f\ufe0f"})]})]},e.ID||"property-".concat(t))})})]})})]});case"payments":return(()=>{var e,t;return(0,wt.jsxs)("div",{className:"sa-transactions-page",children:[(0,wt.jsx)("div",{className:"sa-transactions-header",children:(0,wt.jsx)("h2",{children:"Payments & Cash Flow Management"})}),(0,wt.jsxs)("div",{className:"sa-transactions-tabs",children:[(0,wt.jsx)("button",{className:"sa-subtab-button ".concat("all"===he?"active":""),onClick:()=>me("all"),children:"All Payments"}),(0,wt.jsx)("button",{className:"sa-subtab-button ".concat("net"===he?"active":""),onClick:()=>{me("net"),xe()},children:"Net Payments"}),(0,wt.jsx)("button",{className:"sa-subtab-button ".concat("history"===he?"active":""),onClick:()=>{me("history"),ve()},children:"Payment History"})]}),"all"===he&&(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"All Payments"}),(0,wt.jsxs)("p",{children:[C.length," payment transactions found"]})]}),(0,wt.jsx)("div",{className:"sa-clients-header-right",children:(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>v(!0),disabled:j,children:[(0,wt.jsx)(fa,{size:16}),"Generate Receipt"]})})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Method"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:0===C.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:8,className:"sa-table-empty",children:"No payment transactions found"})}):C.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{children:new Date(e.Date||e.date||e.CreatedAt||e.createdAt).toLocaleDateString()}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Property||e.property||"Unknown"})}),(0,wt.jsx)("td",{children:e.Tenant||e.tenant||"Unknown"}),(0,wt.jsxs)("td",{children:[e.Amount||e.amount?(e.Amount||e.amount).toLocaleString():0," XOF"]}),(0,wt.jsx)("td",{children:e.Method||e.method||"Unknown"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||e.status||"pending").toLowerCase()),children:e.Status||e.status||"Pending"})}),(0,wt.jsx)("td",{className:"sa-row-actions",children:(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>v(!0),title:"Receipt",children:"\ud83e\uddfe"})})]},e.ID||e.id||"payment-".concat(t)))})]})})]}),"net"===he&&(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Net Payments After Commission"}),(0,wt.jsx)("p",{children:"View net payments after commission deduction"})]}),(0,wt.jsx)("div",{className:"sa-clients-header-right",children:(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",value:ee,onChange:e=>te(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"Pending",children:"Pending"}),(0,wt.jsx)("option",{value:"Paid",children:"Paid"})]}),(0,wt.jsx)("input",{type:"date",className:"sa-filter-select",value:ne,onChange:e=>ae(e.target.value),placeholder:"Start Date"}),(0,wt.jsx)("input",{type:"date",className:"sa-filter-select",value:se,onChange:e=>re(e.target.value),placeholder:"End Date"})]})})]}),D&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"sa-overview-metrics",style:{marginBottom:"24px"},children:[(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Net Amount"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[(null===(e=D.totalNetAmount)||void 0===e?void 0:e.toLocaleString())||0," XOF"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Commission"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[(null===(t=D.totalCommission)||void 0===t?void 0:t.toLocaleString())||0," XOF"]})]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Landlord"}),(0,wt.jsx)("th",{children:"Building"}),(0,wt.jsx)("th",{children:"Net Amount"}),(0,wt.jsx)("th",{children:"Commission"}),(0,wt.jsx)("th",{children:"Status"})]})}),(0,wt.jsx)("tbody",{children:D.payments&&0!==D.payments.length?D.payments.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{children:new Date(e.date||e.Date).toLocaleDateString()}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.landlord||e.Landlord||"Unknown"})}),(0,wt.jsx)("td",{children:e.building||e.Building||"Unknown"}),(0,wt.jsxs)("td",{children:[(e.netAmount||e.NetAmount||0).toLocaleString()," XOF"]}),(0,wt.jsxs)("td",{children:[(e.commission||e.Commission||0).toLocaleString()," XOF"]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||e.Status||"pending").toLowerCase()),children:e.status||e.Status||"Pending"})})]},e.id||e.ID||"net-payment-".concat(t))):(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"sa-table-empty",children:"No net payments found"})})})]})})]})]}),"history"===he&&(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Payment & Payout History"}),(0,wt.jsx)("p",{children:"View payment and payout history"})]}),(0,wt.jsx)("div",{className:"sa-clients-header-right",children:(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsx)("input",{type:"date",className:"sa-filter-select",value:ne,onChange:e=>ae(e.target.value),placeholder:"Start Date"}),(0,wt.jsx)("input",{type:"date",className:"sa-filter-select",value:se,onChange:e=>re(e.target.value),placeholder:"End Date"})]})})]}),L&&(0,wt.jsxs)(wt.Fragment,{children:[L.rentPayments&&L.rentPayments.length>0&&(0,wt.jsxs)("div",{className:"sa-section-card",style:{marginBottom:"24px"},children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Rent Payments"}),(0,wt.jsx)("p",{children:"Collected rent payments"})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Status"})]})}),(0,wt.jsx)("tbody",{children:L.rentPayments.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{children:new Date(e.date||e.Date).toLocaleDateString()}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.tenant||e.Tenant||"Unknown"})}),(0,wt.jsx)("td",{children:e.property||e.Property||"Unknown"}),(0,wt.jsxs)("td",{children:[(e.amount||e.Amount||0).toLocaleString()," XOF"]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||e.Status||"pending").toLowerCase()),children:e.status||e.Status||"Pending"})})]},e.id||e.ID||"rent-".concat(t)))})]})})]}),L.payouts&&L.payouts.length>0&&(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Payouts"}),(0,wt.jsx)("p",{children:"Net payments after commission"})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Landlord"}),(0,wt.jsx)("th",{children:"Building"}),(0,wt.jsx)("th",{children:"Net Amount"}),(0,wt.jsx)("th",{children:"Commission"}),(0,wt.jsx)("th",{children:"Status"})]})}),(0,wt.jsx)("tbody",{children:L.payouts.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{children:new Date(e.date||e.Date).toLocaleDateString()}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.landlord||e.Landlord||"Unknown"})}),(0,wt.jsx)("td",{children:e.building||e.Building||"Unknown"}),(0,wt.jsxs)("td",{children:[(e.netAmount||e.NetAmount||0).toLocaleString()," XOF"]}),(0,wt.jsxs)("td",{children:[(e.commission||e.Commission||0).toLocaleString()," XOF"]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||e.Status||"pending").toLowerCase()),children:e.status||e.Status||"Pending"})})]},e.id||e.ID||"payout-".concat(t)))})]})})]})]})]})]})})();case"rents":return(()=>{var e,t;return(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Rents Tracking"}),(0,wt.jsx)("p",{children:"Track collected and pending rents"})]}),(0,wt.jsx)("div",{className:"sa-clients-header-right",children:(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:async()=>{try{await ys({type:"financial"}),pe("Report downloaded successfully","success")}catch(e){pe("Failed to download report","error")}},disabled:j,children:[(0,wt.jsx)(Rt,{size:16}),"Download Report"]})})]}),E&&(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"sa-overview-metrics",style:{marginBottom:"24px"},children:[(0,wt.jsxs)("div",{className:"sa-metric-card sa-metric-primary",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Collected"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[(null===(e=E.totalCollected)||void 0===e?void 0:e.toLocaleString())||0," XOF"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Pending"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[(null===(t=E.totalPending)||void 0===t?void 0:t.toLocaleString())||0," XOF"]})]})]}),E.collectedRents&&E.collectedRents.length>0&&(0,wt.jsxs)("div",{className:"sa-section-card",style:{marginBottom:"24px"},children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Collected Rents"}),(0,wt.jsxs)("p",{children:[E.collectedRents.length," collected rent payments"]})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Method"}),(0,wt.jsx)("th",{children:"Status"})]})}),(0,wt.jsx)("tbody",{children:E.collectedRents.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{children:new Date(e.date||e.Date).toLocaleDateString()}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.tenant||e.Tenant||"Unknown"})}),(0,wt.jsx)("td",{children:e.property||e.Property||"Unknown"}),(0,wt.jsxs)("td",{children:[(e.amount||e.Amount||0).toLocaleString()," XOF"]}),(0,wt.jsx)("td",{children:e.method||e.Method||"Unknown"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||e.Status||"approved").toLowerCase()),children:e.status||e.Status||"Approved"})})]},e.id||e.ID||"collected-".concat(t)))})]})})]}),E.pendingRents&&E.pendingRents.length>0&&(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Pending Rents"}),(0,wt.jsxs)("p",{children:[E.pendingRents.length," pending rent payments"]})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Status"})]})}),(0,wt.jsx)("tbody",{children:E.pendingRents.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.tenant||e.Tenant||"Unknown"})}),(0,wt.jsx)("td",{children:e.property||e.Property||"Unknown"}),(0,wt.jsxs)("td",{children:[(e.amount||e.Amount||0).toLocaleString()," XOF"]}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||e.Status||"pending").toLowerCase()),children:e.status||e.Status||"Pending"})})]},e.id||e.ID||"pending-".concat(t)))})]})})]})]})]})})();case"expenses":return(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Expenses Management"}),(0,wt.jsx)("p",{children:"Review expenses per property"})]}),(0,wt.jsx)("div",{className:"sa-clients-header-right",children:(0,wt.jsxs)("div",{className:"sa-filters-section",children:[(0,wt.jsxs)("select",{className:"sa-filter-select",value:le,onChange:e=>ie(e.target.value),children:[(0,wt.jsx)("option",{value:"",children:"All Properties"}),S.map(e=>(0,wt.jsx)("option",{value:e.Address||e.address,children:e.Address||e.address},e.id||e.ID))]}),(0,wt.jsx)("input",{type:"date",className:"sa-filter-select",value:oe,onChange:e=>ce(e.target.value),placeholder:"Start Date"}),(0,wt.jsx)("input",{type:"date",className:"sa-filter-select",value:de,onChange:e=>ue(e.target.value),placeholder:"End Date"})]})})]}),R.length>0&&R[0].property?R.map((e,t)=>{var n;return(0,wt.jsxs)("div",{className:"sa-section-card",style:{marginBottom:"24px"},children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:e.property||"Unknown Property"}),(0,wt.jsxs)("p",{children:["Total: ",(null===(n=e.total)||void 0===n?void 0:n.toLocaleString())||0," XOF"]})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Category"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Notes"})]})}),(0,wt.jsx)("tbody",{children:e.expenses&&e.expenses.length>0?e.expenses.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{children:new Date(e.date||e.Date).toLocaleDateString()}),(0,wt.jsx)("td",{children:e.category||e.Category||"N/A"}),(0,wt.jsxs)("td",{children:[(e.amount||e.Amount||0).toLocaleString()," XOF"]}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.notes||e.Notes||"N/A"})})]},e.id||e.ID||"expense-".concat(t))):(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:5,className:"sa-table-empty",children:"No expenses for this property"})})})]})})]},e.property||"property-".concat(t))}):(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Category"}),(0,wt.jsx)("th",{children:"Amount"}),(0,wt.jsx)("th",{children:"Notes"})]})}),(0,wt.jsx)("tbody",{children:0===R.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:6,className:"sa-table-empty",children:"No expenses found"})}):R.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{children:new Date(e.date||e.Date).toLocaleDateString()}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.building||e.Building||e.property||e.Property||"Unknown"})}),(0,wt.jsx)("td",{children:e.category||e.Category||"N/A"}),(0,wt.jsxs)("td",{children:[(e.amount||e.Amount||0).toLocaleString()," XOF"]}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.notes||e.Notes||"N/A"})})]},e.id||e.ID||"expense-".concat(t)))})]})})]});case"works":return(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Works & Interventions Management"}),(0,wt.jsx)("p",{children:"Track maintenance works, interventions, and automatic claims management"})]}),(0,wt.jsx)("div",{className:"sa-clients-header-right",children:(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>u(!0),disabled:j,children:[(0,wt.jsx)(Vt,{size:16}),"Create Work Order"]})})]}),I.length>0&&(0,wt.jsxs)("div",{className:"sa-section-card",style:{marginBottom:"24px"},children:[(0,wt.jsx)("div",{className:"sa-section-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Work Orders"}),(0,wt.jsx)("p",{children:"Maintenance and intervention requests"})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Title"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Description"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:I.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Title||e.title||"N/A"})}),(0,wt.jsx)("td",{children:e.Property||e.property||"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.Description||e.description||"N/A"})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||e.status||"pending").toLowerCase()),children:e.Status||e.status||"Pending"})}),(0,wt.jsx)("td",{children:e.Date?new Date(e.Date).toLocaleDateString():e.date?new Date(e.date).toLocaleDateString():"N/A"}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",title:"View",children:"\ud83d\udc41\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",title:"Edit",children:"\u270f\ufe0f"})]})]},e.ID||"work-".concat(t)))})]})})]}),(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h3",{children:"Claims"}),(0,wt.jsx)("p",{children:"Property claims and requests"})]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>m(!0),disabled:j,children:[(0,wt.jsx)(Vt,{size:16}),"Create Claim"]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Title"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Description"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:0===z.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"sa-table-empty",children:"No claims found"})}):z.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Title||e.title||"N/A"})}),(0,wt.jsx)("td",{children:e.Property||e.property||"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.Description||e.description||"N/A"})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||e.status||"pending").toLowerCase()),children:e.Status||e.status||"Pending"})}),(0,wt.jsx)("td",{children:e.Date?new Date(e.Date).toLocaleDateString():e.date?new Date(e.date).toLocaleDateString():"N/A"}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",title:"View",children:"\ud83d\udc41\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",title:"Edit",children:"\u270f\ufe0f"})]})]},e.ID||"claim-".concat(t)))})]})})]})]});case"documents":return(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Document Management"}),(0,wt.jsx)("p",{children:"Upload and manage your property documents and contracts"})]}),(0,wt.jsxs)("div",{className:"sa-clients-header-right",children:[(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>s(!0),disabled:j,children:[(0,wt.jsx)(Ot,{size:16}),"Upload KYC Documents"]}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>l(!0),disabled:j,children:[(0,wt.jsx)(Vt,{size:16}),"Upload Essential Contract"]})]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Document Name"}),(0,wt.jsx)("th",{children:"Type"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Upload Date"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsxs)("tbody",{children:[(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:"1"}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:"Property Deed"})}),(0,wt.jsx)("td",{children:"KYC Document"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill active",children:"Approved"})}),(0,wt.jsx)("td",{children:"Nov 15, 2024"}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",title:"View",children:"\ud83d\udc41\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",title:"Download",children:"\u2b07\ufe0f"})]})]}),(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:"2"}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:"Lease Agreement"})}),(0,wt.jsx)("td",{children:"Contract"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill pending",children:"Pending Review"})}),(0,wt.jsx)("td",{children:"Nov 10, 2024"}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",title:"View",children:"\ud83d\udc41\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",title:"Download",children:"\u2b07\ufe0f"})]})]})]})]})})]});case"inventory":return(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Inventory Management"}),(0,wt.jsxs)("p",{children:[_.length," inventory items found"]})]}),(0,wt.jsx)("div",{className:"sa-clients-header-right",children:(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>f(!0),disabled:j,children:[(0,wt.jsx)(Vt,{size:16}),"Add New Inventory"]})})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Item Name"}),(0,wt.jsx)("th",{children:"Category"}),(0,wt.jsx)("th",{children:"Quantity"}),(0,wt.jsx)("th",{children:"Condition"}),(0,wt.jsx)("th",{children:"Last Updated"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsx)("tbody",{children:0===_.length?(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:8,className:"sa-table-empty",children:"No inventory found"})}):_.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Property||e.property||"N/A"})}),(0,wt.jsx)("td",{children:e.ItemName||e.itemName||e.Name||e.name||"N/A"}),(0,wt.jsx)("td",{children:e.Category||e.category||"N/A"}),(0,wt.jsx)("td",{children:e.Quantity||e.quantity||0}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Condition||e.condition||"good").toLowerCase()),children:e.Condition||e.condition||"Good"})}),(0,wt.jsx)("td",{children:e.UpdatedAt?new Date(e.UpdatedAt).toLocaleDateString():e.updatedAt?new Date(e.updatedAt).toLocaleDateString():"N/A"}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",title:"View",children:"\ud83d\udc41\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",title:"Edit",children:"\u270f\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",title:"Delete",style:{color:"#dc2626",marginLeft:"8px"},children:"\ud83d\uddd1\ufe0f"})]})]},e.ID||e.id||"inventory-".concat(t)))})]})})]});case"tracking":return(()=>{var e;return(0,wt.jsx)("div",{className:"sa-overview-page",children:(0,wt.jsxs)("div",{className:"sa-overview-metrics",style:{width:"100%"},children:[(0,wt.jsxs)("div",{className:"sa-metric-card sa-metric-primary",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Revenue Trends"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:(null===V||void 0===V?void 0:V.revenueTrends)||"+12%"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Occupancy Rate"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[(null===V||void 0===V?void 0:V.occupancyRate)||80,"%"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Maintenance Costs"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[(null===V||void 0===V||null===(e=V.maintenanceCosts)||void 0===e?void 0:e.toLocaleString())||"2,400"," XOF"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"ROI"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[(null===V||void 0===V?void 0:V.roi)||"8.5","%"]})]}),(null===V||void 0===V?void 0:V.totalRevenue)&&(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Revenue"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[V.totalRevenue.toLocaleString()," XOF"]})]}),(null===V||void 0===V?void 0:V.netProfit)&&(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Net Profit"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[V.netProfit.toLocaleString()," XOF"]})]})]})})})();case"chat":return(0,wt.jsx)("div",{className:"sa-chat-page",children:(0,wt.jsxs)("div",{className:"sa-chat-layout",children:[(0,wt.jsxs)("div",{className:"sa-chat-list",children:[(0,wt.jsx)("h3",{children:"Users"}),(0,wt.jsxs)("ul",{children:[H.map(e=>{const t=e.userId===$;return(0,wt.jsx)("li",{className:t?"active":"",onClick:()=>ge(e.userId),children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.name||"User"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||""}),e.role&&(0,wt.jsx)("span",{className:"sa-cell-sub",style:{fontSize:"0.75rem",color:"#6b7280"},children:e.role}),e.unreadCount>0&&(0,wt.jsxs)("span",{className:"sa-cell-sub",style:{color:"#2563eb",fontWeight:600,marginTop:"4px"},children:[e.unreadCount," unread"]})]})},"chat-user-".concat(e.userId))}),0===H.length&&(0,wt.jsx)("li",{style:{padding:"20px",textAlign:"center",color:"#9ca3af"},children:"No users available"})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-conversation",children:[(0,wt.jsxs)("div",{className:"sa-chat-header",children:[(0,wt.jsx)("h3",{children:"Messages"}),$&&(0,wt.jsxs)("span",{className:"sa-chat-subtitle",children:["Chat with"," ",(H.find(e=>e.userId===$)||{}).name||"User"]})]}),(0,wt.jsxs)("div",{className:"sa-chat-messages",children:[X.map((e,t)=>{const n=e.content||e.Content||"",a=e.createdAt||e.CreatedAt||"",s=e.fromUserId||e.FromUserId,r=e.id||e.ID||t,l=localStorage.getItem("user");let i=!1;if(l)try{const e=JSON.parse(l),t=e.id||e.ID;i=String(s)===String(t)}catch(Lr){}return(0,wt.jsxs)("div",{className:"sa-chat-bubble ".concat(i?"outgoing":"incoming"),children:[(0,wt.jsx)("p",{children:n}),(0,wt.jsx)("span",{className:"sa-chat-meta",children:a?new Date(a).toLocaleString():""})]},"msg-".concat(r))}),0===X.length&&(0,wt.jsx)("div",{className:"sa-table-empty",children:$?"No messages yet. Start the conversation!":"Select a conversation on the left to start messaging."}),(0,wt.jsx)("div",{ref:Z})]}),(0,wt.jsxs)("div",{className:"sa-chat-input-row",children:[(0,wt.jsx)("input",{type:"text",placeholder:"Reply...",value:Q,onChange:e=>K(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),je())},disabled:!$}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:je,disabled:!$||!Q.trim(),children:[(0,wt.jsx)(_n,{size:16}),"Send"]})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-details",children:[(0,wt.jsx)("h4",{children:"Contact Details"}),$?(()=>{const e=H.find(e=>e.userId===$)||{};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Name:"})," ",e.name||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Email:"})," ",e.email||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Role:"})," ",e.role||"N/A"]}),e.company&&(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Company:"})," ",e.company]})]})})():(0,wt.jsx)("p",{children:"Select a conversation to view details."})]})]})});case"settings":return(0,wt.jsx)("div",{className:"embedded-settings",children:(0,wt.jsx)(hn,{})})}},Se=(0,a.useMemo)(()=>be.map(n=>d(d({},n),{},{onSelect:()=>t(n.id),active:e===n.id})),[be,e]);return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Landlord Portal",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:Se,activeId:e,onActiveChange:t,onLogout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/"},children:e=>{let{activeId:t}=e;return(0,wt.jsx)("div",{className:"content-body",children:we(t)})}}),(0,wt.jsx)("div",{className:"notifications-container",children:g.map(e=>(0,wt.jsxs)("div",{className:"notification notification-".concat(e.type),children:[(0,wt.jsx)("span",{children:e.message}),(0,wt.jsx)("button",{onClick:()=>y(t=>t.filter(t=>t.id!==e.id)),children:"\xd7"})]},e.id))}),(0,wt.jsx)(St,{isOpen:n,onClose:()=>s(!1),title:"Upload KYC Documents",size:"lg",children:(0,wt.jsx)(Da,{userRole:"landlord",onUpload:(e,t)=>{console.log("KYC files uploaded:",e,"for role:",t),pe("KYC documents uploaded successfully!","success")},onClose:()=>s(!1)})}),(0,wt.jsx)(St,{isOpen:r,onClose:()=>l(!1),title:"Upload Essential Contract",size:"xl",children:(0,wt.jsx)(Ta,{userRole:"landlord",onUpload:(e,t,n)=>{console.log("Contract uploaded:",e,t,"for role:",n),pe("Contract uploaded successfully!","success")},onClose:()=>l(!1)})}),(0,wt.jsx)(St,{isOpen:i,onClose:()=>o(!1),title:"Add New Property",size:"lg",children:(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{try{await hs(e),pe("Property added successfully","success"),o(!1),fe()}catch(t){console.error("Error adding property:",t),pe("Failed to add property","error")}})({address:t.get("address"),type:t.get("type"),bedrooms:parseInt(t.get("bedrooms")),bathrooms:parseFloat(t.get("bathrooms")),rent:parseFloat(t.get("rent")),landlordId:1})},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Address"}),(0,wt.jsx)("input",{type:"text",name:"address",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property Type"}),(0,wt.jsxs)("select",{name:"type",required:!0,children:[(0,wt.jsx)("option",{value:"apartment",children:"Apartment"}),(0,wt.jsx)("option",{value:"house",children:"House"}),(0,wt.jsx)("option",{value:"condo",children:"Condo"}),(0,wt.jsx)("option",{value:"studio",children:"Studio"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Bedrooms"}),(0,wt.jsx)("input",{type:"number",name:"bedrooms",min:"0",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Bathrooms"}),(0,wt.jsx)("input",{type:"number",name:"bathrooms",min:"0",step:"0.5",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Monthly Rent (XOF)"}),(0,wt.jsx)("input",{type:"number",name:"rent",min:"0",step:"0.01",required:!0})]}),(0,wt.jsxs)("div",{className:"modal-actions",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>o(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",disabled:j,children:"Add Property"})]})]})}),(0,wt.jsx)(St,{isOpen:c,onClose:()=>u(!1),title:"Create Work Order",size:"lg",children:(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{try{await bs(e),pe("Work order created successfully","success"),u(!1),fe()}catch(t){console.error("Error creating work order:",t),pe("Failed to create work order","error")}})({property:t.get("property"),type:t.get("type"),priority:t.get("priority"),description:t.get("description"),assignedTo:t.get("assignedTo")||null,amount:t.get("amount")?parseFloat(t.get("amount")):null})},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property"}),(0,wt.jsx)("input",{type:"text",name:"property",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Work Type"}),(0,wt.jsxs)("select",{name:"type",required:!0,children:[(0,wt.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,wt.jsx)("option",{value:"repair",children:"Repair"}),(0,wt.jsx)("option",{value:"renovation",children:"Renovation"}),(0,wt.jsx)("option",{value:"cleaning",children:"Cleaning"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Priority"}),(0,wt.jsxs)("select",{name:"priority",required:!0,children:[(0,wt.jsx)("option",{value:"low",children:"Low"}),(0,wt.jsx)("option",{value:"medium",children:"Medium"}),(0,wt.jsx)("option",{value:"high",children:"High"}),(0,wt.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Description"}),(0,wt.jsx)("textarea",{name:"description",rows:"4",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Assigned To (Optional)"}),(0,wt.jsx)("input",{type:"text",name:"assignedTo"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Estimated Cost (XOF)"}),(0,wt.jsx)("input",{type:"number",name:"amount",min:"0",step:"0.01"})]}),(0,wt.jsxs)("div",{className:"modal-actions",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>u(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",disabled:j,children:"Create Work Order"})]})]})}),(0,wt.jsx)(St,{isOpen:h,onClose:()=>m(!1),title:"Create Claim",size:"lg",children:(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{try{await ws(e),pe("Claim created successfully","success"),m(!1),fe()}catch(t){console.error("Error creating claim:",t),pe("Failed to create claim","error")}})({property:t.get("property"),type:t.get("type"),description:t.get("description"),amount:t.get("amount")?parseFloat(t.get("amount")):null})},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property"}),(0,wt.jsx)("input",{type:"text",name:"property",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Claim Type"}),(0,wt.jsxs)("select",{name:"type",required:!0,children:[(0,wt.jsx)("option",{value:"damage",children:"Damage"}),(0,wt.jsx)("option",{value:"insurance",children:"Insurance"}),(0,wt.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,wt.jsx)("option",{value:"other",children:"Other"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Description"}),(0,wt.jsx)("textarea",{name:"description",rows:"4",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Claim Amount (XOF)"}),(0,wt.jsx)("input",{type:"number",name:"amount",min:"0",step:"0.01"})]}),(0,wt.jsxs)("div",{className:"modal-actions",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>m(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",disabled:j,children:"Create Claim"})]})]})}),(0,wt.jsx)(St,{isOpen:p,onClose:()=>f(!1),title:"Add Inventory",size:"lg",children:(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{try{await ks(e),pe("Inventory added successfully","success"),f(!1),fe()}catch(t){console.error("Error adding inventory:",t),pe("Failed to add inventory","error")}})({property:t.get("property"),type:t.get("type"),inspector:t.get("inspector")})},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property"}),(0,wt.jsx)("input",{type:"text",name:"property",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Inventory Type"}),(0,wt.jsxs)("select",{name:"type",required:!0,children:[(0,wt.jsx)("option",{value:"move-in",children:"Move-in"}),(0,wt.jsx)("option",{value:"move-out",children:"Move-out"}),(0,wt.jsx)("option",{value:"routine",children:"Routine"}),(0,wt.jsx)("option",{value:"emergency",children:"Emergency"})]})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Inspector"}),(0,wt.jsx)("input",{type:"text",name:"inspector",required:!0})]}),(0,wt.jsxs)("div",{className:"modal-actions",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>f(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",disabled:j,children:"Add Inventory"})]})]})}),(0,wt.jsx)(St,{isOpen:x,onClose:()=>v(!1),title:"Generate Receipt",size:"lg",children:(0,wt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{try{const t=await vs(e);pe("Receipt generated successfully","success"),v(!1),console.log("Generated receipt:",t)}catch(t){console.error("Error generating receipt:",t),pe("Failed to generate receipt","error")}})({receiptNumber:t.get("receiptNumber"),date:t.get("date"),landlord:t.get("landlord"),property:t.get("property"),tenant:t.get("tenant"),amount:parseFloat(t.get("amount")),period:t.get("period"),description:t.get("description")})},children:[(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Receipt Number"}),(0,wt.jsx)("input",{type:"text",name:"receiptNumber",placeholder:"Auto-generated if empty"})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Date"}),(0,wt.jsx)("input",{type:"date",name:"date",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Landlord"}),(0,wt.jsx)("input",{type:"text",name:"landlord",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Property"}),(0,wt.jsx)("input",{type:"text",name:"property",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Tenant"}),(0,wt.jsx)("input",{type:"text",name:"tenant",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Amount (XOF)"}),(0,wt.jsx)("input",{type:"number",name:"amount",min:"0",step:"0.01",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Period"}),(0,wt.jsx)("input",{type:"text",name:"period",placeholder:"e.g., January 2024",required:!0})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{children:"Description"}),(0,wt.jsx)("textarea",{name:"description",rows:"3"})]}),(0,wt.jsxs)("div",{className:"modal-actions",children:[(0,wt.jsx)("button",{type:"button",onClick:()=>v(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",disabled:j,children:"Generate Receipt"})]})]})})]})},Es=Tt("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ps=Tt("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ds=()=>{const[e,t]=(0,a.useState)("overview"),n=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:Sn},{id:"automation",label:"Automation",icon:qt},{id:"alerts",label:"Alerts",icon:Gt},{id:"kpis",label:"Real-time KPIs",icon:Es}],[]),s=()=>(0,wt.jsxs)("div",{className:"overview-section panel",children:[(0,wt.jsxs)("div",{className:"stats-grid",children:[(0,wt.jsxs)("div",{className:"stat-card",children:[(0,wt.jsx)("div",{className:"stat-icon",children:(0,wt.jsx)(Sn,{size:24})}),(0,wt.jsxs)("div",{className:"stat-content",children:[(0,wt.jsx)("h3",{children:"Global Occupancy Rate"}),(0,wt.jsx)("p",{children:"Properties occupied"}),(0,wt.jsx)("span",{className:"stat-value",children:"84%"})]})]}),(0,wt.jsxs)("div",{className:"stat-card",children:[(0,wt.jsx)("div",{className:"stat-icon",children:(0,wt.jsx)(Es,{size:24})}),(0,wt.jsxs)("div",{className:"stat-content",children:[(0,wt.jsx)("h3",{children:"Total Properties Under Management"}),(0,wt.jsx)("p",{children:"Active properties"}),(0,wt.jsx)("span",{className:"stat-value",children:"156"})]})]}),(0,wt.jsxs)("div",{className:"stat-card",children:[(0,wt.jsx)("div",{className:"stat-icon",children:(0,wt.jsx)(Gt,{size:24})}),(0,wt.jsxs)("div",{className:"stat-content",children:[(0,wt.jsx)("h3",{children:"Total Collected Revenue"}),(0,wt.jsx)("p",{children:"This month"}),(0,wt.jsx)("span",{className:"stat-value",children:"$245,600"})]})]}),(0,wt.jsxs)("div",{className:"stat-card",children:[(0,wt.jsx)("div",{className:"stat-icon",children:(0,wt.jsx)(Lt,{size:24})}),(0,wt.jsxs)("div",{className:"stat-content",children:[(0,wt.jsx)("h3",{children:"Total Active Alerts"}),(0,wt.jsx)("p",{children:"System alerts"}),(0,wt.jsx)("span",{className:"stat-value",children:"12"})]})]})]}),(0,wt.jsxs)("div",{className:"automation-status",children:[(0,wt.jsx)("h3",{children:"Automation Status"}),(0,wt.jsxs)("div",{className:"status-list",children:[(0,wt.jsxs)("div",{className:"status-item active",children:[(0,wt.jsx)("div",{className:"status-indicator"}),(0,wt.jsxs)("div",{className:"status-content",children:[(0,wt.jsx)("h4",{children:"Auto-calculate Landlord Payouts"}),(0,wt.jsx)("p",{children:"Automatically calculating and processing landlord payments"})]}),(0,wt.jsx)("span",{className:"status-badge active",children:"Active"})]}),(0,wt.jsxs)("div",{className:"status-item active",children:[(0,wt.jsx)("div",{className:"status-indicator"}),(0,wt.jsxs)("div",{className:"status-content",children:[(0,wt.jsx)("h4",{children:"Auto-deduct Company Commission"}),(0,wt.jsx)("p",{children:"Automatically deducting commission from landlord payments"})]}),(0,wt.jsx)("span",{className:"status-badge active",children:"Active"})]}),(0,wt.jsxs)("div",{className:"status-item active",children:[(0,wt.jsx)("div",{className:"status-indicator"}),(0,wt.jsxs)("div",{className:"status-content",children:[(0,wt.jsx)("h4",{children:"Generate Alerts"}),(0,wt.jsx)("p",{children:"Monitoring and generating alerts for critical events"})]}),(0,wt.jsx)("span",{className:"status-badge active",children:"Active"})]}),(0,wt.jsxs)("div",{className:"status-item active",children:[(0,wt.jsx)("div",{className:"status-indicator"}),(0,wt.jsxs)("div",{className:"status-content",children:[(0,wt.jsx)("h4",{children:"Real-time KPIs Update"}),(0,wt.jsx)("p",{children:"Updating key performance indicators in real-time"})]}),(0,wt.jsx)("span",{className:"status-badge active",children:"Active"})]})]})]})]}),r=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e){case"overview":default:return s();case"automation":return(0,wt.jsxs)("div",{className:"automation-section panel",children:[(0,wt.jsxs)("div",{className:"section-header",children:[(0,wt.jsx)("h3",{children:"Automation & Processing"}),(0,wt.jsx)("p",{children:"Manage automated workflows and system processes"})]}),(0,wt.jsxs)("div",{className:"automation-grid",children:[(0,wt.jsxs)("div",{className:"automation-card",children:[(0,wt.jsxs)("div",{className:"card-header",children:[(0,wt.jsx)("h4",{children:"Auto-calculate Landlord Payouts"}),(0,wt.jsx)("div",{className:"status-indicator active",children:"Active"})]}),(0,wt.jsx)("p",{children:"Automatically calculate net payouts to landlords after commission deduction"}),(0,wt.jsxs)("div",{className:"card-stats",children:[(0,wt.jsx)("span",{children:"Processed: 45 this month"}),(0,wt.jsx)("span",{children:"Total Amount: $125,400"}),(0,wt.jsx)("span",{children:"Commission Deducted: $13,900"})]}),(0,wt.jsxs)("div",{className:"card-actions",children:[(0,wt.jsxs)("button",{className:"action-button primary",children:[(0,wt.jsx)(Ps,{size:16}),"Run Now"]}),(0,wt.jsx)("button",{className:"action-button secondary",children:"Configure"})]})]}),(0,wt.jsxs)("div",{className:"automation-card",children:[(0,wt.jsxs)("div",{className:"card-header",children:[(0,wt.jsx)("h4",{children:"Auto-deduct Company Commission"}),(0,wt.jsx)("div",{className:"status-indicator active",children:"Active"})]}),(0,wt.jsx)("p",{children:"Automatically deduct company commission from collected payments"}),(0,wt.jsxs)("div",{className:"card-stats",children:[(0,wt.jsx)("span",{children:"Deductions: 156 this month"}),(0,wt.jsx)("span",{children:"Total Commission: $24,560"}),(0,wt.jsx)("span",{children:"Average Rate: 10%"})]}),(0,wt.jsxs)("div",{className:"card-actions",children:[(0,wt.jsxs)("button",{className:"action-button primary",children:[(0,wt.jsx)(Ps,{size:16}),"Run Now"]}),(0,wt.jsx)("button",{className:"action-button secondary",children:"Configure"})]})]}),(0,wt.jsxs)("div",{className:"automation-card",children:[(0,wt.jsxs)("div",{className:"card-header",children:[(0,wt.jsx)("h4",{children:"Auto-generated Financial Reports"}),(0,wt.jsx)("div",{className:"status-indicator active",children:"Active"})]}),(0,wt.jsx)("p",{children:"Generate monthly financial reports automatically"}),(0,wt.jsxs)("div",{className:"card-stats",children:[(0,wt.jsx)("span",{children:"Generated: 12 reports"}),(0,wt.jsx)("span",{children:"Last Run: Nov 1, 2024"}),(0,wt.jsx)("span",{children:"Next Run: Dec 1, 2024"})]}),(0,wt.jsxs)("div",{className:"card-actions",children:[(0,wt.jsxs)("button",{className:"action-button primary",children:[(0,wt.jsx)(Ps,{size:16}),"Generate Now"]}),(0,wt.jsx)("button",{className:"action-button secondary",children:"Schedule"})]})]}),(0,wt.jsxs)("div",{className:"automation-card",children:[(0,wt.jsxs)("div",{className:"card-header",children:[(0,wt.jsx)("h4",{children:"Notifications to All Services"}),(0,wt.jsx)("div",{className:"status-indicator active",children:"Active"})]}),(0,wt.jsx)("p",{children:"Send notifications to all relevant services and stakeholders"}),(0,wt.jsxs)("div",{className:"card-stats",children:[(0,wt.jsx)("span",{children:"Notifications Sent: 89"}),(0,wt.jsx)("span",{children:"Success Rate: 98%"}),(0,wt.jsx)("span",{children:"Last Sent: 2 hours ago"})]}),(0,wt.jsxs)("div",{className:"card-actions",children:[(0,wt.jsxs)("button",{className:"action-button primary",children:[(0,wt.jsx)(Ps,{size:16}),"Send Test"]}),(0,wt.jsx)("button",{className:"action-button secondary",children:"Configure"})]})]})]})]});case"alerts":return(0,wt.jsxs)("div",{className:"alerts-section panel",children:[(0,wt.jsxs)("div",{className:"section-header",children:[(0,wt.jsx)("h3",{children:"System Alerts & Notifications"}),(0,wt.jsx)("p",{children:"Monitor and manage system-generated alerts"})]}),(0,wt.jsxs)("div",{className:"alert-filters",children:[(0,wt.jsxs)("select",{className:"filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Alert Types"}),(0,wt.jsx)("option",{value:"financial",children:"Financial"}),(0,wt.jsx)("option",{value:"occupancy",children:"Occupancy"}),(0,wt.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,wt.jsx)("option",{value:"system",children:"System"})]}),(0,wt.jsxs)("select",{className:"filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Severity Levels"}),(0,wt.jsx)("option",{value:"critical",children:"Critical"}),(0,wt.jsx)("option",{value:"warning",children:"Warning"}),(0,wt.jsx)("option",{value:"info",children:"Info"})]}),(0,wt.jsxs)("select",{className:"filter-select",children:[(0,wt.jsx)("option",{value:"",children:"All Status"}),(0,wt.jsx)("option",{value:"active",children:"Active"}),(0,wt.jsx)("option",{value:"resolved",children:"Resolved"}),(0,wt.jsx)("option",{value:"acknowledged",children:"Acknowledged"})]})]}),(0,wt.jsxs)("div",{className:"alert-list",children:[(0,wt.jsxs)("div",{className:"alert-item critical",children:[(0,wt.jsx)("div",{className:"alert-icon",children:(0,wt.jsx)(Lt,{size:24})}),(0,wt.jsxs)("div",{className:"alert-content",children:[(0,wt.jsx)("h4",{children:"Low Occupancy Rate Alert"}),(0,wt.jsx)("p",{children:"Building 456 Oak Ave has been vacant for 30+ days"}),(0,wt.jsx)("span",{className:"alert-timestamp",children:"2 hours ago"})]}),(0,wt.jsxs)("div",{className:"alert-actions",children:[(0,wt.jsx)("button",{className:"btn-primary",children:"Acknowledge"}),(0,wt.jsx)("button",{className:"btn-secondary",children:"Resolve"})]})]}),(0,wt.jsxs)("div",{className:"alert-item warning",children:[(0,wt.jsx)("div",{className:"alert-icon",children:(0,wt.jsx)(Gt,{size:24})}),(0,wt.jsxs)("div",{className:"alert-content",children:[(0,wt.jsx)("h4",{children:"Pending Payment Alert"}),(0,wt.jsx)("p",{children:"3 tenants have overdue payments totaling $5,400"}),(0,wt.jsx)("span",{className:"alert-timestamp",children:"4 hours ago"})]}),(0,wt.jsxs)("div",{className:"alert-actions",children:[(0,wt.jsx)("button",{className:"btn-primary",children:"Acknowledge"}),(0,wt.jsx)("button",{className:"btn-secondary",children:"Resolve"})]})]}),(0,wt.jsxs)("div",{className:"alert-item info",children:[(0,wt.jsx)("div",{className:"alert-icon",children:(0,wt.jsx)(Sn,{size:24})}),(0,wt.jsxs)("div",{className:"alert-content",children:[(0,wt.jsx)("h4",{children:"Monthly Report Generated"}),(0,wt.jsx)("p",{children:"November 2024 financial report has been generated successfully"}),(0,wt.jsx)("span",{className:"alert-timestamp",children:"1 day ago"})]}),(0,wt.jsx)("div",{className:"alert-actions",children:(0,wt.jsx)("button",{className:"btn-secondary",children:"View Report"})})]})]})]});case"kpis":return(0,wt.jsxs)("div",{className:"kpis-section panel",children:[(0,wt.jsxs)("div",{className:"section-header",children:[(0,wt.jsx)("h3",{children:"Real-time Key Performance Indicators"}),(0,wt.jsx)("p",{children:"Live updates of critical business metrics"})]}),(0,wt.jsxs)("div",{className:"kpis-grid",children:[(0,wt.jsxs)("div",{className:"kpi-card",children:[(0,wt.jsx)("h4",{children:"Global Occupancy Rate"}),(0,wt.jsx)("div",{className:"kpi-value",children:"84%"}),(0,wt.jsx)("div",{className:"kpi-trend positive",children:"+2.3% from last month"}),(0,wt.jsxs)("div",{className:"kpi-details",children:[(0,wt.jsx)("span",{children:"Occupied: 131"}),(0,wt.jsx)("span",{children:"Vacant: 25"})]})]}),(0,wt.jsxs)("div",{className:"kpi-card",children:[(0,wt.jsx)("h4",{children:"Total Properties Under Management"}),(0,wt.jsx)("div",{className:"kpi-value",children:"156"}),(0,wt.jsx)("div",{className:"kpi-trend positive",children:"+5 new this month"}),(0,wt.jsxs)("div",{className:"kpi-details",children:[(0,wt.jsx)("span",{children:"Active: 156"}),(0,wt.jsx)("span",{children:"Inactive: 3"})]})]}),(0,wt.jsxs)("div",{className:"kpi-card",children:[(0,wt.jsx)("h4",{children:"Total Collected Revenue"}),(0,wt.jsx)("div",{className:"kpi-value",children:"$245,600"}),(0,wt.jsx)("div",{className:"kpi-trend positive",children:"+8.2% from last month"}),(0,wt.jsxs)("div",{className:"kpi-details",children:[(0,wt.jsx)("span",{children:"This Month: $245,600"}),(0,wt.jsx)("span",{children:"Last Month: $227,000"})]})]}),(0,wt.jsxs)("div",{className:"kpi-card",children:[(0,wt.jsx)("h4",{children:"Total Active Alerts"}),(0,wt.jsx)("div",{className:"kpi-value",children:"12"}),(0,wt.jsx)("div",{className:"kpi-trend negative",children:"+3 from yesterday"}),(0,wt.jsxs)("div",{className:"kpi-details",children:[(0,wt.jsx)("span",{children:"Critical: 2"}),(0,wt.jsx)("span",{children:"Warning: 5"}),(0,wt.jsx)("span",{children:"Info: 5"})]})]})]}),(0,wt.jsxs)("div",{className:"kpi-refresh",children:[(0,wt.jsxs)("button",{className:"action-button primary",children:[(0,wt.jsx)(Ps,{size:20}),"Refresh All KPIs"]}),(0,wt.jsx)("span",{className:"last-updated",children:"Last updated: 2 minutes ago"})]})]})}},l=(0,a.useMemo)(()=>n.map(n=>d(d({},n),{},{onSelect:()=>t(n.id),active:e===n.id})),[n,e]);return(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Automation Ops",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:l,activeId:e,onActiveChange:t,onLogout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},title:"System Dashboard",subtitle:"Automated workflows, alerts, and real-time KPI monitoring",children:t=>{let{activeId:n}=t;return(0,wt.jsx)("div",{className:"content-body system-content",children:r(n||e)})}})},Ts=Tt("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]),Ls=Tt("message-square-plus",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]]),Fs="".concat(sn.BASE_URL,"/api/superadmin"),Rs=async e=>{if(204===e.status)return null;const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch(n){return console.warn("Failed to parse JSON response:",n),null}},Os=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=localStorage.getItem("token"),n={};if(e&&(n["Content-Type"]="application/json"),t){const e=String(t).trim().split("").map(e=>{const t=e.charCodeAt(0);return t>=32&&t<=126?e:""}).join("");e&&e.length>0&&(n.Authorization=e)}return n},Is=async()=>{const e=await fetch("".concat(Fs,"/agency-stats"));if(!e.ok)throw new Error("Failed to fetch super admin overview / agency stats");return Rs(e)},Ms=async()=>{const e=await fetch("".concat(Fs,"/companies"));if(!e.ok)throw new Error("Failed to fetch companies");return Rs(e)},zs=async()=>{const e=await fetch("".concat(Fs,"/agency-directors"));if(!e.ok)throw new Error("Failed to fetch agency directors");return Rs(e)},Us=async e=>{const t=await fetch("".concat(Fs,"/users"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to add user");return Rs(t)},_s=async(e,t)=>{const n=await fetch("".concat(Fs,"/users/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update user");return Rs(n)},qs=async e=>{const t=await fetch("".concat(Fs,"/users/").concat(e),{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete user");return Rs(t)},Vs=async()=>{const e=await fetch("".concat(Fs,"/financial"));if(!e.ok)throw new Error("Failed to fetch financial overview");return Rs(e)},Bs=async()=>{const e=await fetch("".concat(Fs,"/advertisements"));if(!e.ok)throw new Error("Failed to fetch advertisements");return Rs(e)},Hs=async e=>{const t=new FormData;if(t.append("title",e.title),t.append("text",e.text),!(e.image instanceof File))throw new Error("Image file is required. Please upload an image file.");t.append("image",e.image);const n=localStorage.getItem("token"),a={};if(n){const e=String(n).trim().split("").map(e=>{const t=e.charCodeAt(0);return t>=32&&t<=126?e:""}).join("");e&&e.length>0&&(a.Authorization=e)}console.log("Creating advertisement with FormData:",{title:e.title,text:e.text,hasImage:!!e.image});const s=await fetch("".concat(Fs,"/advertisements"),{method:"POST",headers:a,body:t});if(!s.ok){const e=await s.text();console.error("Advertisement creation failed:",s.status,e);try{const t=JSON.parse(e);throw new Error(t.error||t.message||"Failed to create advertisement: ".concat(s.status))}catch(Lr){throw new Error("Failed to create advertisement: ".concat(s.status," ").concat(s.statusText,". ").concat(e))}}return Rs(s)},Ws=async e=>{const t=Os(!1),n=await fetch("".concat(Fs,"/chat/").concat(e,"/messages"),{method:"GET",headers:t});if(!n.ok){const e=await n.text();throw console.error("Failed to fetch chat messages:",n.status,e),new Error("Failed to fetch chat messages: ".concat(n.status))}return Rs(n)},$s=async e=>{const t=Os(!0),n=JSON.stringify(e);console.log("Sending chat message:",{messagePayload:e,body:n,headers:t});const a=await fetch("".concat(Fs,"/chat/messages"),{method:"POST",headers:t,body:n});if(!a.ok){const e=await a.text();console.error("Chat message send failed:",a.status,e);try{const t=JSON.parse(e);throw new Error(t.error||t.message||"Failed to send chat message: ".concat(a.status))}catch(Lr){throw new Error("Failed to send chat message: ".concat(a.status," ").concat(a.statusText,". ").concat(e))}}return Rs(a)},Js=async()=>{const e=await fetch("".concat(Fs,"/subscriptions"));if(!e.ok)throw new Error("Failed to fetch subscriptions");return Rs(e)},Xs=()=>{const[e,t]=(0,a.useState)("overview"),[n,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[h,m]=(0,a.useState)(null),[p,f]=(0,a.useState)([]),[x,v]=(0,a.useState)([]),[g,y]=(0,a.useState)(null),[j,b]=(0,a.useState)([]),[N,w]=(0,a.useState)("all"),[S,k]=(0,a.useState)(""),[C,A]=(0,a.useState)(""),[E,P]=(0,a.useState)("all"),[D,T]=(0,a.useState)({title:"",text:"",image:null}),[L,F]=(0,a.useState)(""),[R,O]=(0,a.useState)(!1),[I,M]=(0,a.useState)(null),[z,U]=(0,a.useState)({name:"",email:"",company:"",role:"agency_director",password:""}),[_,q]=(0,a.useState)([]),V=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n=Date.now();q(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{q(e=>e.filter(e=>e.id!==n))},3e3)},[]),B=(0,a.useCallback)(async()=>{s(!0);try{const[t,n,a,s,r,i]=await Promise.all([Is(),Ms(),zs(),Vs(),Bs(),Js().catch(()=>[])]);if(l(t),o(Array.isArray(n)?n:[]),u(Array.isArray(a)?a:[]),m(s),f(Array.isArray(r)?r:[]),v(Array.isArray(i)?i:[]),Array.isArray(a)&&a.length>0){const t=a[0].ID||a[0].id;y(t);try{const e=await Ws(t);b(Array.isArray(e)?e:[])}catch(e){console.error("Error loading initial chat messages:",e)}}else y(null),b([])}catch(t){console.error("Error loading super admin data:",t),V("Failed to load data from server","error")}finally{s(!1)}},[V]);(0,a.useEffect)(()=>{B()},[B]);const H=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:cs},{id:"transactions",label:"Transaction History",icon:Ut},{id:"clients",label:"Client List",icon:wn},{id:"ads",label:"Advertisements",icon:Ts},{id:"chat",label:"Messages",icon:_n},{id:"settings",label:"Profile Settings",icon:qt}],[]),W=(0,a.useMemo)(()=>H.map(n=>d(d({},n),{},{onSelect:()=>t(n.id),active:e===n.id})),[H,e]),$=()=>{var e,t;return(0,wt.jsxs)("div",{className:"sa-overview-page",children:[(0,wt.jsxs)("div",{className:"sa-overview-top",children:[(0,wt.jsxs)("div",{className:"sa-overview-chart-card",children:[(0,wt.jsxs)("div",{className:"sa-card-header",children:[(0,wt.jsx)("h2",{children:"Overview"}),(0,wt.jsx)("span",{className:"sa-card-subtitle",children:"Weekly Subscriptions"})]}),(0,wt.jsxs)("div",{className:"sa-mini-legend",children:[(0,wt.jsx)("span",{className:"sa-legend-item sa-legend-expected",children:"Expected Cost (January)"}),(0,wt.jsx)("span",{className:"sa-legend-item sa-legend-current",children:"Current Subscription Amount"})]}),(0,wt.jsxs)("div",{className:"sa-chart-placeholder",children:[(0,wt.jsx)("div",{className:"sa-chart-line sa-chart-line-expected"}),(0,wt.jsx)("div",{className:"sa-chart-line sa-chart-line-current"})]}),(0,wt.jsxs)("div",{className:"sa-chart-footer",children:[(0,wt.jsx)("span",{children:"Jan"}),(0,wt.jsx)("span",{children:"Feb"}),(0,wt.jsx)("span",{children:"Mar"}),(0,wt.jsx)("span",{children:"Apr"}),(0,wt.jsx)("span",{children:"Jun"}),(0,wt.jsx)("span",{children:"Jul"}),(0,wt.jsx)("span",{children:"Aug"}),(0,wt.jsx)("span",{children:"Sep"}),(0,wt.jsx)("span",{children:"Oct"}),(0,wt.jsx)("span",{children:"Nov"}),(0,wt.jsx)("span",{children:"Dec"})]})]}),(0,wt.jsxs)("div",{className:"sa-overview-metrics",children:[(0,wt.jsxs)("div",{className:"sa-metric-card sa-metric-primary",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Received"}),(0,wt.jsx)("p",{className:"sa-metric-period",children:"This Week"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:["CFA ",(null===r||void 0===r||null===(e=r.totalReceived)||void 0===e?void 0:e.toLocaleString())||(null===r||void 0===r||null===(t=r.totalRevenue)||void 0===t?void 0:t.toLocaleString())||"0"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Clients"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[(null===r||void 0===r?void 0:r.totalClients)||(null===r||void 0===r?void 0:r.totalAgencies)||i.length||0,(0,wt.jsx)("span",{className:"sa-metric-trend positive",children:"+1.5%"})]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Cash"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:null!==r&&void 0!==r&&r.cashInHand?"".concat(r.cashInHand.toLocaleString()," FCFA"):null!==h&&void 0!==h&&h.netProfit?"".concat(h.netProfit.toLocaleString()," FCFA"):"0 FCFA"})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Ads"}),(0,wt.jsxs)("p",{className:"sa-metric-number",children:[p.length||(null===r||void 0===r?void 0:r.totalAds)||0,(0,wt.jsx)("span",{className:"sa-metric-trend negative",children:"-1.5%"})]})]}),(0,wt.jsx)("div",{className:"sa-banner-card",children:(0,wt.jsxs)("div",{className:"sa-banner-text",children:[(0,wt.jsx)("h3",{children:"Increase your sales"}),(0,wt.jsx)("p",{children:"Discover the proven methods to skyrocket your sales! Unleash the potential of your business and achieve remarkable growth."}),(0,wt.jsx)("button",{className:"sa-banner-button",children:"Learn More"})]})})]})]}),(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsx)("h3",{children:"Agency Subscriptions"}),(0,wt.jsx)("p",{children:"Track license payments from your client agencies."})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{}),(0,wt.jsx)("th",{children:"Client"}),(0,wt.jsx)("th",{children:"Account Status"}),(0,wt.jsx)("th",{children:"Payment Status"}),(0,wt.jsx)("th",{children:"Amount"})]})}),(0,wt.jsxs)("tbody",{children:[(x.length>0?x:i||[]).map((e,t)=>{const n=e.agencyId?i.find(t=>(t.ID||t.id)===e.agencyId):e;x.find(e=>(e.agencyId||e.companyId)===((null===n||void 0===n?void 0:n.ID)||(null===n||void 0===n?void 0:n.id)));return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("input",{type:"checkbox"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:(null===n||void 0===n?void 0:n.Name)||(null===n||void 0===n?void 0:n.name)||e.agencyName||"N/A"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:(null===n||void 0===n?void 0:n.Email)||(null===n||void 0===n?void 0:n.email)||e.email||"example@email.com"})]})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.accountStatus||(null===n||void 0===n?void 0:n.Status)||(null===n||void 0===n?void 0:n.status)||"active").toLowerCase()),children:e.accountStatus||(null===n||void 0===n?void 0:n.Status)||(null===n||void 0===n?void 0:n.status)||"Active"})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.paymentStatus||e.status||"paid").toLowerCase()),children:e.paymentStatus||e.status||"Paid"})}),(0,wt.jsxs)("td",{children:[(e.amount||e.subscriptionAmount||(null===n||void 0===n?void 0:n.SubscriptionAmount)||0).toLocaleString()," CFA"]})]},"overview-agency-".concat((null===n||void 0===n?void 0:n.ID)||(null===n||void 0===n?void 0:n.id)||e.id||t))}),(!x||0===x.length)&&(!i||0===i.length)&&(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:5,className:"sa-table-empty",children:"No subscription data available. Start the backend to see real data."})})]})]})})]})]})},J=(0,a.useMemo)(()=>(x.length>0?x:i||[]).filter(e=>{if(S){const t=S.toLowerCase(),n=e.agencyId?i.find(t=>(t.ID||t.id)===e.agencyId):e,a=((null===n||void 0===n?void 0:n.Name)||(null===n||void 0===n?void 0:n.name)||e.agencyName||e.Name||e.name||"").toLowerCase(),s=((null===n||void 0===n?void 0:n.Email)||(null===n||void 0===n?void 0:n.email)||e.email||e.Email||"").toLowerCase(),r=e.paymentDate||e.dueDate||e.createdAt||"";if(!a.includes(t)&&!s.includes(t)&&!r.includes(t))return!1}if("all"===N)return!0;const t=(e.paymentStatus||e.status||e.accountStatus||"paid").toLowerCase();return"paid"===N?"paid"===t||"approved"===t:"pending"===N?"pending"===t||"en attente"===t:"deactivated"!==N||("deactivated"===t||"d\xe9sactiver"===t||"inactive"===t)}),[x,i,S,N]),X=(0,a.useMemo)(()=>{const e=c||[];if(!C)return e;const t=C.toLowerCase();return e.filter(e=>{const n=(e.Name||e.name||"").toLowerCase(),a=(e.Email||e.email||"").toLowerCase(),s=(e.Role||e.role||"").toLowerCase();return n.includes(t)||a.includes(t)||s.includes(t)})},[c,C]),G=()=>{M(null),U({name:"",email:"",company:"",role:"agency_director",password:""}),O(!0)},Q=(e,t)=>{U(n=>d(d({},n),{},{[e]:t}))},K=async e=>{e.preventDefault();try{const e={name:z.name,email:z.email,company:z.company,role:z.role};if(I)z.password&&(e.password=z.password),await _s(I.ID||I.id,e),V("Agency admin updated successfully!","success");else{if(!z.password)return void V("Password is required for new admin","warning");e.password=z.password,await Us(e),V("Agency admin created successfully!","success")}O(!1),await B()}catch(t){console.error("Error saving agency admin:",t),V(I?"Failed to update agency admin":"Failed to create agency admin","error")}},Y=()=>(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Client List"}),(0,wt.jsxs)("p",{children:[X.length," results found"]})]}),(0,wt.jsxs)("div",{className:"sa-clients-header-right",children:[(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:G,children:[(0,wt.jsx)(Vt,{size:16}),"Add Agency Admin"]}),(0,wt.jsx)("button",{className:"sa-sort-button",children:"Sort: Creation Date"}),(0,wt.jsx)("button",{className:"sa-date-button",children:(new Date).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Client"}),(0,wt.jsx)("th",{children:"Email"}),(0,wt.jsx)("th",{children:"Company"}),(0,wt.jsx)("th",{children:"Registration Date"}),(0,wt.jsx)("th",{children:"Role"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsxs)("tbody",{children:[X.map((e,t)=>{var n,a;const s=(null===(n=e.companyDetails)||void 0===n?void 0:n.name)||(null===(a=e.CompanyDetails)||void 0===a?void 0:a.name)||e.Company||e.company||"N/A";return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Name||e.name})}),(0,wt.jsx)("td",{children:e.Email||e.email}),(0,wt.jsx)("td",{children:s}),(0,wt.jsx)("td",{children:e.CreatedAt?new Date(e.CreatedAt).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{children:e.Role||e.role||"Director"}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(e=>{M(e);const t=(e.Role||e.role||"agency_director").replace("-","_");U({name:e.Name||e.name||"",email:e.Email||e.email||"",company:e.Company||e.company||"",role:t,password:""}),O(!0)})(e),title:"Edit",children:"\u270f\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete ".concat(e.Name||e.name,"?")))try{await qs(e.ID||e.id),V("Agency admin deleted successfully!","success"),await B()}catch(t){console.error("Error deleting agency admin:",t),V("Failed to delete agency admin","error")}})(e),title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})]},"client-".concat(e.ID||e.id||t))}),0===X.length&&(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"sa-table-empty",children:"No clients match your search."})})]})]})}),(0,wt.jsx)(St,{isOpen:R,onClose:()=>O(!1),title:I?"Edit Agency Admin":"Add Agency Admin",size:"md",children:(0,wt.jsxs)("form",{onSubmit:K,className:"sa-form",children:[(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Name *"}),(0,wt.jsx)("input",{type:"text",value:z.name,onChange:e=>Q("name",e.target.value),required:!0,placeholder:"Enter admin name"})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Email *"}),(0,wt.jsx)("input",{type:"email",value:z.email,onChange:e=>Q("email",e.target.value),required:!0,placeholder:"Enter email address"})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Company *"}),(0,wt.jsx)("input",{type:"text",value:z.company,onChange:e=>Q("company",e.target.value),required:!0,placeholder:"Enter company name"})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Role *"}),(0,wt.jsxs)("select",{value:z.role,onChange:e=>Q("role",e.target.value),required:!0,children:[(0,wt.jsx)("option",{value:"agency_director",children:"Agency Director"}),(0,wt.jsx)("option",{value:"superadmin",children:"Super Admin"})]})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsxs)("label",{children:["Password ",I?"(leave blank to keep current)":"*"]}),(0,wt.jsx)("input",{type:"password",value:z.password,onChange:e=>Q("password",e.target.value),required:!I,placeholder:I?"Enter new password (optional)":"Enter password"})]}),(0,wt.jsxs)("div",{className:"sa-form-actions",children:[(0,wt.jsx)("button",{type:"button",className:"sa-outline-button",onClick:()=>O(!1),children:"Cancel"}),(0,wt.jsxs)("button",{type:"submit",className:"sa-primary-cta",children:[I?"Update":"Create"," Agency Admin"]})]})]})})]}),Z=(0,a.useMemo)(()=>"all"===E?p||[]:(p||[]).filter(e=>(e.Status||e.status||"active").toLowerCase()===E),[p,E]),ee=async e=>{if(e.preventDefault(),D.title&&D.text)if(D.image)try{await Hs(D),V("Advertisement created successfully!","success"),T({title:"",text:"",image:null});const e=document.querySelector('input[type="file"][name="ad-image"]');e&&(e.value=""),await B()}catch(t){console.error("Error creating advertisement:",t),V(t.message||"Failed to create advertisement","error")}else V("Please upload an image file for the advertisement.","warning");else V("Please provide a title and description for the advertisement.","warning")},te=(0,a.useCallback)(async e=>{try{y(e);const t=await Ws(e);b(Array.isArray(t)?t:[])}catch(t){console.error("Error loading chat for admin:",t),V("Failed to load chat messages","error")}},[V]),ne=async()=>{if(!L.trim()||!g)return;const e=localStorage.getItem("user");let t=null;if(e)try{const n=JSON.parse(e);t=n.id||n.ID}catch(a){console.error("Error parsing stored user:",a)}if(!t)return void V("Unable to identify current user. Please log in again.","error");const n=L.trim();F("");try{const e={fromUserId:t,toUserId:g,content:n};await $s(e),g&&await te(g)}catch(a){console.error("Error sending chat message:",a),V(a.message||"Failed to send message","error")}},ae=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e){case"overview":default:return $();case"transactions":return(0,wt.jsxs)("div",{className:"sa-transactions-page",children:[(0,wt.jsxs)("div",{className:"sa-transactions-header",children:[(0,wt.jsx)("h2",{children:"Transaction History"}),(0,wt.jsx)("div",{className:"sa-transactions-tabs",children:["all","paid","pending","deactivated"].map(e=>(0,wt.jsxs)("button",{className:"sa-subtab-button ".concat(N===e?"active":""),onClick:()=>w(e),children:["all"===e&&"All","paid"===e&&"Paid","pending"===e&&"Pending","deactivated"===e&&"Deactivated"]},e))})]}),(0,wt.jsxs)("div",{className:"sa-transactions-filters",children:[(0,wt.jsxs)("button",{className:"sa-filter-button",children:[(0,wt.jsx)(Pa,{size:16}),"Filter"]}),(0,wt.jsxs)("div",{className:"sa-search-input",children:[(0,wt.jsx)(Xt,{size:16}),(0,wt.jsx)("input",{type:"text",placeholder:"Search by Name, Email or Date",value:S,onChange:e=>k(e.target.value)})]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{}),(0,wt.jsx)("th",{children:"Agency"}),(0,wt.jsx)("th",{children:"Account Status"}),(0,wt.jsx)("th",{children:"Subscription Status"}),(0,wt.jsx)("th",{children:"Amount"})]})}),(0,wt.jsxs)("tbody",{children:[J.map((e,t)=>{const n=e.agencyId?i.find(t=>(t.ID||t.id)===e.agencyId):e;return(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:(0,wt.jsx)("input",{type:"checkbox"})}),(0,wt.jsx)("td",{children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:(null===n||void 0===n?void 0:n.Name)||(null===n||void 0===n?void 0:n.name)||e.agencyName||"N/A"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:(null===n||void 0===n?void 0:n.Email)||(null===n||void 0===n?void 0:n.email)||e.email||"example@email.com"})]})}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.accountStatus||(null===n||void 0===n?void 0:n.Status)||(null===n||void 0===n?void 0:n.status)||"active").toLowerCase()),children:e.accountStatus||(null===n||void 0===n?void 0:n.Status)||(null===n||void 0===n?void 0:n.status)||"Active"})}),(0,wt.jsxs)("td",{children:[(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.paymentStatus||e.status||"paid").toLowerCase()),children:e.paymentStatus||e.status||"Paid"}),e.dueDate&&(0,wt.jsxs)("span",{className:"sa-cell-sub",children:["Due on ",new Date(e.dueDate).toLocaleDateString()]})]}),(0,wt.jsxs)("td",{children:[(e.amount||e.subscriptionAmount||(null===n||void 0===n?void 0:n.SubscriptionAmount)||0).toLocaleString()," CFA"]})]},"transaction-".concat(e.id||(null===n||void 0===n?void 0:n.ID)||(null===n||void 0===n?void 0:n.id)||t))}),0===J.length&&(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:5,className:"sa-table-empty",children:"No transactions match your filters."})})]})]})})]});case"clients":return Y();case"ads":return(0,wt.jsxs)("div",{className:"sa-ads-page",children:[(0,wt.jsxs)("div",{className:"sa-ads-header",children:[(0,wt.jsx)("h2",{children:"Advertisements Overview"}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>{var e;return null===(e=document.querySelector(".sa-create-ad-form"))||void 0===e?void 0:e.scrollIntoView({behavior:"smooth"})},children:[(0,wt.jsx)(Ls,{size:16}),"Create Ad"]})]}),(0,wt.jsxs)("div",{className:"sa-ads-list",children:[Z.map((e,t)=>{const n=(e.Status||e.status||"published").toLowerCase(),a=e.ImageURL||e.imageUrl||e.imageURL,s=a?a.startsWith("http")?a:"".concat(sn.BASE_URL).concat(a):null;return(0,wt.jsxs)("div",{className:"sa-ad-card",children:[(0,wt.jsx)("div",{className:"sa-ad-status-column",children:(0,wt.jsxs)("span",{className:"sa-ad-status ".concat(n),children:["ads | ",{published:"Published",pause:"Paused",scheduled:"Scheduled",finished:"Finished"}[n]||"Published"]})}),(0,wt.jsxs)("div",{className:"sa-ad-main",children:[s&&(0,wt.jsx)("img",{src:s,alt:e.title||e.Title||"Advertisement",className:"sa-ad-image",onError:e=>{e.target.style.display="none"}}),(0,wt.jsx)("h3",{children:e.title||e.Title||"Untitled Advertisement"}),(0,wt.jsx)("span",{className:"sa-ad-tag",children:e.commissionLabel||e.commission||"50% COMMISSION"}),(0,wt.jsx)("p",{children:e.Text||e.text||e.description||e.Description||"No description available"})]}),(0,wt.jsx)("div",{className:"sa-ad-right",children:(0,wt.jsx)("button",{className:"sa-outline-button",onClick:()=>V("View ad functionality coming soon","info"),children:"View Ad"})})]},"ad-".concat(e.id||e.ID||t))}),0===Z.length&&(0,wt.jsx)("div",{className:"sa-table-empty",children:"No advertisements yet. Use the form below to create your first campaign."})]}),(0,wt.jsxs)("div",{className:"sa-section-card sa-create-ad-card",children:[(0,wt.jsx)("h3",{children:"Add Advertisement"}),(0,wt.jsxs)("form",{className:"sa-create-ad-form",onSubmit:ee,children:[(0,wt.jsx)("input",{type:"text",placeholder:"Advertisement Title",value:D.title,onChange:e=>T(t=>d(d({},t),{},{title:e.target.value})),required:!0}),(0,wt.jsx)("textarea",{placeholder:"Text / Description",value:D.text,onChange:e=>T(t=>d(d({},t),{},{text:e.target.value})),required:!0}),(0,wt.jsx)("input",{type:"file",name:"ad-image",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(n.type))return V("Invalid file type. Allowed types: jpg, jpeg, png, gif, webp","error"),void(e.target.value="");T(e=>d(d({},e),{},{image:n}))}else T(e=>d(d({},e),{},{image:null}))},required:!0}),(0,wt.jsxs)("button",{type:"submit",className:"sa-primary-cta",children:[(0,wt.jsx)(Ts,{size:16}),"Publish"]})]})]})]});case"chat":return(0,wt.jsx)("div",{className:"sa-chat-page",children:(0,wt.jsxs)("div",{className:"sa-chat-layout",children:[(0,wt.jsxs)("div",{className:"sa-chat-list",children:[(0,wt.jsx)("h3",{children:"Conversations"}),(0,wt.jsx)("ul",{children:(c||[]).map(e=>{const t=e.ID||e.id,n=t===g;return(0,wt.jsx)("li",{className:n?"active":"",onClick:()=>te(t),children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Name||e.name}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.Email||e.email})]})},"chat-admin-".concat(t))})})]}),(0,wt.jsxs)("div",{className:"sa-chat-conversation",children:[(0,wt.jsxs)("div",{className:"sa-chat-header",children:[(0,wt.jsx)("h3",{children:"Messages"}),g&&(0,wt.jsxs)("span",{className:"sa-chat-subtitle",children:["Chat with"," ",(c.find(e=>(e.ID||e.id)===g)||{}).Name||"Agency Admin"]})]}),(0,wt.jsxs)("div",{className:"sa-chat-messages",children:[j.map((e,t)=>{const n=e.content||e.Content||"",a=e.createdAt||e.CreatedAt||"",s=e.fromUserId||e.FromUserId,r=e.id||e.ID||t,l=localStorage.getItem("user");let i=!1;if(l)try{const e=JSON.parse(l),t=e.id||e.ID;i=String(s)===String(t)}catch(Lr){}return(0,wt.jsxs)("div",{className:"sa-chat-bubble ".concat(i?"outgoing":"incoming"),children:[(0,wt.jsx)("p",{children:n}),(0,wt.jsx)("span",{className:"sa-chat-meta",children:a?new Date(a).toLocaleString():""})]},"msg-".concat(r))}),0===j.length&&(0,wt.jsx)("div",{className:"sa-table-empty",children:"Select an agency admin on the left to start a conversation."})]}),(0,wt.jsxs)("div",{className:"sa-chat-input-row",children:[(0,wt.jsx)("input",{type:"text",placeholder:"Reply...",value:L,onChange:e=>F(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),ne())}}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:ne,children:[(0,wt.jsx)(_n,{size:16}),"Send"]})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-details",children:[(0,wt.jsx)("h4",{children:"Contact Details"}),g?(()=>{const e=c.find(e=>(e.ID||e.id)===g)||{};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Name:"})," ",e.Name||e.name]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Email:"})," ",e.Email||e.email]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Company:"})," ",e.Company||e.company]})]})})():(0,wt.jsx)("p",{children:"Select a conversation to view details."})]})]})});case"settings":return(0,wt.jsx)("div",{className:"embedded-settings",children:(0,wt.jsx)(hn,{})})}};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Super Admin",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:W,activeId:e,onActiveChange:t,onLogout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/"},children:e=>{let{activeId:t}=e;return(0,wt.jsx)("div",{className:"content-body super-admin-content",children:ae(t)})}}),(0,wt.jsx)("div",{className:"notifications-container",children:_.map(e=>(0,wt.jsxs)("div",{className:"notification notification-".concat(e.type),children:[(0,wt.jsx)("span",{children:e.message}),(0,wt.jsx)("button",{onClick:()=>q(t=>t.filter(t=>t.id!==e.id)),children:"\xd7"})]},"notification-".concat(e.id)))})]})},Gs="".concat(sn.BASE_URL,"/api/agency-director"),Qs=async e=>{if(204===e.status)return null;const t=await e.text();if(!t)return null;try{return JSON.parse(t)}catch(n){return console.warn("Failed to parse JSON response:",n),null}},Ks=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=localStorage.getItem("token"),n={};if(e&&(n["Content-Type"]="application/json"),t){const e=String(t).trim().split("").map(e=>{const t=e.charCodeAt(0);return t>=32&&t<=126?e:""}).join("");e&&e.length>0&&(n.Authorization=e)}return n},Ys=async()=>{const e=Ks(!1),t=await fetch("".concat(Gs,"/overview"),{method:"GET",headers:e});if(!t.ok)throw new Error("Failed to fetch overview");return Qs(t)},Zs=async()=>{const e=Ks(!1),t=await fetch("".concat(Gs,"/users"),{method:"GET",headers:e});if(!t.ok)throw new Error("Failed to fetch users");const n=await Qs(t);return(null===n||void 0===n?void 0:n.users)||n||[]},er=async e=>{const t=Ks(!0),n=await fetch("".concat(Gs,"/users"),{method:"POST",headers:t,body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to add user");return Qs(n)},tr=async(e,t)=>{const n=Ks(!0),a=await fetch("".concat(Gs,"/users/").concat(e),{method:"PUT",headers:n,body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to update user");return Qs(a)},nr=async e=>{const t=Ks(!1),n=await fetch("".concat(Gs,"/users/").concat(e),{method:"DELETE",headers:t});if(!n.ok)throw new Error("Failed to delete user");return Qs(n)},ar=async()=>{const e=Ks(!1),t=await fetch("".concat(Gs,"/properties"),{method:"GET",headers:e});if(!t.ok)throw new Error("Failed to fetch properties");const n=await Qs(t);return(null===n||void 0===n?void 0:n.properties)||n||[]},sr=async e=>{const t=Ks(!0),n=await fetch("".concat(Gs,"/properties"),{method:"POST",headers:t,body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to add property");return Qs(n)},rr=async(e,t)=>{const n=Ks(!0),a=await fetch("".concat(Gs,"/properties/").concat(e),{method:"PUT",headers:n,body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to update property");return Qs(a)},lr=async e=>{const t=Ks(!1),n=await fetch("".concat(Gs,"/properties/").concat(e),{method:"DELETE",headers:t});if(!n.ok)throw new Error("Failed to delete property");return Qs(n)},ir=async()=>{const e=Ks(!1),t=await fetch("".concat(Gs,"/financial"),{method:"GET",headers:e});if(!t.ok)throw new Error("Failed to fetch financial overview");return Qs(t)},or=async()=>{const e=Ks(!1),t=await fetch("".concat(Gs,"/works"),{method:"GET",headers:e});if(!t.ok)throw new Error("Failed to fetch works");const n=await Qs(t);return(null===n||void 0===n?void 0:n.works)||n||[]},cr=async()=>{const e=Ks(!1),t=await fetch("".concat(Gs,"/accounting/overview"),{method:"GET",headers:e});if(!t.ok)throw new Error("Failed to fetch accounting overview");return Qs(t)},dr=async()=>{const e=Ks(!1),t=await fetch("".concat(Gs,"/accounting/landlord-payments"),{method:"GET",headers:e});if(!t.ok)throw new Error("Failed to fetch landlord payments");return Qs(t)},ur=async e=>{const t=Ks(!1),n=await fetch("".concat(Gs,"/accounting/landlord-payments/").concat(e,"/approve"),{method:"POST",headers:t});if(!n.ok){const e=await n.text();throw new Error(e||"Failed to approve landlord payment")}return Qs(n)},hr=async e=>{const t=Ks(!1),n=await fetch("".concat(Gs,"/accounting/landlord-payments/").concat(e,"/revoke"),{method:"POST",headers:t});if(!n.ok){const e=await n.text();throw new Error(e||"Failed to revoke landlord payment")}return Qs(n)},mr=async e=>{const t=Ks(!0),n=await fetch("".concat(Gs,"/subscription/pay"),{method:"POST",headers:t,body:JSON.stringify(e)});if(!n.ok){const e=await n.text();throw new Error(e||"Failed to process subscription payment")}return Qs(n)},pr=async()=>{const e=Ks(!1),t=await fetch("".concat(Gs,"/messages/conversations"),{method:"GET",headers:e});if(!t.ok)throw new Error("Failed to fetch conversations");return Qs(t)},fr=async e=>{const t=Ks(!1),n=await fetch("".concat(Gs,"/messages/").concat(e),{method:"GET",headers:t});if(!n.ok)throw new Error("Failed to fetch conversation");return Qs(n)},xr=async e=>{const t=Ks(!0),n=JSON.stringify(e),a=await fetch("".concat(Gs,"/messages"),{method:"POST",headers:t,body:n});if(!a.ok){const e=await a.text();console.error("Message send failed:",a.status,e);try{const t=JSON.parse(e);throw new Error(t.error||t.message||"Failed to send message: ".concat(a.status))}catch(Lr){throw new Error("Failed to send message: ".concat(a.status," ").concat(a.statusText,". ").concat(e))}}return Qs(a)},vr=()=>{const[e,t]=(0,a.useState)("overview"),[n,s]=(0,a.useState)(!1),[r,l]=(0,a.useState)([]),[i,o]=(0,a.useState)(null),[c,u]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[p,f]=(0,a.useState)(null),[x,v]=(0,a.useState)([]),[g,y]=(0,a.useState)(null),[j,b]=(0,a.useState)([]),[N,w]=(0,a.useState)(""),[S,k]=(0,a.useState)(""),[C,A]=(0,a.useState)(""),[E,P]=(0,a.useState)(""),[D,T]=(0,a.useState)(""),[L,F]=(0,a.useState)(!1),[R,O]=(0,a.useState)(!1),[I,M]=(0,a.useState)(null),[z,U]=(0,a.useState)(null),[_,q]=(0,a.useState)({name:"",email:"",role:"salesmanager",password:""}),[V,B]=(0,a.useState)({address:"",type:"",rent:"",tenant:"",status:"Vacant"}),[H,W]=(0,a.useState)(null),[$,J]=(0,a.useState)([]),[X,G]=(0,a.useState)(""),[Q,K]=(0,a.useState)([]),[Y,Z]=(0,a.useState)(!1),[ee,te]=(0,a.useState)({amount:"",currency:"USD",reference:"",status:"completed"}),ne=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const n="".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2));l(a=>[...a,{id:n,message:e,type:t}]),setTimeout(()=>{l(e=>e.filter(e=>e.id!==n))},3e3)},[]),ae=(0,a.useCallback)(async()=>{s(!0);try{const[t,n,a,s,r,l,i]=await Promise.all([Ys().catch(()=>null),Zs().catch(()=>[]),ar().catch(()=>[]),ir().catch(()=>null),or().catch(()=>[]),cr().catch(()=>null),dr().catch(()=>[])]);o(t),u(Array.isArray(n)?n:[]),m(Array.isArray(a)?a:[]),f(s),v(Array.isArray(r)?r:[]),y(l),b(Array.isArray(i)?i:[]);try{const e=await pr().catch(()=>[]),t=Array.isArray(e)?e.filter(e=>"superadmin"===(e.role||"").toLowerCase()):[];K(t)}catch(e){console.warn("Could not fetch super admins from conversations:",e),K([])}}catch(e){console.error("Error loading agency director data:",e),ne("Failed to load data from server","error")}finally{s(!1)}},[ne]),se=(0,a.useCallback)(async e=>{try{W(e);const t=await fr(e);J(Array.isArray(t)?t:[])}catch(t){console.error("Error loading chat for user:",t),ne("Failed to load chat messages","error")}},[ne]),re=(0,a.useMemo)(()=>{const e=[],t=new Set,n=localStorage.getItem("user");let a=null;if(n)try{const e=JSON.parse(n);a=e.id||e.ID}catch(Lr){}return c&&Array.isArray(c)&&c.forEach(n=>{const s=n.ID||n.id;s&&s!==a&&!t.has(s)&&(e.push({userId:s,name:n.Name||n.name,email:n.Email||n.email,role:n.Role||n.role,company:n.Company||n.company}),t.add(s))}),Q&&Array.isArray(Q)&&Q.forEach(n=>{const a=n.userId||n.ID||n.id;a&&!t.has(a)&&(e.push({userId:a,name:n.name||n.Name,email:n.email||n.Email,role:n.role||n.Role||"superadmin",company:n.company||n.Company||"SAAF IMMO"}),t.add(a))}),e.sort((e,t)=>"superadmin"===e.role&&"superadmin"!==t.role?-1:"superadmin"!==e.role&&"superadmin"===t.role?1:(e.name||"").localeCompare(t.name||""))},[c,Q]);(0,a.useEffect)(()=>{if(re&&re.length>0&&!H){const e=re[0].userId;W(e),se(e)}},[re,H,se]);const le=async()=>{if(!X.trim()||!H)return;const e=localStorage.getItem("user");let t=null;if(e)try{const n=JSON.parse(e);t=n.id||n.ID}catch(a){console.error("Error parsing stored user:",a)}if(!t)return void ne("Unable to identify current user. Please log in again.","error");const n=X.trim();G("");try{const e={fromUserId:t,toUserId:H,content:n};await xr(e),H&&await se(H)}catch(a){console.error("Error sending message:",a),ne(a.message||"Failed to send message","error")}},ie=async e=>{e.preventDefault();try{await mr(ee),ne("Subscription payment processed successfully!","success"),Z(!1),te({amount:"",currency:"USD",reference:"",status:"completed"}),await ae()}catch(t){console.error("Error processing subscription payment:",t),ne(t.message||"Failed to process subscription payment","error")}};(0,a.useEffect)(()=>{ae()},[ae]);const oe=(0,a.useMemo)(()=>[{id:"overview",label:"Overview",icon:cs},{id:"users",label:"Users",icon:wn},{id:"properties",label:"Properties",icon:zt},{id:"accounting",label:"Accounting",icon:Ut},{id:"works",label:"Works",icon:_t},{id:"messages",label:"Messages",icon:_n},{id:"settings",label:"Profile Settings",icon:qt}],[]),ce=(0,a.useMemo)(()=>oe.map(n=>d(d({},n),{},{onSelect:()=>t(n.id),active:e===n.id})),[oe,e]),de=(0,a.useMemo)(()=>c&&Array.isArray(c)?c.filter(e=>{if(N&&(e.Company||e.company)!==N)return!1;if(S&&(e.Role||e.role)!==S)return!1;if(C){const t=C.toLowerCase(),n=(e.Name||e.name||"").toLowerCase(),a=(e.Email||e.email||"").toLowerCase();if(!n.includes(t)&&!a.includes(t))return!1}return!0}):[],[c,N,S,C]),ue=(0,a.useMemo)(()=>h&&Array.isArray(h)?h.filter(e=>(!E||(e.Company||e.company)===E)&&(!D||(e.Status||e.status)===D)):[],[h,E,D]),he=(0,a.useMemo)(()=>{const e=new Set;return c.forEach(t=>{(t.Company||t.company)&&e.add(t.Company||t.company)}),h.forEach(t=>{(t.Company||t.company)&&e.add(t.Company||t.company)}),Array.from(e).sort()},[c,h]),me=(0,a.useMemo)(()=>{const e=new Set;return c.forEach(t=>{(t.Role||t.role)&&e.add(t.Role||t.role)}),Array.from(e).sort()},[c]),pe=()=>{M(null),q({name:"",email:"",role:"salesmanager",password:""}),F(!0)},fe=async e=>{e.preventDefault();try{const e={name:_.name,email:_.email,role:_.role};if(I)_.password&&(e.password=_.password),await tr(I.ID||I.id,e),ne("User updated successfully!","success");else{if(!_.password)return void ne("Password is required for new user","warning");e.password=_.password,await er(e),ne("User created successfully!","success")}F(!1),await ae()}catch(t){console.error("Error saving user:",t),ne(I?"Failed to update user":"Failed to create user","error")}},xe=()=>{U(null),B({address:"",type:"",rent:"",tenant:"",status:"Vacant"}),O(!0)},ve=async e=>{e.preventDefault();try{const e={address:V.address,type:V.type,rent:parseFloat(V.rent)||0,tenant:V.tenant,status:V.status};z?(await rr(z.ID||z.id,e),ne("Property updated successfully!","success")):(await sr(e),ne("Property created successfully!","success")),O(!1),await ae()}catch(t){console.error("Error saving property:",t),ne(z?"Failed to update property":"Failed to create property","error")}},ge=()=>(0,wt.jsx)("div",{className:"sa-overview-page",children:(0,wt.jsxs)("div",{className:"sa-overview-metrics",style:{width:"100%"},children:[(0,wt.jsxs)("div",{className:"sa-metric-card sa-metric-primary",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Companies"}),(0,wt.jsx)("p",{className:"sa-metric-value",children:(null===i||void 0===i?void 0:i.totalCompanies)||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Users"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===i||void 0===i?void 0:i.totalUsers)||c.length||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Properties"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===i||void 0===i?void 0:i.totalProperties)||h.length||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Revenue"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[((null===i||void 0===i?void 0:i.totalRevenue)||(null===p||void 0===p?void 0:p.totalRevenue)||0).toLocaleString()," FCFA"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Active Works"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===i||void 0===i?void 0:i.activeWorks)||x.filter(e=>"Active"===(e.Status||e.status)||"in_progress"===(e.Status||e.status)).length||0})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Pending Claims"}),(0,wt.jsx)("p",{className:"sa-metric-number",children:(null===i||void 0===i?void 0:i.pendingClaims)||0})]})]})}),ye=()=>(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Users"}),(0,wt.jsxs)("p",{children:[de.length," results found"]})]}),(0,wt.jsxs)("div",{className:"sa-clients-header-right",children:[(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:pe,children:[(0,wt.jsx)(Vt,{size:16}),"Add User"]}),(0,wt.jsxs)("div",{className:"sa-transactions-filters",style:{marginLeft:"12px"},children:[(0,wt.jsxs)("select",{value:N,onChange:e=>w(e.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",marginRight:"8px"},children:[(0,wt.jsx)("option",{value:"",children:"All Companies"}),he.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]}),(0,wt.jsxs)("select",{value:S,onChange:e=>k(e.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",marginRight:"8px"},children:[(0,wt.jsx)("option",{value:"",children:"All Roles"}),me.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]}),(0,wt.jsxs)("div",{className:"sa-search-input",children:[(0,wt.jsx)(Xt,{size:16}),(0,wt.jsx)("input",{type:"text",placeholder:"Search by name or email",value:C,onChange:e=>A(e.target.value)})]})]})]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Name"}),(0,wt.jsx)("th",{children:"Email"}),(0,wt.jsx)("th",{children:"Company"}),(0,wt.jsx)("th",{children:"Role"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsxs)("tbody",{children:[de.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Name||e.name})}),(0,wt.jsx)("td",{children:e.Email||e.email}),(0,wt.jsx)("td",{children:e.Company||e.company||"N/A"}),(0,wt.jsx)("td",{children:e.Role||e.role}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||e.status||"active").toLowerCase()),children:e.Status||e.status||"Active"})}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(e=>{M(e),q({name:e.Name||e.name||"",email:e.Email||e.email||"",role:e.Role||e.role||"salesmanager",password:""}),F(!0)})(e),title:"Edit",children:"\u270f\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(async e=>{if(window.confirm("Delete user ".concat(e.Name||e.name,"?")))try{await nr(e.ID||e.id),ne("User deleted successfully!","success"),await ae()}catch(t){console.error("Error deleting user:",t),ne("Failed to delete user","error")}})(e),title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})]},"user-".concat(e.ID||e.id||t))),0===de.length&&(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:7,className:"sa-table-empty",children:"No users found"})})]})]})}),(0,wt.jsx)(St,{isOpen:L,onClose:()=>F(!1),title:I?"Edit User":"Add User",children:(0,wt.jsxs)("form",{onSubmit:fe,className:"sa-form",children:[(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Name *"}),(0,wt.jsx)("input",{type:"text",value:_.name,onChange:e=>q(d(d({},_),{},{name:e.target.value})),required:!0})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Email *"}),(0,wt.jsx)("input",{type:"email",value:_.email,onChange:e=>q(d(d({},_),{},{email:e.target.value})),required:!0})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Role *"}),(0,wt.jsxs)("select",{value:_.role,onChange:e=>q(d(d({},_),{},{role:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"commercial",children:"Commercial"}),(0,wt.jsx)("option",{value:"technician",children:"Technician"}),(0,wt.jsx)("option",{value:"accounting",children:"Accounting"}),(0,wt.jsx)("option",{value:"admin",children:"Admin"}),(0,wt.jsx)("option",{value:"landlord",children:"Landlord"}),(0,wt.jsx)("option",{value:"salesmanager",children:"Sales Manager"}),(0,wt.jsx)("option",{value:"agency_director",children:"Agency Director"})]}),(0,wt.jsx)("small",{style:{color:"#6b7280",fontSize:"0.75rem",marginTop:"4px",display:"block"},children:"Company will be automatically set from your account"})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsxs)("label",{children:["Password ",I?"(leave blank to keep current)":"*"]}),(0,wt.jsx)("input",{type:"password",value:_.password,onChange:e=>q(d(d({},_),{},{password:e.target.value})),required:!I})]}),(0,wt.jsxs)("div",{className:"sa-form-actions",children:[(0,wt.jsx)("button",{type:"button",className:"sa-outline-button",onClick:()=>F(!1),children:"Cancel"}),(0,wt.jsxs)("button",{type:"submit",className:"sa-primary-cta",children:[I?"Update":"Create"," User"]})]})]})})]}),je=()=>(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsxs)("div",{className:"sa-clients-header",children:[(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Properties"}),(0,wt.jsxs)("p",{children:[ue.length," results found"]})]}),(0,wt.jsxs)("div",{className:"sa-clients-header-right",children:[(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:xe,children:[(0,wt.jsx)(Vt,{size:16}),"Add Property"]}),(0,wt.jsxs)("div",{className:"sa-transactions-filters",style:{marginLeft:"12px"},children:[(0,wt.jsxs)("select",{value:E,onChange:e=>P(e.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db",marginRight:"8px"},children:[(0,wt.jsx)("option",{value:"",children:"All Companies"}),he.map(e=>(0,wt.jsx)("option",{value:e,children:e},e))]}),(0,wt.jsxs)("select",{value:D,onChange:e=>T(e.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #d1d5db"},children:[(0,wt.jsx)("option",{value:"",children:"All Statuses"}),(0,wt.jsx)("option",{value:"Vacant",children:"Vacant"}),(0,wt.jsx)("option",{value:"Occupied",children:"Occupied"}),(0,wt.jsx)("option",{value:"Maintenance",children:"Maintenance"})]})]})]})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Address"}),(0,wt.jsx)("th",{children:"Company"}),(0,wt.jsx)("th",{children:"Type"}),(0,wt.jsx)("th",{children:"Rent"}),(0,wt.jsx)("th",{children:"Tenant"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{})]})}),(0,wt.jsxs)("tbody",{children:[ue.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Address||e.address})}),(0,wt.jsx)("td",{children:e.Company||e.company}),(0,wt.jsx)("td",{children:e.Type||e.type}),(0,wt.jsxs)("td",{children:[(e.Rent||e.rent||0).toLocaleString()," FCFA"]}),(0,wt.jsx)("td",{children:e.Tenant||e.tenant||"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||e.status||"vacant").toLowerCase()),children:e.Status||e.status||"Vacant"})}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:[(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(e=>{U(e),B({address:e.Address||e.address||"",type:e.Type||e.type||"",rent:e.Rent||e.rent||"",tenant:e.Tenant||e.tenant||"",status:e.Status||e.status||"Vacant"}),O(!0)})(e),title:"Edit",children:"\u270f\ufe0f"}),(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(async e=>{if(window.confirm("Delete property ".concat(e.Address||e.address,"?")))try{await lr(e.ID||e.id),ne("Property deleted successfully!","success"),await ae()}catch(t){console.error("Error deleting property:",t),ne("Failed to delete property","error")}})(e),title:"Delete",children:"\ud83d\uddd1\ufe0f"})]})]},"property-".concat(e.ID||e.id||t))),0===ue.length&&(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:8,className:"sa-table-empty",children:"No properties found"})})]})]})}),(0,wt.jsx)(St,{isOpen:R,onClose:()=>O(!1),title:z?"Edit Property":"Add Property",children:(0,wt.jsxs)("form",{onSubmit:ve,className:"sa-form",children:[(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Address *"}),(0,wt.jsx)("input",{type:"text",value:V.address,onChange:e=>B(d(d({},V),{},{address:e.target.value})),required:!0})]}),(0,wt.jsx)("div",{className:"sa-form-group",children:(0,wt.jsx)("small",{style:{color:"#6b7280",fontSize:"0.75rem",marginBottom:"8px",display:"block"},children:"Company will be automatically set from your account"})}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Type *"}),(0,wt.jsx)("input",{type:"text",value:V.type,onChange:e=>B(d(d({},V),{},{type:e.target.value})),required:!0})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Rent"}),(0,wt.jsx)("input",{type:"number",value:V.rent,onChange:e=>B(d(d({},V),{},{rent:e.target.value}))})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Tenant"}),(0,wt.jsx)("input",{type:"text",value:V.tenant,onChange:e=>B(d(d({},V),{},{tenant:e.target.value}))})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Status *"}),(0,wt.jsxs)("select",{value:V.status,onChange:e=>B(d(d({},V),{},{status:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"Vacant",children:"Vacant"}),(0,wt.jsx)("option",{value:"Occupied",children:"Occupied"}),(0,wt.jsx)("option",{value:"Maintenance",children:"Maintenance"})]})]}),(0,wt.jsxs)("div",{className:"sa-form-actions",children:[(0,wt.jsx)("button",{type:"button",className:"sa-outline-button",onClick:()=>O(!1),children:"Cancel"}),(0,wt.jsxs)("button",{type:"submit",className:"sa-primary-cta",children:[z?"Update":"Create"," Property"]})]})]})})]}),be=()=>(0,wt.jsxs)("div",{className:"sa-overview-page",children:[(0,wt.jsxs)("div",{className:"sa-section-card",children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsx)("h3",{children:"Financial Overview"}),(0,wt.jsx)("p",{children:"Revenue, expenses, and profit metrics"})]}),(0,wt.jsxs)("div",{className:"sa-overview-metrics",style:{width:"100%"},children:[(0,wt.jsxs)("div",{className:"sa-metric-card sa-metric-primary",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Revenue"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[((null===p||void 0===p?void 0:p.totalRevenue)||0).toLocaleString()," FCFA"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Expenses"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[((null===p||void 0===p?void 0:p.totalExpenses)||0).toLocaleString()," FCFA"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Net Profit"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[((null===p||void 0===p?void 0:p.netProfit)||0).toLocaleString()," FCFA"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Total Collections"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[((null===p||void 0===p?void 0:p.totalCollections)||0).toLocaleString()," FCFA"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Commission"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[((null===p||void 0===p?void 0:p.commission)||0).toLocaleString()," FCFA"]})]}),(0,wt.jsxs)("div",{className:"sa-metric-card",children:[(0,wt.jsx)("p",{className:"sa-metric-label",children:"Pending Payments"}),(0,wt.jsxs)("p",{className:"sa-metric-value",children:[((null===p||void 0===p?void 0:p.pendingPayments)||0).toLocaleString()," FCFA"]})]})]})]}),(0,wt.jsxs)("div",{className:"sa-section-card",style:{marginTop:"20px"},children:[(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsx)("h3",{children:"Landlord Payments"}),(0,wt.jsx)("p",{children:"Manage landlord payment approvals"})]}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"Landlord"}),(0,wt.jsx)("th",{children:"Building"}),(0,wt.jsx)("th",{children:"Net Amount"}),(0,wt.jsx)("th",{children:"Commission"}),(0,wt.jsx)("th",{children:"Date"}),(0,wt.jsx)("th",{children:"Status"}),(0,wt.jsx)("th",{children:"Actions"})]})}),(0,wt.jsxs)("tbody",{children:[j.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.landlord||e.Landlord})}),(0,wt.jsx)("td",{children:e.building||e.Building}),(0,wt.jsxs)("td",{children:[(e.netAmount||e.NetAmount||0).toLocaleString()," FCFA"]}),(0,wt.jsxs)("td",{children:[(e.commission||e.Commission||0).toLocaleString()," FCFA"]}),(0,wt.jsx)("td",{children:e.date||e.Date?new Date(e.date||e.Date).toLocaleDateString():"N/A"}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.status||e.Status||"pending").toLowerCase()),children:e.status||e.Status||"Pending"})}),(0,wt.jsxs)("td",{className:"sa-row-actions",children:["approved"!==(e.status||e.Status||"").toLowerCase()&&(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(async e=>{try{await ur(e),ne("Landlord payment approved successfully!","success"),await ae()}catch(t){console.error("Error approving landlord payment:",t),ne(t.message||"Failed to approve payment","error")}})(e.id||e.ID),title:"Approve",style:{color:"#16a34a",marginRight:"8px"},children:"\u2713"}),"revoked"!==(e.status||e.Status||"").toLowerCase()&&(0,wt.jsx)("button",{className:"sa-icon-button",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to revoke this payment?"))try{await hr(e),ne("Landlord payment revoked successfully!","success"),await ae()}catch(t){console.error("Error revoking landlord payment:",t),ne(t.message||"Failed to revoke payment","error")}})(e.id||e.ID),title:"Revoke",style:{color:"#dc2626"},children:"\u2715"})]})]},"landlord-payment-".concat(e.id||e.ID||t))),0===j.length&&(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:8,className:"sa-table-empty",children:"No landlord payments found"})})]})]})})]}),(0,wt.jsx)("div",{className:"sa-section-card",style:{marginTop:"20px"},children:(0,wt.jsxs)("div",{className:"sa-section-header",children:[(0,wt.jsx)("h3",{children:"Subscription Payment"}),(0,wt.jsx)("p",{children:"Pay for your white-label monthly subscription"}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:()=>Z(!0),style:{marginTop:"12px"},children:[(0,wt.jsx)(pa,{size:16}),"Pay Subscription"]})]})}),(0,wt.jsx)(St,{isOpen:Y,onClose:()=>Z(!1),title:"Pay Subscription",children:(0,wt.jsxs)("form",{onSubmit:ie,className:"sa-form",children:[(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Amount *"}),(0,wt.jsx)("input",{type:"number",step:"0.01",value:ee.amount,onChange:e=>te(d(d({},ee),{},{amount:e.target.value})),required:!0,placeholder:"299.99"})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Currency *"}),(0,wt.jsxs)("select",{value:ee.currency,onChange:e=>te(d(d({},ee),{},{currency:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"USD",children:"USD"}),(0,wt.jsx)("option",{value:"EUR",children:"EUR"}),(0,wt.jsx)("option",{value:"FCFA",children:"FCFA"})]})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Reference *"}),(0,wt.jsx)("input",{type:"text",value:ee.reference,onChange:e=>te(d(d({},ee),{},{reference:e.target.value})),required:!0,placeholder:"PAY-2024-001"})]}),(0,wt.jsxs)("div",{className:"sa-form-group",children:[(0,wt.jsx)("label",{children:"Status *"}),(0,wt.jsxs)("select",{value:ee.status,onChange:e=>te(d(d({},ee),{},{status:e.target.value})),required:!0,children:[(0,wt.jsx)("option",{value:"completed",children:"Completed"}),(0,wt.jsx)("option",{value:"pending",children:"Pending"}),(0,wt.jsx)("option",{value:"failed",children:"Failed"})]})]}),(0,wt.jsxs)("div",{className:"sa-form-actions",children:[(0,wt.jsx)("button",{type:"button",className:"sa-outline-button",onClick:()=>Z(!1),children:"Cancel"}),(0,wt.jsx)("button",{type:"submit",className:"sa-primary-cta",children:"Process Payment"})]})]})})]}),Ne=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e){case"overview":default:return ge();case"users":return ye();case"properties":return je();case"accounting":return be();case"works":return(0,wt.jsxs)("div",{className:"sa-clients-page",children:[(0,wt.jsx)("div",{className:"sa-clients-header",children:(0,wt.jsxs)("div",{children:[(0,wt.jsx)("h2",{children:"Works"}),(0,wt.jsxs)("p",{children:[x.length," work orders found"]})]})}),(0,wt.jsx)("div",{className:"sa-table-wrapper",children:(0,wt.jsxs)("table",{className:"sa-table",children:[(0,wt.jsx)("thead",{children:(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("th",{children:"No"}),(0,wt.jsx)("th",{children:"ID"}),(0,wt.jsx)("th",{children:"Company"}),(0,wt.jsx)("th",{children:"Property"}),(0,wt.jsx)("th",{children:"Status"})]})}),(0,wt.jsxs)("tbody",{children:[x.map((e,t)=>(0,wt.jsxs)("tr",{children:[(0,wt.jsx)("td",{children:t+1}),(0,wt.jsx)("td",{children:e.ID||e.id}),(0,wt.jsx)("td",{className:"sa-cell-main",children:(0,wt.jsx)("span",{className:"sa-cell-title",children:e.Company||e.company})}),(0,wt.jsx)("td",{children:e.Property||e.property}),(0,wt.jsx)("td",{children:(0,wt.jsx)("span",{className:"sa-status-pill ".concat((e.Status||e.status||"pending").toLowerCase().replace("_","-")),children:e.Status||e.status||"Pending"})})]},"work-".concat(e.ID||e.id||t))),0===x.length&&(0,wt.jsx)("tr",{children:(0,wt.jsx)("td",{colSpan:5,className:"sa-table-empty",children:"No works found"})})]})]})})]});case"messages":return(0,wt.jsx)("div",{className:"sa-chat-page",children:(0,wt.jsxs)("div",{className:"sa-chat-layout",children:[(0,wt.jsxs)("div",{className:"sa-chat-list",children:[(0,wt.jsx)("h3",{children:"Users"}),(0,wt.jsxs)("ul",{children:[re.map(e=>{const t=e.userId===H;return(0,wt.jsx)("li",{className:t?"active":"",onClick:()=>se(e.userId),children:(0,wt.jsxs)("div",{className:"sa-cell-main",children:[(0,wt.jsx)("span",{className:"sa-cell-title",children:e.name||"User"}),(0,wt.jsx)("span",{className:"sa-cell-sub",children:e.email||""}),"superadmin"===e.role&&(0,wt.jsx)("span",{style:{display:"inline-block",background:"#fef3c7",color:"#92400e",borderRadius:"4px",padding:"2px 6px",fontSize:"0.65rem",marginTop:"4px"},children:"Super Admin"})]})},"chat-user-".concat(e.userId))}),0===re.length&&(0,wt.jsx)("li",{style:{padding:"20px",textAlign:"center",color:"#9ca3af"},children:"No users available"})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-conversation",children:[(0,wt.jsxs)("div",{className:"sa-chat-header",children:[(0,wt.jsx)("h3",{children:"Messages"}),H&&(0,wt.jsxs)("span",{className:"sa-chat-subtitle",children:["Chat with"," ",(re.find(e=>e.userId===H)||{}).name||"User"]})]}),(0,wt.jsxs)("div",{className:"sa-chat-messages",children:[$.map((e,t)=>{const n=e.content||e.Content||"",a=e.createdAt||e.CreatedAt||"",s=e.fromUserId||e.FromUserId,r=e.id||e.ID||t,l=localStorage.getItem("user");let i=!1;if(l)try{const e=JSON.parse(l),t=e.id||e.ID;i=String(s)===String(t)}catch(Lr){}return(0,wt.jsxs)("div",{className:"sa-chat-bubble ".concat(i?"outgoing":"incoming"),children:[(0,wt.jsx)("p",{children:n}),(0,wt.jsx)("span",{className:"sa-chat-meta",children:a?new Date(a).toLocaleString():""})]},"msg-".concat(r))}),0===$.length&&(0,wt.jsx)("div",{className:"sa-table-empty",children:"Select a conversation on the left to start chatting."})]}),(0,wt.jsxs)("div",{className:"sa-chat-input-row",children:[(0,wt.jsx)("input",{type:"text",placeholder:"Type a message...",value:X,onChange:e=>G(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),le())},disabled:!H}),(0,wt.jsxs)("button",{className:"sa-primary-cta",onClick:le,disabled:!H,children:[(0,wt.jsx)(_n,{size:16}),"Send"]})]})]}),(0,wt.jsxs)("div",{className:"sa-chat-details",children:[(0,wt.jsx)("h4",{children:"Contact Details"}),H?(()=>{const e=re.find(e=>e.userId===H)||{};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Name:"})," ",e.name||"User"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Email:"})," ",e.email||"N/A"]}),(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Role:"})," ",e.role||"N/A"]}),e.company&&(0,wt.jsxs)("p",{children:[(0,wt.jsx)("strong",{children:"Company:"})," ",e.company]})]})})():(0,wt.jsx)("p",{children:"Select a user to view details."})]})]})});case"settings":return(0,wt.jsx)("div",{className:"embedded-settings",children:(0,wt.jsx)(hn,{})})}};return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsx)(Yt,{brand:{name:"SAAF IMMO",caption:"Agency Director",logo:"SAAF",logoImage:"".concat("","/download.jpeg")},menu:ce,activeId:e,onActiveChange:t,onLogout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),window.location.href="/"},children:e=>{let{activeId:t}=e;return(0,wt.jsx)("div",{className:"content-body",children:Ne(t)})}}),(0,wt.jsx)("div",{className:"notifications-container",children:r.map(e=>(0,wt.jsxs)("div",{className:"notification notification-".concat(e.type),children:[(0,wt.jsx)("span",{children:e.message}),(0,wt.jsx)("button",{onClick:()=>l(t=>t.filter(t=>t.id!==e.id)),children:"\xd7"})]},"notification-".concat(e.id)))})]})},gr=Tt("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),yr=()=>{const e=[{title:"Tenant Dashboard",description:"Manage your rental experience, upload documents, and track payments",icon:wn,path:"/tenant",color:"#4299e1"},{title:"Landlord Dashboard",description:"Manage properties, tenants, and track rental income",icon:zt,path:"/landlord",color:"#38a169"},{title:"Sales Dashboard",description:"Manage property listings, visits, and client relationships",icon:Rt,path:"/sales",color:"#d69e2e"},{title:"Administrative Dashboard",description:"Handle document verification and administrative tasks",icon:Ut,path:"/administrative",color:"#e53e3e"}];return(0,wt.jsxs)("div",{className:"home-page",children:[(0,wt.jsx)("div",{className:"hero-section",children:(0,wt.jsxs)("div",{className:"hero-content",children:[(0,wt.jsx)("h1",{children:"Real Estate Management Dashboard"}),(0,wt.jsx)("p",{children:"Streamline your property management with our comprehensive dashboard system"}),(0,wt.jsxs)("div",{className:"hero-actions",children:[(0,wt.jsxs)(xt,{to:"/login",className:"btn-primary",children:["Get Started",(0,wt.jsx)(gr,{size:20})]}),(0,wt.jsx)(xt,{to:"/tenant",className:"btn-secondary",children:"View Demo"})]})]})}),(0,wt.jsx)("div",{className:"features-section",children:(0,wt.jsxs)("div",{className:"container",children:[(0,wt.jsx)("h2",{children:"Choose Your Dashboard"}),(0,wt.jsx)("p",{children:"Select the dashboard that matches your role in the property management system"}),(0,wt.jsx)("div",{className:"dashboard-grid",children:e.map((e,t)=>{const n=e.icon;return(0,wt.jsxs)(xt,{to:e.path,className:"dashboard-card",children:[(0,wt.jsx)("div",{className:"card-icon",style:{backgroundColor:e.color},children:(0,wt.jsx)(n,{size:32})}),(0,wt.jsxs)("div",{className:"card-content",children:[(0,wt.jsx)("h3",{children:e.title}),(0,wt.jsx)("p",{children:e.description})]}),(0,wt.jsx)("div",{className:"card-arrow",children:(0,wt.jsx)(gr,{size:20})})]},t)})})]})}),(0,wt.jsx)("div",{className:"info-section",children:(0,wt.jsx)("div",{className:"container",children:(0,wt.jsxs)("div",{className:"info-grid",children:[(0,wt.jsxs)("div",{className:"info-card",children:[(0,wt.jsx)("h3",{children:"Document Management"}),(0,wt.jsx)("p",{children:"Upload and manage KYC documents and essential contracts with our secure system"})]}),(0,wt.jsxs)("div",{className:"info-card",children:[(0,wt.jsx)("h3",{children:"Property Listings"}),(0,wt.jsx)("p",{children:"Manage property listings, schedule visits, and track client interactions"})]}),(0,wt.jsxs)("div",{className:"info-card",children:[(0,wt.jsx)("h3",{children:"Financial Tracking"}),(0,wt.jsx)("p",{children:"Track payments, generate reports, and manage financial records"})]}),(0,wt.jsxs)("div",{className:"info-card",children:[(0,wt.jsx)("h3",{children:"Automation"}),(0,wt.jsx)("p",{children:"Automate workflows, generate contracts, and streamline processes"})]})]})})})]})},jr=Tt("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),br=Tt("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Nr=Tt("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),wr=e=>{let{onLogin:t}=e;const n="".concat("","/pexels-godless-humanist-739743-1587947.jpg"),[s,r]=(0,a.useState)({email:"",password:""}),[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),m="".concat(sn.BASE_URL,"/api/login"),p=e=>{const{name:t,value:n}=e.target;r(e=>d(d({},e),{},{[t]:n})),u&&h("")};return(0,wt.jsx)("div",{className:"login-page",children:(0,wt.jsxs)("div",{className:"login-layout",children:[(0,wt.jsx)("div",{className:"login-left",children:(0,wt.jsxs)("div",{className:"login-content",children:[(0,wt.jsx)("div",{className:"login-brand",children:(0,wt.jsx)("div",{className:"brand-mark",children:(0,wt.jsx)("img",{src:"".concat("","/download.jpeg"),alt:"SAAF IMMO"})})}),(0,wt.jsxs)("div",{className:"login-header",children:[(0,wt.jsx)("h1",{children:"Login"}),(0,wt.jsx)("p",{children:"Sign in to manage properties, tenants, and daily operations."})]}),(0,wt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),h("");try{var n,a;const e=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),i=await e.text();let o;try{o=i?JSON.parse(i):{}}catch(l){o={error:(null===i||void 0===i?void 0:i.slice(0,200))||"Server returned non-JSON response"}}if(e.ok&&null!==(n=o)&&void 0!==n&&n.token&&null!==(a=o)&&void 0!==a&&a.user)localStorage.setItem("user",JSON.stringify(o.user)),localStorage.setItem("token",o.token),t(o.user);else{var r;const t=(null===(r=o)||void 0===r?void 0:r.error)||"Login failed (HTTP ".concat(e.status,")");h(t)}}catch(i){console.error("Login error:",i),h("Network error. Please try again.")}finally{c(!1)}},className:"login-form",children:[u&&(0,wt.jsx)("div",{className:"error-message",children:u}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,wt.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:p,placeholder:"Enter your email",required:!0,disabled:o})]}),(0,wt.jsxs)("div",{className:"form-group",children:[(0,wt.jsx)("label",{htmlFor:"password",children:"Password"}),(0,wt.jsxs)("div",{className:"password-input",children:[(0,wt.jsx)("input",{type:l?"text":"password",id:"password",name:"password",value:s.password,onChange:p,placeholder:"Enter your password",required:!0,disabled:o}),(0,wt.jsx)("button",{type:"button",className:"password-toggle",onClick:()=>i(!l),disabled:o,children:l?(0,wt.jsx)(jr,{size:20}):(0,wt.jsx)(br,{size:20})})]})]}),(0,wt.jsxs)("div",{className:"login-actions",children:[(0,wt.jsx)("button",{type:"submit",className:"login-button",disabled:o,children:o?"Signing in...":"Sign In"}),(0,wt.jsx)("div",{className:"support-links",children:(0,wt.jsx)("button",{type:"button",className:"link-button",children:"Forgot password?"})})]})]}),(0,wt.jsx)("div",{className:"login-footer",children:(0,wt.jsx)("p",{children:"Don't have an account? Contact your system administrator."})})]})}),(0,wt.jsxs)("div",{className:"login-right",style:{backgroundImage:"url(".concat(n,")")},children:[(0,wt.jsx)("div",{className:"login-overlay"}),(0,wt.jsxs)("div",{className:"login-hero",children:[(0,wt.jsx)("span",{className:"hero-tagline",children:"Start planning your journey"}),(0,wt.jsx)("h2",{children:"Your Condominium Management Solution"}),(0,wt.jsx)("p",{children:"Manage your condominium with ease. Track performance across properties, coordinate teams, and keep every stakeholder informed in real-time."}),(0,wt.jsxs)("button",{type:"button",className:"hero-button",children:[(0,wt.jsx)(Nr,{size:18}),"Watch overview"]})]})]})]})})},Sr=()=>(0,wt.jsx)("div",{className:"checkout-page",children:(0,wt.jsxs)("div",{className:"checkout-container",children:[(0,wt.jsx)("h1",{children:"Checkout"}),(0,wt.jsx)("p",{children:"Checkout page content coming soon..."})]})}),kr=()=>(0,wt.jsx)("div",{className:"receipt-page",children:(0,wt.jsxs)("div",{className:"receipt-container",children:[(0,wt.jsx)("h1",{children:"Receipt"}),(0,wt.jsx)("p",{children:"Receipt page content coming soon..."})]})}),Cr=Tt("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Ar=Tt("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Er=Tt("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),Pr=()=>{const[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)([{id:1,text:"Hello! How can I help you today?",sender:"support",timestamp:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}]),[r,l]=(0,a.useState)(""),i=(0,a.useRef)(null);(0,a.useEffect)(()=>{(()=>{var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[n]);return(0,wt.jsxs)(wt.Fragment,{children:[(0,wt.jsxs)("div",{className:"chat-bubble ".concat(e?"open":""),onClick:()=>t(!e),children:[e?(0,wt.jsx)(Wt,{size:24}):(0,wt.jsx)(_n,{size:24}),!e&&(0,wt.jsx)("span",{className:"notification-dot"})]}),e&&(0,wt.jsxs)("div",{className:"chat-window",children:[(0,wt.jsxs)("div",{className:"chat-header",children:[(0,wt.jsxs)("div",{className:"chat-header-info",children:[(0,wt.jsx)("h4",{children:"Support Chat"}),(0,wt.jsx)("span",{className:"status-online",children:"Online"})]}),(0,wt.jsxs)("div",{className:"chat-header-actions",children:[(0,wt.jsx)("button",{className:"action-btn",children:(0,wt.jsx)(Cr,{size:16})}),(0,wt.jsx)("button",{className:"action-btn",children:(0,wt.jsx)(Ar,{size:16})}),(0,wt.jsx)("button",{className:"action-btn",children:(0,wt.jsx)(Er,{size:16})})]})]}),(0,wt.jsxs)("div",{className:"chat-messages",children:[n.map(e=>(0,wt.jsx)("div",{className:"message ".concat(e.sender),children:(0,wt.jsxs)("div",{className:"message-content",children:[(0,wt.jsx)("p",{children:e.text}),(0,wt.jsx)("span",{className:"message-time",children:e.timestamp})]})},e.id)),(0,wt.jsx)("div",{ref:i})]}),(0,wt.jsxs)("form",{className:"chat-input",onSubmit:e=>{if(e.preventDefault(),r.trim()){const e={id:n.length+1,text:r,sender:"user",timestamp:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};s([...n,e]),l(""),setTimeout(()=>{const e={id:n.length+2,text:"Thank you for your message. Our support team will get back to you shortly.",sender:"support",timestamp:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};s(t=>[...t,e])},1e3)}},children:[(0,wt.jsx)("input",{type:"text",placeholder:"Type your message...",value:r,onChange:e=>l(e.target.value),className:"message-input"}),(0,wt.jsx)("button",{type:"submit",className:"send-button",children:(0,wt.jsx)(It,{size:16})})]})]})]})};const Dr=function(){const[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{const e=localStorage.getItem("user"),n=localStorage.getItem("token");if(e&&n)try{t(JSON.parse(e))}catch(a){console.error("Error parsing stored user:",a),localStorage.removeItem("user"),localStorage.removeItem("token")}s(!1)},[]);const r=e=>{switch(e){case"tenant":default:return"/tenant";case"commercial":return"/sales";case"admin":return"/administrative";case"accounting":return"/accounting";case"salesmanager":return"/sales-manager";case"technician":return"/technician";case"landlord":return"/landlord";case"superadmin":return"/super-admin";case"agency_director":return"/agency-director"}},l=e=>{let{children:t}=e;return(0,wt.jsxs)("div",{className:"dashboard-layout",children:[(0,wt.jsx)("div",{className:"main-content",children:t}),(0,wt.jsx)(Pr,{})]})},i=t=>{let{children:n,requiredRole:a}=t;return e?a&&e.role!==a?(0,wt.jsx)(Le,{to:r(e.role),replace:!0}):n:(0,wt.jsx)(Le,{to:"/",replace:!0})};return n?(0,wt.jsxs)("div",{className:"loading-screen",children:[(0,wt.jsx)("div",{className:"loading-spinner"}),(0,wt.jsx)("p",{children:"Loading..."})]}):(0,wt.jsx)(pt,{children:(0,wt.jsx)("div",{className:"App",children:(0,wt.jsxs)(Oe,{children:[(0,wt.jsx)(Fe,{path:"/",element:e?(0,wt.jsx)(Le,{to:r(e.role),replace:!0}):(0,wt.jsx)(wr,{onLogin:e=>{t(e)}})}),(0,wt.jsx)(Fe,{path:"/home",element:(0,wt.jsx)(yr,{})}),(0,wt.jsx)(Fe,{path:"/checkout",element:(0,wt.jsx)(Sr,{})}),(0,wt.jsx)(Fe,{path:"/receipt",element:(0,wt.jsx)(kr,{})}),(0,wt.jsx)(Fe,{path:"/tenant",element:(0,wt.jsx)(i,{requiredRole:"tenant",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(jn,{})})})}),(0,wt.jsx)(Fe,{path:"/sales",element:(0,wt.jsx)(i,{requiredRole:"commercial",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(Un,{})})})}),(0,wt.jsx)(Fe,{path:"/administrative",element:(0,wt.jsx)(i,{requiredRole:"admin",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(ha,{})})})}),(0,wt.jsx)(Fe,{path:"/accounting",element:(0,wt.jsx)(i,{requiredRole:"accounting",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(Ea,{})})})}),(0,wt.jsx)(Fe,{path:"/sales-manager",element:(0,wt.jsx)(i,{requiredRole:"salesmanager",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(Ja,{})})})}),(0,wt.jsx)(Fe,{path:"/technician",element:(0,wt.jsx)(i,{requiredRole:"technician",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(is,{})})})}),(0,wt.jsx)(Fe,{path:"/landlord",element:(0,wt.jsx)(i,{requiredRole:"landlord",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(As,{})})})}),(0,wt.jsx)(Fe,{path:"/system",element:(0,wt.jsx)(i,{requiredRole:"superadmin",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(Ds,{})})})}),(0,wt.jsx)(Fe,{path:"/super-admin",element:(0,wt.jsx)(i,{requiredRole:"superadmin",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(Xs,{})})})}),(0,wt.jsx)(Fe,{path:"/agency-director",element:(0,wt.jsx)(i,{requiredRole:"agency_director",children:(0,wt.jsx)(l,{children:(0,wt.jsx)(vr,{})})})}),(0,wt.jsx)(Fe,{path:"/settings",element:(0,wt.jsx)(i,{children:(0,wt.jsx)(l,{children:(0,wt.jsx)(hn,{})})})}),(0,wt.jsx)(Fe,{path:"*",element:(0,wt.jsx)(Le,{to:"/",replace:!0})})]})})})},Tr=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:a,getFCP:s,getLCP:r,getTTFB:l}=t;n(e),a(e),s(e),r(e),l(e)})};s.createRoot(document.getElementById("root")).render((0,wt.jsx)(a.StrictMode,{children:(0,wt.jsx)(Dr,{})})),Tr()})();
//# sourceMappingURL=main.744e7966.js.map